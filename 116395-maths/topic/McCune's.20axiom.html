---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/McCune's.20axiom.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html">McCune's axiom</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="246741383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246741383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246741383">(Jul 21 2021 at 16:11)</a>:</h4>
<p>I'm typing lecture notes on basic algebra and I wanted to warn my readers that going too far with axiom optimization can lead to madness. I'm trying to quote one example of a single-axiom definition of groups, and I wanted to see whether there was anyway to write a proof there (I do have some masochistic students). Most papers on this topic seem to simply quote some dead specialized software, but   <a href="https://www.imo.universite-paris-saclay.fr/~pmassot/mccune.pdf">this paper</a> has something that claims to be a proof on Page 10. Is anyone able to decipher that page? This should be pretty easy to formalize if it is true (we could even have that in the archive folder of mathlib).</p>



<a name="246744052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744052">(Jul 21 2021 at 16:31)</a>:</h4>
<p>that looks like a fun project but I bet that the easiest way to do it is to actually fire up some of that ATP software and let it do it itself.</p>



<a name="246744301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744301">(Jul 21 2021 at 16:33)</a>:</h4>
<p>All this stuff was found by an ATP... which then bit-rot.  And all those papers replace most proofs with "the reader should fire up our ATP".</p>



<a name="246744508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744508">(Jul 21 2021 at 16:35)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span>
  <span class="kd">by</span> <span class="n">group</span> <span class="c1">-- fails</span>
</code></pre></div>
<p>I failed to do the easy way :-)</p>



<a name="246744564"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744564" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744564">(Jul 21 2021 at 16:35)</a>:</h4>
<p>There are about 10 rewrite lemmas due to Knuth and Bendix which are supposed to solve that problem, right?</p>



<a name="246744576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744576">(Jul 21 2021 at 16:35)</a>:</h4>
<p>Hey, this is not meant to fail.</p>



<a name="246744592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744592">(Jul 21 2021 at 16:35)</a>:</h4>
<p>then maybe I made a typo</p>



<a name="246744676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744676">(Jul 21 2021 at 16:36)</a>:</h4>
<p>I did!</p>



<a name="246744684"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744684" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744684">(Jul 21 2021 at 16:36)</a>:</h4>
<p>I did it on paper.</p>



<a name="246744697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744697">(Jul 21 2021 at 16:36)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span>
  <span class="kd">by</span> <span class="n">group</span>
</code></pre></div>



<a name="246744714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744714">(Jul 21 2021 at 16:36)</a>:</h4>
<p>the other direction is left as an exercise</p>



<a name="246744755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744755">(Jul 21 2021 at 16:36)</a>:</h4>
<p>Indeed that's not the correct relation</p>



<a name="246744822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744822">(Jul 21 2021 at 16:37)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span>
  <span class="kd">by</span> <span class="n">group</span> <span class="c1">-- works!</span>
</code></pre></div>



<a name="246744893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744893">(Jul 21 2021 at 16:38)</a>:</h4>
<p>I'm late but my super crappy internet connection is showing me messages late.</p>



<a name="246744940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744940">(Jul 21 2021 at 16:38)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span>

<span class="kd">example</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="o">:</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span>
  <span class="kd">by</span> <span class="n">group</span>

<span class="kd">example</span> <span class="o">[</span><span class="n">has_mul</span> <span class="n">G</span><span class="o">]</span> <span class="o">[</span><span class="n">has_inv</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="o">:</span> <span class="n">G</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">)</span> <span class="o">:</span>
  <span class="n">group</span> <span class="n">G</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>



<a name="246744946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744946">(Jul 21 2021 at 16:38)</a>:</h4>
<p>Here's a setup. I failed on the first paramodulation step:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra.group.basic</span>
<span class="kd">noncomputable theory</span>

<span class="kd">class</span> <span class="n">mccune_group</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">has_mul</span> <span class="n">α</span><span class="o">,</span> <span class="n">has_inv</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">nonemp</span> <span class="o">:</span> <span class="n">nonempty</span> <span class="n">α</span><span class="o">)</span>
<span class="o">(</span><span class="n">mccune</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span><span class="o">)</span>

<span class="kn">namespace</span> <span class="n">mccune_group</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">mccune_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="n">w</span> <span class="n">v</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>
<span class="kd">lemma</span> <span class="n">l5</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">mccune</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span>
<span class="kd">lemma</span> <span class="n">l7</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">((((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">l5</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">l5</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="n">u</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span>
  <span class="c1">-- ???</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">has_one</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">⟨</span><span class="k">let</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">classical.choice</span> <span class="o">(</span><span class="bp">@</span><span class="n">nonemp</span> <span class="n">α</span> <span class="n">_</span><span class="o">)</span> <span class="k">in</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">⟩</span>
<span class="kd">lemma</span> <span class="n">mul_assoc</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
<span class="kd">lemma</span> <span class="n">one_mul</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span> <span class="gr">sorry</span>
<span class="kd">lemma</span> <span class="n">mul_one</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span> <span class="gr">sorry</span>
<span class="kd">lemma</span> <span class="n">mul_left_inv</span> <span class="o">:</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="gr">sorry</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">group</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mul</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">*</span><span class="o">),</span> <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="n">mul_assoc</span><span class="o">,</span>
  <span class="n">one</span> <span class="o">:=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">one_mul</span> <span class="o">:=</span> <span class="n">one_mul</span><span class="o">,</span> <span class="n">mul_one</span> <span class="o">:=</span> <span class="n">mul_one</span><span class="o">,</span>
  <span class="n">inv</span> <span class="o">:=</span> <span class="n">has_inv.inv</span><span class="o">,</span> <span class="n">mul_left_inv</span> <span class="o">:=</span> <span class="n">mul_left_inv</span> <span class="o">}</span>
</code></pre></div>



<a name="246744978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246744978" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246744978">(Jul 21 2021 at 16:38)</a>:</h4>
<p>Beware  I think the other direction has an implicit assumption that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span> is not empty.</p>



<a name="246745033"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745033" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745033">(Jul 21 2021 at 16:39)</a>:</h4>
<p>for sure!</p>



<a name="246745050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745050">(Jul 21 2021 at 16:39)</a>:</h4>
<p>i thought all G had to have a 1</p>



<a name="246745072"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745072" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745072">(Jul 21 2021 at 16:39)</a>:</h4>
<p>didn't know the rng debate went past ring theory</p>



<a name="246745085"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745085" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745085">(Jul 21 2021 at 16:39)</a>:</h4>
<p>all groups have a 1, but we're trying to prove something is a group</p>



<a name="246745093"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745093" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745093">(Jul 21 2021 at 16:39)</a>:</h4>
<p>And letting the other direction as an exercise is what I intend to do, but I'd like to have the answer somewhere.</p>



<a name="246745243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745243">(Jul 21 2021 at 16:40)</a>:</h4>
<p>Eric, one of the steps in the proof is meant to be that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mi>y</mi><mo separator="true">,</mo><mi>x</mi><msup><mi>x</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mi>y</mi><msup><mi>y</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\forall x y, xx^{-1} = yy^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord">∀</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> and then, assuming <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span> is not empty, this common value is defined to be <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>.</p>



<a name="246745562"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745562" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745562">(Jul 21 2021 at 16:42)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> if only we could see 6!</p>



<a name="246745641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745641">(Jul 21 2021 at 16:43)</a>:</h4>
<p>The proof says that 7 is obtained by paramodulation of 5 into 5. I challenge folks to figure out what that means</p>



<a name="246745729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745729">(Jul 21 2021 at 16:43)</a>:</h4>
<p>I decided it meant substitution of 5 into 5</p>



<a name="246745813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745813">(Jul 21 2021 at 16:44)</a>:</h4>
<p>Yes, this is where I arrived and got stuck.</p>



<a name="246745829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246745829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246745829">(Jul 21 2021 at 16:44)</a>:</h4>
<p>Perhaps the author knew that any sane person would have stopped reading by this line so he could write what he liked</p>



<a name="246746190"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246746190" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246746190">(Jul 21 2021 at 16:47)</a>:</h4>
<p>If you have <code>\all x, l x = r x</code> and <code>\all y, P y</code>, then paramodulation of the first into the second should mean instantiating both to <code>l a = r a</code> and <code>P b</code>, such that <code>l a</code> is a subterm of <code>P b</code>, i.e. <code>P b = Q (l a)</code>, resulting in the theorem <code>Q (r a)</code>. The non obvious parts are what <code>a</code>, <code>b</code> and <code>Q</code> should be chosen to be such that <code>Q (r a)</code> is the theorem you want</p>



<a name="246746259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246746259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246746259">(Jul 21 2021 at 16:47)</a>:</h4>
<p>(5) has 7 variables on the LHS, and (7) has 9, but there's no way you can rewrite 5 into itself to make the number of variables only go up by 2</p>



<a name="246746538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246746538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246746538">(Jul 21 2021 at 16:49)</a>:</h4>
<p>oh I see, you can first make the number go up by 8 and then down by 6</p>



<a name="246746621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246746621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246746621">(Jul 21 2021 at 16:49)</a>:</h4>
<p>and the "up by 8" equation is missing line 6</p>



<a name="246746784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246746784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246746784">(Jul 21 2021 at 16:50)</a>:</h4>
<p>Yeah when I first heard of the McCune theorem I thought that the first few steps must be gigantic because nothing cancels for a while</p>



<a name="246746929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246746929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246746929">(Jul 21 2021 at 16:51)</a>:</h4>
<p>I can feel I only need to wait a little longer and Mario and Kevin will do it for me. I <em>love</em> this place.</p>



<a name="246747005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747005">(Jul 21 2021 at 16:52)</a>:</h4>
<p>I hope it gets easier than this first line!</p>



<a name="246747046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747046">(Jul 21 2021 at 16:52)</a>:</h4>
<p>maybe we will need OTTER's help after all</p>



<a name="246747102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747102">(Jul 21 2021 at 16:53)</a>:</h4>
<p>plot twist: OTTER was buggy and no one noticed</p>



<a name="246747132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747132">(Jul 21 2021 at 16:53)</a>:</h4>
<p>Good luck resurrecting OTTER. I think you'll do it faster by hand + Lean.</p>



<a name="246747289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747289">(Jul 21 2021 at 16:54)</a>:</h4>
<p>Mario, I'm taking it that here that our <code>∀ y, P y</code> is <code>rfl</code>?</p>



<a name="246747297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747297" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747297">(Jul 21 2021 at 16:54)</a>:</h4>
<p>surely we can just ask prover9 to do this</p>



<a name="246747464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747464">(Jul 21 2021 at 16:55)</a>:</h4>
<p>Good luck resurrecting prover9 then.</p>



<a name="246747499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747499">(Jul 21 2021 at 16:55)</a>:</h4>
<p>this is also dead?? These guys must use <em>something</em>?</p>



<a name="246747693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747693">(Jul 21 2021 at 16:57)</a>:</h4>
<p>It was last updated in 2009, and it doesn't run here, even on a computer that still has python2 installed.</p>



<a name="246747745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747745">(Jul 21 2021 at 16:57)</a>:</h4>
<p>Maybe McCune died, or he got bored with this kind of research.</p>



<a name="246747761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747761">(Jul 21 2021 at 16:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/116395-maths/topic/McCune's.20axiom/near/246747289">said</a>:</p>
<blockquote>
<p>Mario, I'm taking it that here that our <code>∀ y, P y</code> is <code>rfl</code>?</p>
</blockquote>
<p>No, <code>\all x, l x = r x</code> and <code>\all y, P y</code> are two previously proven steps, specified as inputs. In the case of step 7 it is using step 5 for both</p>



<a name="246747866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747866" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747866">(Jul 21 2021 at 16:58)</a>:</h4>
<p><code>P y</code> is an equality too, you are substituting into both sides of it (but the fact it's an equality doesn't matter much since you are only doing equalish stuff for the other lemma)</p>



<a name="246747917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246747917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246747917">(Jul 21 2021 at 16:58)</a>:</h4>
<p>There is a chance that step 6 has length 100, right?</p>



<a name="246748046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246748046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246748046">(Jul 21 2021 at 16:59)</a>:</h4>
<p>I think step 6 turned out not to be useful</p>



<a name="246748101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246748101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246748101">(Jul 21 2021 at 16:59)</a>:</h4>
<p>the numbering is gapped because the theorem was cleaned up after the fact</p>



<a name="246748596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246748596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246748596">(Jul 21 2021 at 17:02)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">...</span>
<span class="n">gcc</span>  <span class="bp">-</span><span class="n">O</span> <span class="bp">-</span><span class="n">Wall</span> <span class="bp">-</span><span class="n">lm</span> <span class="bp">-</span><span class="n">o</span> <span class="n">prover9</span> <span class="n">prover9.o</span> <span class="n">index_lits.o</span> <span class="n">forward_subsume.o</span> <span class="n">demodulate.o</span> <span class="n">pred_elim.o</span> <span class="n">unfold.o</span> <span class="n">semantics.o</span> <span class="n">giv_select.o</span> <span class="n">white_black.o</span> <span class="n">actions.o</span> <span class="n">search.o</span> <span class="n">utilities.o</span> <span class="n">provers.o</span> <span class="n">foffer.o</span> <span class="bp">../</span><span class="n">ladr</span><span class="bp">/</span><span class="n">libladr.a</span>
<span class="bp">/</span><span class="n">usr</span><span class="bp">/</span><span class="n">bin</span><span class="bp">/</span><span class="n">ld</span><span class="o">:</span> <span class="n">search.o</span><span class="o">:</span> <span class="k">in</span> <span class="n">function</span> <span class="bp">`</span><span class="n">search'</span><span class="o">:</span>
<span class="n">search.c</span><span class="o">:(</span><span class="bp">.</span><span class="n">text</span><span class="bp">+</span><span class="mi">0x6745</span><span class="o">):</span> <span class="n">undefined</span> <span class="n">reference</span> <span class="n">to</span> <span class="bp">`</span><span class="n">round'</span>
<span class="n">collect2</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">ld</span> <span class="n">returned</span> <span class="mi">1</span> <span class="n">exit</span> <span class="n">status</span>
<span class="n">make</span><span class="o">[</span><span class="mi">1</span><span class="o">]:</span> <span class="bp">***</span> <span class="o">[</span><span class="n">Makefile</span><span class="o">:</span><span class="mi">66</span><span class="o">:</span> <span class="n">prover9</span><span class="o">]</span> <span class="n">Error</span> <span class="mi">1</span>
<span class="n">make</span><span class="o">[</span><span class="mi">1</span><span class="o">]:</span> <span class="n">Leaving</span> <span class="n">directory</span> <span class="bp">'/</span><span class="n">home</span><span class="bp">/</span><span class="n">buzzard</span><span class="bp">/</span><span class="n">Downloads</span><span class="bp">/</span><span class="n">crap</span><span class="bp">/</span><span class="n">LADR</span><span class="bp">-</span><span class="mi">2009</span><span class="bp">-</span><span class="mi">11</span><span class="n">A</span><span class="bp">/</span><span class="n">provers.src'</span>
<span class="n">make</span><span class="o">:</span> <span class="bp">***</span> <span class="o">[</span><span class="n">Makefile</span><span class="o">:</span><span class="mi">7</span><span class="o">:</span> <span class="n">all</span><span class="o">]</span> <span class="n">Error</span> <span class="mi">2</span>
<span class="n">buzzard</span><span class="bp">@</span><span class="n">bob</span><span class="o">:</span><span class="bp">~/</span><span class="n">Downloads</span><span class="bp">/</span><span class="n">crap</span><span class="bp">/</span><span class="n">LADR</span><span class="bp">-</span><span class="mi">2009</span><span class="bp">-</span><span class="mi">11</span><span class="n">A</span><span class="bp">$</span>
</code></pre></div>
<p>Any ideas?</p>



<a name="246748685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246748685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246748685">(Jul 21 2021 at 17:03)</a>:</h4>
<p>My bet is on Mario finishing the proof before Kevin can compile that stuff.</p>



<a name="246749096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246749096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246749096">(Jul 21 2021 at 17:06)</a>:</h4>
<p><a href="/user_uploads/3121/HM1tHsTHROllkBPsK1JAS_OI/prover9.png">prover9.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/HM1tHsTHROllkBPsK1JAS_OI/prover9.png" title="prover9.png"><img src="/user_uploads/3121/HM1tHsTHROllkBPsK1JAS_OI/prover9.png"></a></div>



<a name="246749111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246749111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246749111">(Jul 21 2021 at 17:06)</a>:</h4>
<p>now how does it work?</p>



<a name="246749139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246749139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246749139">(Jul 21 2021 at 17:06)</a>:</h4>
<p>Patrick your mistake was not using Ubuntu, with its built in python2</p>



<a name="246749232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246749232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246749232">(Jul 21 2021 at 17:07)</a>:</h4>
<p><a href="/user_uploads/3121/Ob9RJFDEVI0-B-pnKQmsARPJ/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/Ob9RJFDEVI0-B-pnKQmsARPJ/image.png" title="image.png"><img src="/user_uploads/3121/Ob9RJFDEVI0-B-pnKQmsARPJ/image.png"></a></div>



<a name="246749289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246749289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246749289">(Jul 21 2021 at 17:07)</a>:</h4>
<p>Mario, I'm very disappointed.</p>



<a name="246749809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246749809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246749809">(Jul 21 2021 at 17:12)</a>:</h4>
<p>How long is it supposed to take to find this two-line proof?</p>



<a name="246749893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246749893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246749893">(Jul 21 2021 at 17:13)</a>:</h4>
<p>can't be that slow on modern computers</p>



<a name="246749929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246749929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246749929">(Jul 21 2021 at 17:13)</a>:</h4>
<p>The paper spends a lot of pages explaining how to tweak the parameters of the previous software.</p>



<a name="246750111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750111" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750111">(Jul 21 2021 at 17:14)</a>:</h4>
<p><a href="/user_uploads/3121/XJFcOWGifZe0W1p7PEeztcow/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/XJFcOWGifZe0W1p7PEeztcow/image.png" title="image.png"><img src="/user_uploads/3121/XJFcOWGifZe0W1p7PEeztcow/image.png"></a></div><p>I am way too young</p>



<a name="246750150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750150">(Jul 21 2021 at 17:15)</a>:</h4>
<p>do you know what a megabyte is? We used to have them in the old days</p>



<a name="246750181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750181">(Jul 21 2021 at 17:15)</a>:</h4>
<p>I used to have a 486 computer <span aria-label="older man" class="emoji emoji-1f474" role="img" title="older man">:older_man:</span></p>



<a name="246750198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750198">(Jul 21 2021 at 17:15)</a>:</h4>
<p>is it that "MB" thing that <code>leanproject get-cache</code> is on about ;b</p>



<a name="246750285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750285" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750285">(Jul 21 2021 at 17:16)</a>:</h4>
<p>I used to have a 6502 computer :P</p>



<a name="246750356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750356">(Jul 21 2021 at 17:17)</a>:</h4>
<p>BBC Micro? My ICT professor loved those things, he taught us programming in its BASIC dialect actually</p>



<a name="246750367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750367">(Jul 21 2021 at 17:17)</a>:</h4>
<p>he brought one in one day and I blew one of the caps on it...</p>



<a name="246750472"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750472" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750472">(Jul 21 2021 at 17:18)</a>:</h4>
<p>The one before -- an Acorn Atom, with a more primitive BASIC. Back to the point, prover9 is supposed to be giving up after 60 seconds but it's just sitting there pulsating and failing to solve the goal</p>



<a name="246750698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750698">(Jul 21 2021 at 17:20)</a>:</h4>
<p>I wonder whether McCune originally included all steps and then the journal editor asked for a shorten version.</p>



<a name="246750739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750739">(Jul 21 2021 at 17:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/McCune's.20axiom/near/246749289">said</a>:</p>
<blockquote>
<p>Mario, I'm very disappointed.</p>
</blockquote>
<p>Don't count your chickens before they hatch; I haven't seen a proof of l7 yet</p>



<a name="246750743"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750743" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750743">(Jul 21 2021 at 17:20)</a>:</h4>
<p>"remove 50% of steps because all arguments here are clearly trivial"</p>



<a name="246750846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246750846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246750846">(Jul 21 2021 at 17:21)</a>:</h4>
<p>Maybe there was a page number limit from the beginning, as in computer science proceedings.</p>



<a name="246753038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753038">(Jul 21 2021 at 17:35)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">1</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">((((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y'</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">'</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">w</span> <span class="bp">*</span> <span class="n">w'</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">'</span> <span class="bp">=</span> <span class="n">u</span> <span class="bp">#</span> <span class="n">label</span><span class="o">(</span><span class="n">non_clause</span><span class="o">)</span> <span class="bp">#</span> <span class="n">label</span><span class="o">(</span><span class="n">goal</span><span class="o">)</span><span class="bp">.</span>  <span class="o">[</span><span class="n">goal</span><span class="o">]</span><span class="bp">.</span>
<span class="mi">2</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z'</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">'</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">'</span> <span class="bp">=</span> <span class="n">u.</span>  <span class="o">[</span><span class="n">assumption</span><span class="o">]</span><span class="bp">.</span>
<span class="mi">3</span> <span class="n">c1</span> <span class="bp">*</span> <span class="o">((((</span><span class="n">c2</span> <span class="bp">*</span> <span class="n">c2'</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c3</span> <span class="bp">*</span> <span class="n">c4</span><span class="o">)</span><span class="bp">'</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c5</span> <span class="bp">*</span> <span class="n">c5'</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">c3</span> <span class="bp">*</span> <span class="n">c1</span><span class="o">))</span><span class="bp">'</span> <span class="bp">!=</span> <span class="n">c4.</span>  <span class="o">[</span><span class="n">deny</span><span class="o">(</span><span class="mi">1</span><span class="o">)]</span><span class="bp">.</span>
<span class="mi">5</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">((((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y'</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">'</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">w</span> <span class="bp">*</span> <span class="n">w'</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">'</span> <span class="bp">=</span> <span class="n">u.</span>  <span class="o">[</span><span class="n">para</span><span class="o">(</span><span class="mi">2</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="mi">1</span><span class="o">),</span><span class="mi">2</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">))]</span><span class="bp">.</span>
<span class="mi">6</span> <span class="bp">$</span><span class="n">F.</span>  <span class="o">[</span><span class="n">resolve</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span><span class="n">a</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="n">a</span><span class="o">)]</span><span class="bp">.</span>
</code></pre></div>



<a name="246753124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753124">(Jul 21 2021 at 17:36)</a>:</h4>
<p>My mistake was that I used \-1 for inverse, and the terminal was full of "hey this is not ASCII!" errors</p>



<a name="246753383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753383">(Jul 21 2021 at 17:38)</a>:</h4>
<p>lol does this help?</p>



<a name="246753467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753467">(Jul 21 2021 at 17:38)</a>:</h4>
<p>I also got some length otter output: <a href="https://gist.github.com/ericrbg/199c0679656f7a394b42dc0cf6a11fe4">https://gist.github.com/ericrbg/199c0679656f7a394b42dc0cf6a11fe4</a></p>



<a name="246753500"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753500" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753500">(Jul 21 2021 at 17:39)</a>:</h4>
<p>I think the only new information is that the hint <code>5 -&gt; 5</code> has been expanded to <code>para(2(a,1),2(a,1,2,1,2,1))</code></p>



<a name="246753612"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753612" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753612">(Jul 21 2021 at 17:40)</a>:</h4>
<p>well Eric's answer is certainly more information</p>



<a name="246753662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753662">(Jul 21 2021 at 17:41)</a>:</h4>
<p>half of me is wondering whether these so-called "provers" just print out junk randomly, on the basis that humans are never going to actually check this stuff</p>



<a name="246753738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753738">(Jul 21 2021 at 17:41)</a>:</h4>
<p>yeah I have absolutely no clue what it did if I'm honest</p>



<a name="246753758"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753758" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753758">(Jul 21 2021 at 17:41)</a>:</h4>
<p><a href="https://www.karlin.mff.cuni.cz/~stanovsk/math/bruck_wm.pdf">https://www.karlin.mff.cuni.cz/~stanovsk/math/bruck_wm.pdf</a> is my favourite computer proof</p>



<a name="246753760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753760">(Jul 21 2021 at 17:42)</a>:</h4>
<p>half of the time I spent was turning the damn thing out of infix to prefix form</p>



<a name="246753839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753839">(Jul 21 2021 at 17:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/McCune's.20axiom/near/246753758">said</a>:</p>
<blockquote>
<p><a href="https://www.karlin.mff.cuni.cz/~stanovsk/math/bruck_wm.pdf">https://www.karlin.mff.cuni.cz/~stanovsk/math/bruck_wm.pdf</a> is my favourite computer proof</p>
</blockquote>
<p>what is that trying to prove?!</p>



<a name="246753923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246753923" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246753923">(Jul 21 2021 at 17:43)</a>:</h4>
<p>Every Bruck loop with abelian inner mapping group has nilpotency class at most 2. The actual statement being proved is on the first page of the 1000 page pdf</p>



<a name="246754041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246754041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246754041">(Jul 21 2021 at 17:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/116395-maths/topic/McCune's.20axiom/near/246753760">said</a>:</p>
<blockquote>
<p>half of the time I spent was turning the damn thing out of infix to prefix form</p>
</blockquote>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">notation</span> <span class="bp">`</span><span class="n">f</span><span class="o">(</span><span class="bp">`</span><span class="n">x</span><span class="bp">`</span><span class="o">,</span><span class="bp">`</span><span class="n">y</span><span class="bp">`</span><span class="o">)</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">id</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span>
<span class="kd">notation</span> <span class="bp">`</span><span class="n">h</span><span class="o">(</span><span class="bp">`</span><span class="n">x</span><span class="bp">`</span><span class="o">)</span><span class="bp">`</span> <span class="o">:=</span> <span class="n">id</span> <span class="o">(</span><span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span>
</code></pre></div>
<p>helps with that</p>



<a name="246754104"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246754104" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246754104">(Jul 21 2021 at 17:44)</a>:</h4>
<p>Then you can use <code>dsimp</code> to throw away the awful notation</p>



<a name="246754557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246754557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246754557">(Jul 21 2021 at 17:48)</a>:</h4>
<p>From the manual: "para(47(a,1),28(a,1,2,2,1)) -- paramodulate from the clause 47 into clause 28 at the positions shown. "</p>



<a name="246754559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246754559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246754559">(Jul 21 2021 at 17:48)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">class</span> <span class="n">mccune_group</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">has_mul</span> <span class="n">α</span><span class="o">,</span> <span class="n">has_inv</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mccune</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span><span class="o">)</span>

<span class="kn">namespace</span> <span class="n">mccune_group</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">mccune_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="n">w</span> <span class="n">v</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">l5</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">mccune</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span>

<span class="kd">lemma</span> <span class="n">l7</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">((((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">set</span> <span class="n">q</span> <span class="o">:=</span> <span class="o">((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">),</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">l5</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="n">u</span> <span class="n">y</span> <span class="n">z</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l5</span> <span class="n">x</span> <span class="n">q</span> <span class="n">v</span> <span class="n">u</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">end</span> <span class="n">mccune_group</span>
</code></pre></div>
<p>I haven't followed this thread but here's the first line</p>



<a name="246754620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246754620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246754620">(Jul 21 2021 at 17:48)</a>:</h4>
<p>Discord FTW</p>



<a name="246754707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246754707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246754707">(Jul 21 2021 at 17:49)</a>:</h4>
<p>Exactly as claimed, it is just paramodulation</p>



<a name="246754803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246754803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246754803">(Jul 21 2021 at 17:50)</a>:</h4>
<p><del>Why does it fail without the <code>set</code> line?</del></p>



<a name="246754811"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246754811" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246754811">(Jul 21 2021 at 17:50)</a>:</h4>
<p>I got it first, the proof is just <code>para(2(a,1),2(a,1,2,1,2,1))</code></p>



<a name="246754818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246754818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246754818">(Jul 21 2021 at 17:50)</a>:</h4>
<p>(deleted)</p>



<a name="246755012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755012">(Jul 21 2021 at 17:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/McCune's.20axiom/near/246754803">said</a>:</p>
<blockquote>
<p><del>Why does it fail without the <code>set</code> line?</del></p>
</blockquote>
<p>I'm sure it's possible without that, with some more targeted rewrites, but it does the job :)</p>



<a name="246755218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755218">(Jul 21 2021 at 17:53)</a>:</h4>
<p>Next level:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l9</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="o">((</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(((</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span><span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">w</span> <span class="bp">*</span> <span class="n">w</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="246755234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755234">(Jul 21 2021 at 17:53)</a>:</h4>
<p>hint: use l5 and l7</p>



<a name="246755260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755260">(Jul 21 2021 at 17:53)</a>:</h4>
<p>A shorter version of l7 requiring less intuition:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l7</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">((((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l5</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l5</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="246755384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755384">(Jul 21 2021 at 17:54)</a>:</h4>
<p>I had been trying with <code>convert</code> before I decided to go for the prover9 option (it was on my job list to play around with an ATP at some point in my life)</p>



<a name="246755424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755424">(Jul 21 2021 at 17:54)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l9</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="o">((</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(((</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span><span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">w</span> <span class="bp">*</span> <span class="n">w</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l7</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l5</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="246755501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755501">(Jul 21 2021 at 17:55)</a>:</h4>
<p>You beat me to it by a second, Eric! <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="246755521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755521">(Jul 21 2021 at 17:55)</a>:</h4>
<p>So <code>A -&gt; B</code> means <code>convert B</code>, <code>rw A</code>?</p>



<a name="246755597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755597">(Jul 21 2021 at 17:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/McCune's.20axiom/near/246755234">said</a>:</p>
<blockquote>
<p>hint: use l5 and l7</p>
</blockquote>
<p>this is most textbook hints summed up</p>



<a name="246755602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755602">(Jul 21 2021 at 17:55)</a>:</h4>
<p>I think a more faithful translation might be rewrite with the inverse of <code>A</code> at a specific place so that <code>B</code> applies</p>



<a name="246755673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755673">(Jul 21 2021 at 17:56)</a>:</h4>
<p>But pragmatically it seems like <code>convert, rw</code> does the trick</p>



<a name="246755710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755710">(Jul 21 2021 at 17:56)</a>:</h4>
<p>If my claim is true this should get us all the way to l15, and then we have to know what <code>:</code> means</p>



<a name="246755774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755774" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755774">(Jul 21 2021 at 17:57)</a>:</h4>
<p><code>:</code> supposedly means simplify using that axiom</p>



<a name="246755790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755790">(Jul 21 2021 at 17:57)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l10</span> <span class="o">:</span> <span class="o">(((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(((</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">u</span><span class="bp">*</span><span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">v</span><span class="bp">*</span><span class="n">v</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">=</span><span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>
</code></pre></div>



<a name="246755813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755813">(Jul 21 2021 at 17:57)</a>:</h4>
<p>hint: 7 -&gt; 9</p>



<a name="246755886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755886">(Jul 21 2021 at 17:57)</a>:</h4>
<p>Damn</p>



<a name="246755940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246755940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246755940">(Jul 21 2021 at 17:58)</a>:</h4>
<p>Eric's magic incantation doesn't do it :(</p>



<a name="246756097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246756097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246756097">(Jul 21 2021 at 17:59)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l10</span> <span class="o">:</span> <span class="o">(((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(((</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">u</span><span class="bp">*</span><span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">v</span><span class="bp">*</span><span class="n">v</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">=</span><span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">l9</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">l7</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">z</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="246756115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246756115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246756115">(Jul 21 2021 at 17:59)</a>:</h4>
<p>I don't know where those exacts came from, since it seems they have no requirements?</p>



<a name="246756502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246756502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246756502">(Jul 21 2021 at 18:01)</a>:</h4>
<p>What does <code>refine</code> spit out?</p>



<a name="246756625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246756625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246756625">(Jul 21 2021 at 18:02)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l12</span> <span class="o">:</span> <span class="o">(((</span><span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">=</span><span class="n">y</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l10</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l10</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">x</span>
<span class="kd">end</span>
</code></pre></div>



<a name="246756815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246756815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246756815">(Jul 21 2021 at 18:04)</a>:</h4>
<p>Hmm that doesn't seem to work for me...</p>



<a name="246757021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757021">(Jul 21 2021 at 18:05)</a>:</h4>
<p>I think Eric R must have implicit variables</p>



<a name="246757024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757024">(Jul 21 2021 at 18:05)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l14</span> <span class="o">:</span> <span class="o">((</span><span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">=</span><span class="o">((</span><span class="n">u</span><span class="bp">*</span><span class="n">u</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:=</span> <span class="c1">-- [10 -&gt; 5]</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l5</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l10</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">x</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="246757039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757039">(Jul 21 2021 at 18:05)</a>:</h4>
<p>oh I made implicits everywhere so just stick some _ s</p>



<a name="246757185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757185">(Jul 21 2021 at 18:06)</a>:</h4>
<p>Eric we're live streaming on the discord</p>



<a name="246757211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757211">(Jul 21 2021 at 18:06)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l15</span> <span class="o">:</span> <span class="o">((</span><span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="o">((</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:=</span> <span class="c1">-- [12 -&gt; 14 : 12]</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l14</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l12</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">z</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l12</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="246757350"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757350" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757350">(Jul 21 2021 at 18:08)</a>:</h4>
<p>Do any of these <code>exact</code>s matter?</p>



<a name="246757396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757396">(Jul 21 2021 at 18:08)</a>:</h4>
<p>Their values don't, but they are important</p>



<a name="246757416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757416">(Jul 21 2021 at 18:08)</a>:</h4>
<p>In <code>l15</code> after the first line it just wants that <code>y</code> is a product of two things</p>



<a name="246757455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757455">(Jul 21 2021 at 18:08)</a>:</h4>
<p>and here <code>l12</code> says that it is, and it doesn't matter what the two things are; they just need to be given</p>



<a name="246757648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757648" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757648">(Jul 21 2021 at 18:10)</a>:</h4>
<p>I love that creative use of <code>convert</code>.</p>



<a name="246757708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757708">(Jul 21 2021 at 18:11)</a>:</h4>
<p>Yes, it reminded me of that comment that Lean was supposed to be bridging the gap between ATP and ITP</p>



<a name="246757836"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246757836" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246757836">(Jul 21 2021 at 18:12)</a>:</h4>
<p>Of course we know that unification is a huge crucial piece of the puzzle. But we're not used it seeing it used in such a spectacular way.</p>



<a name="246758294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246758294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246758294">(Jul 21 2021 at 18:16)</a>:</h4>
<p>Let me ping <span class="user-mention" data-user-id="110026">@Simon Hudon</span> who wrote <code>convert</code> (at least the original implementation, see <a href="#narrow/stream/113488-general/topic/apply.20with.20new.20equality.20goals">this thread</a>).</p>



<a name="246758453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246758453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246758453">(Jul 21 2021 at 18:17)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l17</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">*</span> <span class="n">u</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- [15 → 5 : 5]</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">l5</span> <span class="n">u</span> <span class="n">u</span><span class="bp">⁻¹</span> <span class="n">u</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">l15</span> <span class="n">v</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l5</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="246758632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246758632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246758632">(Jul 21 2021 at 18:19)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">l19</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:=</span> <span class="c1">-- [17 → 15]</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">l15</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">l17</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>
<p>I'll stop with the constant updates, but I'm working on this in the discord with Kevin</p>



<a name="246760307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246760307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246760307">(Jul 21 2021 at 18:32)</a>:</h4>
<p>How many lines are there total?</p>



<a name="246760391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246760391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246760391">(Jul 21 2021 at 18:33)</a>:</h4>
<p>Getting past 100, but I'm also adding notations and simp lemmas to make the proofs easier</p>



<a name="246760471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246760471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246760471">(Jul 21 2021 at 18:34)</a>:</h4>
<p>(I mean in the LaTeX proof not lines of lean code, to be clear)</p>



<a name="246761169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246761169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246761169">(Jul 21 2021 at 18:39)</a>:</h4>
<p>is the plan to PR this to mathlib?</p>



<a name="246761240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246761240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246761240">(Jul 21 2021 at 18:40)</a>:</h4>
<p>It probably would be nice in <code>archive</code> if it doesn't make it to <code>src</code></p>



<a name="246761341"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246761341" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246761341">(Jul 21 2021 at 18:40)</a>:</h4>
<p>(oh, I see Patrick already suggested <code>archive</code> at the start of the thread)</p>



<a name="246762047"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246762047" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246762047">(Jul 21 2021 at 18:46)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> thanks for pinging me! It is indeed a pretty cool use of <code>convert</code>. I wonder if we could avoid all those superfluous <code>_</code>. We could make it more like <code>apply</code> and just automatically insert all the <code>_</code> it will take</p>



<a name="246766203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246766203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246766203">(Jul 21 2021 at 19:22)</a>:</h4>
<p>Yes, my main criticism of <code>convert</code> is that if you don't give enough arguments you get a nonsense goal state <del>that doesn't even typecheck</del> like <code>a + b = b + a = ∀ c, c + b = b + a</code></p>



<a name="246766633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246766633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246766633">(Jul 21 2021 at 19:25)</a>:</h4>
<p>Well <em>technically</em> it does typecheck, they're both Props</p>



<a name="246770144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246770144" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246770144">(Jul 21 2021 at 19:53)</a>:</h4>
<p>Ah you're right, the case I'm thinking of has another =</p>



<a name="246776473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246776473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246776473">(Jul 21 2021 at 20:48)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">class</span> <span class="n">mccune_group</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">has_mul</span> <span class="n">α</span><span class="o">,</span> <span class="n">has_inv</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mccune</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span><span class="o">)</span>

<span class="kn">namespace</span> <span class="n">mccune_group</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">mccune_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="n">w</span> <span class="n">v</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">l5</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">mccune</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span>

<span class="kd">lemma</span> <span class="n">l7</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">((((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l5</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l5</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l9</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="o">((</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="o">(((</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span><span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">w</span> <span class="bp">*</span> <span class="n">w</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l7</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l5</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l10</span> <span class="o">:</span> <span class="o">(((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(((</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">u</span><span class="bp">*</span><span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">v</span><span class="bp">*</span><span class="n">v</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">=</span><span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">l9</span><span class="o">,</span>
  <span class="n">apply</span> <span class="n">l7</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">x</span><span class="o">,</span> <span class="n">exact</span> <span class="n">x</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l12</span> <span class="o">:</span> <span class="o">(((</span><span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="c1">-- [10 -&gt; 10]</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l10</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l10</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">x</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l14</span> <span class="o">:</span> <span class="o">((</span><span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">=</span><span class="o">((</span><span class="n">u</span><span class="bp">*</span><span class="n">u</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:=</span> <span class="c1">-- [10 -&gt; 5]</span>
<span class="kd">begin</span>
    <span class="n">convert</span> <span class="n">l5</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l10</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">x</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l15</span> <span class="o">:</span> <span class="o">((</span><span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="o">((</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:=</span> <span class="c1">-- [12 -&gt; 14 : 12]</span>
<span class="kd">begin</span>
    <span class="n">convert</span> <span class="n">l14</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l12</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">x</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">z</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l12</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l17</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">*</span> <span class="n">u</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- [15 → 5 : 5]</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">l5</span> <span class="n">u</span> <span class="n">u</span><span class="bp">⁻¹</span> <span class="n">u</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">l15</span> <span class="n">v</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l5</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l19</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:=</span> <span class="c1">-- [17 → 15]</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">l15</span><span class="o">],</span>
  <span class="n">exact</span> <span class="n">l17</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l20</span> <span class="o">:</span> <span class="o">(((</span><span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">((</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">u</span><span class="bp">*</span><span class="n">u</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="bp">=</span> <span class="n">z</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- [17 → 10]</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l22</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">((</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="c1">-- [17 → 5]</span>
<span class="kd">begin</span>
  <span class="gr">sorry</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l25</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="o">((</span><span class="n">u</span><span class="bp">*</span><span class="n">u</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹⁻¹*</span><span class="o">(</span><span class="n">w</span><span class="bp">*</span><span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">=</span><span class="n">w</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- [19 → 7:20]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l32</span> <span class="o">:</span> <span class="o">((</span><span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹*</span><span class="o">(</span><span class="n">y</span><span class="bp">⁻¹*</span><span class="o">(</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="c1">-- [17 → 22]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l34</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">⁻¹*</span><span class="o">((</span><span class="n">y</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹⁻¹*</span><span class="o">(</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">=</span><span class="n">x</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- [17-&gt;25]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l36</span> <span class="o">:</span> <span class="o">((</span><span class="n">y</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="o">(</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹=</span><span class="n">x</span> <span class="o">:=</span> <span class="c1">-- [5-&gt;25]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l44</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="o">((</span><span class="n">y</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹⁻¹*</span><span class="o">(</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">=</span><span class="n">x</span> <span class="o">:=</span> <span class="c1">-- [36 -&gt;34:36]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l48</span> <span class="o">:</span> <span class="o">((</span><span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹⁻¹*</span><span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">=</span><span class="o">(</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:=</span> <span class="c1">-- [44-&gt;17]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l52</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">=</span><span class="n">x</span> <span class="o">:=</span> <span class="c1">-- [52-&gt;10:20]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l57</span> <span class="o">:</span> <span class="o">((</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹*</span><span class="n">u</span><span class="o">)</span><span class="bp">⁻¹⁻¹=</span><span class="n">u</span> <span class="o">:=</span> <span class="c1">-- [52-&gt;10:20]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l62</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">⁻¹*</span><span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">⁻¹=</span><span class="n">x</span><span class="bp">⁻¹⁻¹</span> <span class="o">:=</span> <span class="c1">--[32-&gt;57]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l65</span> <span class="o">:</span> <span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="o">((</span><span class="n">z</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">⁻¹=</span><span class="n">x</span><span class="bp">⁻¹⁻¹</span> <span class="o">:=</span> <span class="c1">--[5-&gt;57:52]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l76</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">⁻¹=</span><span class="n">x</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- [57-&gt;62:57]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l88</span> <span class="o">:</span> <span class="o">((</span><span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹*</span><span class="n">y</span><span class="bp">⁻¹⁻¹</span><span class="o">)</span><span class="bp">=</span><span class="n">y</span> <span class="o">:=</span> <span class="c1">-- [65-&gt;32]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l92</span> <span class="o">:</span> <span class="o">((</span><span class="n">u</span><span class="bp">*</span><span class="n">u</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹=</span><span class="n">y</span> <span class="o">:=</span> <span class="c1">-- [65-&gt;20:12,76]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l116</span> <span class="o">:</span> <span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="o">(</span><span class="n">u</span><span class="bp">*</span><span class="n">u</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">=</span><span class="n">y</span> <span class="o">:=</span> <span class="c1">-- 76-32:76,88</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l126</span> <span class="o">:</span> <span class="o">((</span><span class="n">y</span><span class="bp">*</span><span class="n">z</span><span class="o">)</span><span class="bp">*</span><span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">=</span><span class="n">y</span> <span class="o">:=</span> <span class="c1">-- 76-&gt;5:92</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l201</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span><span class="bp">⁻¹⁻¹</span><span class="o">)</span><span class="bp">=</span><span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span><span class="o">)</span> <span class="o">:=</span> <span class="c1">-- 126 -&gt; 126</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l207</span> <span class="o">:</span> <span class="o">((</span><span class="n">x</span><span class="bp">*</span><span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="n">z</span><span class="o">)</span><span class="bp">=</span><span class="n">z</span> <span class="o">:=</span> <span class="c1">-- 19 -&gt; 126:52,201</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l215</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="o">((</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span><span class="o">)</span><span class="bp">⁻¹*</span><span class="n">u</span><span class="o">)))</span><span class="bp">=</span><span class="n">u</span> <span class="o">:=</span> <span class="c1">-- 5-&gt;126:207,201</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l227</span> <span class="o">:</span> <span class="n">y</span><span class="bp">⁻¹⁻¹</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="c1">-- [126-&gt;36:207,52]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l229</span> <span class="o">:</span> <span class="o">(</span><span class="n">z</span><span class="bp">*</span><span class="n">x</span><span class="o">)</span><span class="bp">⁻¹=</span><span class="n">x</span><span class="bp">⁻¹*</span><span class="n">z</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- 126-&gt;25:227,207</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l239</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="o">((</span><span class="n">x</span><span class="bp">⁻¹*</span><span class="n">u</span><span class="o">)</span><span class="bp">*</span><span class="n">y</span><span class="o">))</span><span class="bp">=</span><span class="n">u</span><span class="bp">*</span><span class="n">y</span> <span class="o">:=</span> <span class="c1">-- [126-&gt;5:207,229,229,227,227]</span>
<span class="gr">sorry</span>

<span class="kd">lemma</span> <span class="n">l260</span> <span class="o">:</span> <span class="o">((</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span><span class="o">)</span><span class="bp">*</span><span class="n">z</span><span class="o">)</span><span class="bp">=</span><span class="o">(</span><span class="n">x</span><span class="bp">*</span><span class="o">(</span><span class="n">y</span><span class="bp">*</span><span class="n">z</span><span class="o">))</span> <span class="o">:=</span> <span class="c1">-- [215-&gt;215:229,229,229,227,227,239]</span>
<span class="gr">sorry</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">inhabited</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">group</span> <span class="n">α</span> <span class="bp">≃</span> <span class="n">mccune_group</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">introI</span> <span class="n">i</span><span class="bp">;</span> <span class="n">exact</span>
  <span class="o">{</span> <span class="n">mul</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">*</span><span class="o">),</span>
    <span class="n">inv</span> <span class="o">:=</span> <span class="n">has_inv.inv</span><span class="o">,</span>
    <span class="n">mccune</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">intros</span><span class="bp">;</span> <span class="n">group</span> <span class="o">},</span>
  <span class="n">inv_fun</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">introI</span> <span class="n">i</span><span class="bp">;</span> <span class="n">exact</span>
  <span class="o">{</span> <span class="n">mul</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">*</span><span class="o">),</span>
    <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="n">l260</span><span class="o">,</span>
    <span class="n">one</span> <span class="o">:=</span> <span class="n">arbitrary</span> <span class="n">α</span> <span class="bp">*</span> <span class="o">(</span><span class="n">arbitrary</span> <span class="n">α</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">,</span>
    <span class="n">one_mul</span> <span class="o">:=</span> <span class="n">l207</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">mul_one</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">_</span><span class="o">,</span> <span class="n">l116</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
    <span class="n">npow</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
    <span class="n">npow_zero'</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
    <span class="n">npow_succ'</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
    <span class="n">inv</span> <span class="o">:=</span> <span class="n">has_inv.inv</span><span class="o">,</span>
    <span class="n">div</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
    <span class="n">div_eq_mul_inv</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
    <span class="n">gpow</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
    <span class="n">gpow_zero'</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
    <span class="n">gpow_succ'</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span>
    <span class="n">gpow_neg'</span> <span class="o">:=</span> <span class="gr">sorry</span><span class="o">,</span> <span class="c1">-- there should be a constructor which fills in the last 9 sorries</span>
    <span class="n">mul_left_inv</span> <span class="o">:=</span> <span class="kd">begin</span> <span class="gr">sorry</span> <span class="kd">end</span> <span class="o">},</span> <span class="c1">-- unfortunately `l17` is mul_right_inv</span>
    <span class="n">left_inv</span> <span class="o">:=</span> <span class="kd">begin</span> <span class="gr">sorry</span> <span class="kd">end</span><span class="o">,</span> <span class="c1">-- need "two groups structures on G are equal iff they have the same mul"</span>
    <span class="n">right_inv</span> <span class="o">:=</span> <span class="kd">begin</span> <span class="n">intro</span> <span class="n">h2</span><span class="o">,</span> <span class="n">cases</span> <span class="n">h2</span><span class="o">,</span> <span class="n">simp</span><span class="o">,</span> <span class="gr">sorry</span> <span class="kd">end</span><span class="o">,</span> <span class="c1">-- need an ext for mccune_groups</span>
  <span class="o">}</span>

<span class="kd">end</span> <span class="n">mccune_group</span>
</code></pre></div>



<a name="246776530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246776530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246776530">(Jul 21 2021 at 20:49)</a>:</h4>
<p>Bhavik is up to l126</p>



<a name="246776576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246776576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246776576">(Jul 21 2021 at 20:50)</a>:</h4>
<p>Why didn't I need all that junk in the group constructor <a href="#narrow/stream/116395-maths/topic/McCune's.20axiom/near/246744946">here</a>?</p>



<a name="246776643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246776643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246776643">(Jul 21 2021 at 20:50)</a>:</h4>
<p>I don't think I'm on a relevantly old mathlib</p>



<a name="246776686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246776686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246776686">(Jul 21 2021 at 20:50)</a>:</h4>
<p>I just used the bottom but one hole-filler</p>



<a name="246776860"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246776860" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246776860">(Jul 21 2021 at 20:52)</a>:</h4>
<p>oh it's because </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">gpow</span> <span class="o">:</span> <span class="n">ℤ</span> <span class="bp">→</span> <span class="n">G</span> <span class="bp">→</span> <span class="n">G</span> <span class="o">:=</span> <span class="n">gpow_rec</span><span class="o">)</span>
<span class="o">(</span><span class="n">gpow_zero'</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">G</span><span class="o">),</span> <span class="n">gpow</span> <span class="mi">0</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">.</span> <span class="n">try_refl_tac</span><span class="o">)</span>
<span class="o">(</span><span class="n">gpow_succ'</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">G</span><span class="o">),</span> <span class="n">gpow</span> <span class="o">(</span><span class="n">int.of_nat</span> <span class="n">n.succ</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">gpow</span> <span class="o">(</span><span class="n">int.of_nat</span> <span class="n">n</span><span class="o">)</span> <span class="n">a</span>  <span class="bp">.</span> <span class="n">try_refl_tac</span><span class="o">)</span>
<span class="o">(</span><span class="n">gpow_neg'</span> <span class="o">:</span>
  <span class="bp">∀</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">)</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="n">G</span><span class="o">),</span> <span class="n">gpow</span> <span class="o">(</span><span class="bp">-</span><span class="o">[</span><span class="mi">1</span><span class="bp">+</span> <span class="n">n</span><span class="o">])</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">gpow</span> <span class="n">n.succ</span> <span class="n">a</span><span class="o">)</span> <span class="bp">⁻¹</span> <span class="bp">.</span> <span class="n">try_refl_tac</span><span class="o">)</span>
</code></pre></div>
<p>they all have default values, which "generate a skeleton for the structure under construction" doesn't ignore.</p>



<a name="246776882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246776882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246776882">(Jul 21 2021 at 20:52)</a>:</h4>
<p>you shouldn't need an ext for mccune groups, it's trivial</p>



<a name="246776905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246776905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246776905">(Jul 21 2021 at 20:52)</a>:</h4>
<p>cases, cases, refl should work</p>



<a name="246777058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246777058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246777058">(Jul 21 2021 at 20:53)</a>:</h4>
<p>Bhavik's code diverges from this too, I think I'll leave it here and he can post his final answer later when he's cracked 126</p>



<a name="246808105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246808105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246808105">(Jul 22 2021 at 04:36)</a>:</h4>
<p>Pretty mucky:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic</span>

<span class="kd">class</span> <span class="n">mccune_group</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">has_mul</span> <span class="n">α</span><span class="o">,</span> <span class="n">has_inv</span> <span class="n">α</span><span class="o">,</span> <span class="n">inhabited</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mccune</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(((</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span><span class="o">)</span>

<span class="kn">namespace</span> <span class="n">mccune_group</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">mccune_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="n">w</span> <span class="n">v</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">l5</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">mccune</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span>

<span class="kd">lemma</span> <span class="n">l7</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l5</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">)]</span> <span class="n">using</span> <span class="n">l5</span> <span class="n">x</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="n">v</span> <span class="n">u</span>

<span class="kd">lemma</span> <span class="n">l9</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">w</span> <span class="bp">*</span> <span class="n">w</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l5</span> <span class="o">(</span><span class="n">w</span> <span class="bp">*</span> <span class="n">w</span><span class="bp">⁻¹</span><span class="o">)]</span> <span class="n">using</span> <span class="n">l7</span> <span class="n">x</span> <span class="n">w</span> <span class="n">u</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">w</span> <span class="bp">*</span> <span class="n">w</span><span class="bp">⁻¹</span><span class="o">))</span> <span class="n">z</span>

<span class="kd">lemma</span> <span class="n">l10</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l9</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">u</span> <span class="n">v</span> <span class="n">y</span><span class="o">]</span> <span class="n">using</span> <span class="n">l7</span> <span class="n">x</span> <span class="n">z</span> <span class="n">u</span> <span class="n">x</span> <span class="n">z</span>

<span class="kd">lemma</span> <span class="n">l12</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l10</span><span class="o">]</span> <span class="n">using</span> <span class="n">l10</span> <span class="n">y</span> <span class="n">x</span> <span class="n">x</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="n">z</span>

<span class="kd">lemma</span> <span class="n">l14</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="bp">*</span> <span class="n">u</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- [10 -&gt; 5]</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l5</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l10</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">x</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l15</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l12</span><span class="o">]</span> <span class="n">using</span> <span class="n">l14</span> <span class="n">x</span> <span class="o">((</span><span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="n">z</span>

<span class="kd">lemma</span> <span class="n">l17</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">*</span> <span class="n">u</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- [15 → 5 : 5]</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">l5</span> <span class="n">u</span> <span class="n">u</span><span class="bp">⁻¹</span> <span class="n">u</span> <span class="o">(</span><span class="n">v</span> <span class="bp">*</span> <span class="n">v</span><span class="bp">⁻¹</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">l15</span> <span class="n">v</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l5</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">has_one</span> <span class="n">α</span> <span class="o">:=</span> <span class="o">⟨</span><span class="n">default</span> <span class="n">α</span> <span class="bp">*</span> <span class="o">(</span><span class="n">default</span> <span class="n">α</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">⟩</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">l17'</span> <span class="o">:</span> <span class="n">u</span> <span class="bp">*</span> <span class="n">u</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="n">l17</span> <span class="n">_</span> <span class="n">_</span>

<span class="kd">lemma</span> <span class="n">l10'</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span> <span class="n">l10</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span>

<span class="kd">lemma</span> <span class="n">l20'</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span><span class="bp">*</span><span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">*</span><span class="mi">1</span> <span class="bp">=</span> <span class="n">z</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l10'</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l17'</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l17'</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l5'</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">((</span><span class="mi">1</span> <span class="bp">*</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">l5</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span>

<span class="kd">lemma</span> <span class="n">l22'</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="c1">-- [17 → 5]</span>
<span class="kd">by</span> <span class="o">{</span> <span class="n">convert</span> <span class="n">l5'</span> <span class="n">_</span> <span class="n">_</span> <span class="n">y</span><span class="o">,</span> <span class="n">simp</span> <span class="o">}</span>

<span class="kd">lemma</span> <span class="n">l7'</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(((</span><span class="mi">1</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span> <span class="n">l7</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span>

<span class="kd">lemma</span> <span class="n">l25'</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span><span class="bp">⁻¹⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">w</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">w</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- [19 → 7:20]</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l7'</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l17'</span><span class="o">,</span>
  <span class="n">convert</span> <span class="o">(</span><span class="n">l20'</span> <span class="n">_</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span><span class="o">,</span>
  <span class="n">simp</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l32'</span> <span class="o">:</span> <span class="mi">1</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="c1">-- [17 → 22]</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l22'</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="n">y</span><span class="o">,</span>
  <span class="n">simp</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l34'</span> <span class="o">:</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span><span class="bp">⁻¹⁻¹</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">l25'</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="n">x</span>

<span class="kd">lemma</span> <span class="n">l36'</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="mi">1</span><span class="bp">⁻¹⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">convert</span> <span class="n">l5'</span> <span class="n">_</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l25'</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">x</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l44'</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">1</span><span class="bp">⁻¹⁻¹</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l36'</span><span class="o">]</span> <span class="n">using</span> <span class="n">l34'</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="mi">1</span><span class="bp">⁻¹⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span>
<span class="kd">lemma</span> <span class="n">l48'</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span><span class="bp">⁻¹⁻¹</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="o">(</span><span class="n">l44'</span> <span class="o">((</span><span class="mi">1</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span><span class="bp">⁻¹⁻¹</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">))</span><span class="bp">.</span><span class="n">symm</span>
<span class="kd">lemma</span> <span class="n">l52'</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="mi">1</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l48'</span><span class="o">]</span> <span class="n">using</span> <span class="n">l44'</span> <span class="n">x</span>
<span class="kd">lemma</span> <span class="n">l57'</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹⁻¹</span> <span class="bp">=</span> <span class="n">u</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l52'</span><span class="o">,</span> <span class="n">l20'</span><span class="o">]</span> <span class="n">using</span> <span class="n">l10'</span> <span class="n">u</span> <span class="mi">1</span><span class="bp">⁻¹</span>

<span class="kd">lemma</span> <span class="n">l62'</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">x</span><span class="bp">⁻¹⁻¹</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l32'</span><span class="o">]</span> <span class="n">using</span> <span class="o">(</span><span class="n">l57'</span> <span class="o">(</span><span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span>

<span class="kd">lemma</span> <span class="n">l76'</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l57'</span><span class="o">]</span> <span class="n">using</span> <span class="n">l62'</span> <span class="o">(</span><span class="mi">1</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span>

<span class="kd">lemma</span> <span class="n">l88'</span> <span class="o">:</span> <span class="mi">1</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹⁻¹</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l76'</span><span class="o">]</span> <span class="n">using</span> <span class="n">l32'</span> <span class="n">x</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">l116'</span> <span class="o">:</span> <span class="n">y</span> <span class="bp">*</span> <span class="mi">1</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">l88'</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="mi">1</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">l76'</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l88'</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">this.symm</span>
<span class="kd">end</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">one_inv_inv</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span><span class="bp">⁻¹⁻¹</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">l48'</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">one_inv</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">l88'</span> <span class="o">(</span><span class="mi">1</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">l92'</span> <span class="o">:</span> <span class="o">(</span><span class="mi">1</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">l36'</span> <span class="n">y</span>

<span class="kd">lemma</span> <span class="n">l126'</span> <span class="o">:</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">l5'</span> <span class="o">((</span><span class="mi">1</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="n">z</span> <span class="n">y</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">l17'</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">simpa</span> <span class="o">[</span><span class="n">l92'</span><span class="o">]</span> <span class="n">using</span> <span class="n">this</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l201</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹⁻¹</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l126'</span> <span class="n">x</span> <span class="n">y</span><span class="o">]</span> <span class="n">using</span> <span class="n">l126'</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="n">y</span><span class="bp">⁻¹</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">l207'</span> <span class="o">:</span> <span class="mi">1</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">z</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l201</span><span class="o">]</span> <span class="n">using</span> <span class="n">l126'</span> <span class="n">z</span> <span class="n">z</span><span class="bp">⁻¹</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">l227</span> <span class="o">:</span> <span class="n">y</span><span class="bp">⁻¹⁻¹</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">l201</span> <span class="mi">1</span> <span class="n">y</span>

<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">inv_mul</span> <span class="o">:</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">1</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">l17'</span> <span class="n">x</span><span class="bp">⁻¹</span>

<span class="kd">lemma</span> <span class="n">l229</span> <span class="o">:</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="c1">-- 126-&gt;25:227,207</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l126'</span><span class="o">]</span> <span class="n">using</span> <span class="o">(</span><span class="n">l25'</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">))</span><span class="bp">.</span><span class="n">symm</span>

<span class="kd">lemma</span> <span class="n">thingy</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span> <span class="bp">=</span> <span class="n">z</span> <span class="o">:=</span> <span class="c1">-- [126-&gt;5:207,229,229,227,227]</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="o">:=</span> <span class="n">l5'</span> <span class="n">x</span> <span class="n">z</span><span class="bp">⁻¹</span> <span class="n">z</span><span class="o">,</span>
  <span class="n">simp</span> <span class="n">only</span> <span class="o">[</span><span class="n">one_inv</span><span class="o">,</span> <span class="n">l17'</span><span class="o">,</span> <span class="n">l207'</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">l229</span><span class="o">,</span> <span class="n">l227</span><span class="o">]</span> <span class="n">at</span> <span class="n">this</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">this</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">l239</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">((</span><span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">u</span> <span class="bp">*</span> <span class="n">y</span> <span class="o">:=</span> <span class="c1">-- [126-&gt;5:207,229,229,227,227]</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l229</span><span class="o">,</span> <span class="n">l126'</span><span class="o">]</span> <span class="n">using</span> <span class="n">l5'</span> <span class="n">x</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="o">(</span><span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">l260</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span> <span class="o">:=</span> <span class="c1">-- [215-&gt;215:229,229,229,227,227,239]</span>
<span class="kd">begin</span>
  <span class="n">rw</span> <span class="bp">←</span><span class="n">l239</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="n">z</span> <span class="n">y</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">thingy</span><span class="o">,</span>
  <span class="n">simp</span>
<span class="kd">end</span>

<span class="kd">instance</span> <span class="o">:</span> <span class="n">group</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="n">l260</span><span class="o">,</span>
  <span class="n">one_mul</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">,</span>
  <span class="n">mul_one</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simp</span><span class="o">,</span>
  <span class="n">mul_left_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">inv_mul</span> <span class="n">_</span><span class="o">,</span>
  <span class="bp">..</span><span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">has_one</span> <span class="n">α</span><span class="o">),</span>
  <span class="bp">..</span><span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">has_mul</span> <span class="n">α</span><span class="o">),</span>
  <span class="bp">..</span><span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">has_inv</span> <span class="n">α</span><span class="o">)</span> <span class="o">}</span>

<span class="kd">end</span> <span class="n">mccune_group</span>
</code></pre></div>



<a name="246808113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246808113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246808113">(Jul 22 2021 at 04:37)</a>:</h4>
<p>For some of the later ones I made new lemmas instead of the ones from the paper because they made more sense to me</p>



<a name="246825393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246825393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246825393">(Jul 22 2021 at 09:28)</a>:</h4>
<p>Thank you very much for your patience Bhavik. This stuff is pretty fascinating in its own very weird way.</p>



<a name="246826314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246826314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246826314">(Jul 22 2021 at 09:39)</a>:</h4>
<p>Interesting enough for the archive, right?</p>



<a name="246861699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246861699" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246861699">(Jul 22 2021 at 15:17)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/8399">#8399</a></p>



<a name="246879236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246879236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246879236">(Jul 22 2021 at 17:26)</a>:</h4>
<p>For fun I did the abelian version too (theorem 2 from the paper Patrick linked):</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">mccune_comm_group</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="kd">extends</span> <span class="n">has_mul</span> <span class="n">α</span><span class="o">,</span> <span class="n">has_inv</span> <span class="n">α</span><span class="o">,</span> <span class="n">inhabited</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">mccune</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span>

<span class="kn">namespace</span> <span class="n">mccune_comm_group</span>
<span class="kd">variables</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">mccune_comm_group</span> <span class="n">α</span><span class="o">]</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">u</span> <span class="n">v</span> <span class="n">w</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span>

<span class="kd">lemma</span> <span class="n">l10</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">u</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">mccune</span><span class="o">]</span> <span class="n">using</span> <span class="n">mccune</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">u</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="n">y</span>

<span class="kd">lemma</span> <span class="n">l12</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">z</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">mccune</span><span class="o">]</span> <span class="n">using</span> <span class="n">mccune</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span> <span class="n">z</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span>
<span class="kd">lemma</span> <span class="n">l16</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">mccune</span><span class="o">]</span> <span class="n">using</span> <span class="n">l10</span> <span class="n">x</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="n">y</span> <span class="n">z</span>
<span class="kd">lemma</span> <span class="n">l18</span> <span class="o">:</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l10</span><span class="o">]</span> <span class="n">using</span> <span class="n">l12</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span> <span class="n">x</span>
<span class="kd">lemma</span> <span class="n">l23</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">))</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">z</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l10</span><span class="o">]</span> <span class="n">using</span> <span class="n">l18</span> <span class="n">z</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span>
<span class="kd">lemma</span> <span class="n">l37</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l23</span><span class="o">]</span> <span class="n">using</span> <span class="n">l16</span> <span class="n">x</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">))</span><span class="bp">⁻¹</span>
<span class="kd">lemma</span> <span class="n">l39</span> <span class="o">:</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l12</span><span class="o">]</span> <span class="n">using</span> <span class="o">(</span><span class="n">l16</span> <span class="n">y</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span>
<span class="kd">lemma</span> <span class="n">l41</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">mccune</span><span class="o">]</span> <span class="n">using</span> <span class="n">l16</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span> <span class="n">y</span> <span class="n">z</span>
<span class="kd">lemma</span> <span class="n">l43</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">z</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l39</span><span class="o">]</span> <span class="n">using</span> <span class="n">l12</span> <span class="n">x</span> <span class="n">x</span> <span class="n">z</span>
<span class="kd">lemma</span> <span class="n">l51</span> <span class="o">:</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">z</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l41</span><span class="o">]</span> <span class="n">using</span> <span class="n">l18</span> <span class="n">z</span> <span class="n">x</span> <span class="n">x</span>
<span class="kd">lemma</span> <span class="n">l53</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l37</span><span class="o">]</span> <span class="n">using</span> <span class="n">l37</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span> <span class="n">y</span><span class="bp">⁻¹</span>
<span class="kd">lemma</span> <span class="n">l55</span> <span class="o">:</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l53</span><span class="o">,</span> <span class="n">l37</span><span class="o">]</span> <span class="n">using</span> <span class="o">(</span><span class="n">l10</span> <span class="n">z</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span><span class="bp">⁻¹</span> <span class="n">y</span> <span class="n">z</span><span class="o">)</span><span class="bp">.</span><span class="n">symm</span>
<span class="kd">lemma</span> <span class="n">l58</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">z</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l37</span><span class="o">]</span> <span class="n">using</span> <span class="n">mccune</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="n">z</span> <span class="n">x</span><span class="bp">⁻¹</span>
<span class="kd">lemma</span> <span class="n">l60</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l37</span><span class="o">,</span> <span class="n">l55</span><span class="o">]</span> <span class="n">using</span> <span class="n">mccune</span> <span class="n">y</span> <span class="n">x</span> <span class="n">y</span><span class="bp">⁻¹</span>
<span class="kd">lemma</span> <span class="n">l64</span> <span class="o">:</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span><span class="bp">⁻¹⁻¹</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l55</span><span class="o">]</span> <span class="n">using</span> <span class="n">l51</span> <span class="n">x</span> <span class="n">y</span>
<span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">l85</span> <span class="o">:</span> <span class="n">x</span><span class="bp">⁻¹⁻¹</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l43</span><span class="o">]</span> <span class="n">using</span> <span class="n">l64</span> <span class="n">x</span> <span class="n">x</span>
<span class="kd">lemma</span> <span class="n">l92</span> <span class="o">:</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">l64</span> <span class="n">x</span> <span class="n">y</span>
<span class="kd">lemma</span> <span class="n">l94</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">l60</span> <span class="n">x</span> <span class="n">y</span>
<span class="kd">lemma</span> <span class="n">l101</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">*</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">l92</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="n">y</span>
<span class="kd">lemma</span> <span class="n">l108</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">x</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l92</span><span class="o">]</span> <span class="n">using</span> <span class="n">l37</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span>
<span class="kd">lemma</span> <span class="n">l114</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="n">using</span> <span class="n">l94</span> <span class="n">x</span> <span class="n">y</span><span class="bp">⁻¹</span>
<span class="kd">lemma</span> <span class="n">l136</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">x</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l114</span><span class="o">]</span> <span class="n">using</span> <span class="n">l101</span> <span class="n">x</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">y</span><span class="bp">⁻¹</span><span class="o">)</span>
<span class="kd">lemma</span> <span class="n">l172</span> <span class="o">:</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l58</span><span class="o">]</span> <span class="n">using</span> <span class="o">(</span><span class="n">l43</span> <span class="n">x</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="bp">⁻¹</span><span class="o">))</span><span class="bp">.</span><span class="n">symm</span>
<span class="kd">lemma</span> <span class="n">l184</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">z</span> <span class="bp">*</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l92</span> <span class="n">z</span> <span class="n">x</span><span class="o">]</span> <span class="n">using</span> <span class="n">l172</span> <span class="o">(</span><span class="n">z</span> <span class="bp">*</span> <span class="n">x</span><span class="o">)</span> <span class="n">y</span> <span class="n">z</span><span class="bp">⁻¹</span>
<span class="kd">lemma</span> <span class="n">l244</span> <span class="o">:</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">y</span> <span class="bp">*</span> <span class="n">z</span> <span class="bp">=</span> <span class="n">x</span> <span class="bp">*</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">)</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">simpa</span> <span class="o">[</span><span class="n">l184</span> <span class="n">y</span><span class="o">]</span> <span class="n">using</span> <span class="o">(</span><span class="n">l108</span> <span class="n">x</span> <span class="o">(</span><span class="n">y</span> <span class="bp">*</span> <span class="n">z</span><span class="o">))</span><span class="bp">.</span><span class="n">symm</span>

<span class="sd">/-- Every McCune comm group is a comm group. -/</span>
<span class="kd">instance</span> <span class="o">:</span> <span class="n">comm_group</span> <span class="n">α</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">mul_assoc</span> <span class="o">:=</span> <span class="n">l244</span><span class="o">,</span>
  <span class="n">one</span> <span class="o">:=</span> <span class="n">default</span> <span class="n">α</span> <span class="bp">*</span> <span class="o">(</span><span class="n">default</span> <span class="n">α</span><span class="o">)</span><span class="bp">⁻¹</span><span class="o">,</span>
  <span class="n">mul_one</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">l114</span> <span class="n">x</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">mul_comm</span> <span class="o">:=</span> <span class="n">l108</span><span class="o">,</span>
  <span class="n">mul_left_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="o">(</span><span class="n">l108</span> <span class="n">_</span> <span class="n">x</span><span class="o">)</span><span class="bp">.</span><span class="n">trans</span> <span class="o">(</span><span class="n">l136</span> <span class="n">x</span> <span class="o">(</span><span class="n">default</span> <span class="n">α</span><span class="o">)),</span>
  <span class="n">one_mul</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="kd">by</span> <span class="n">rw</span> <span class="o">[</span><span class="n">l108</span><span class="o">,</span> <span class="n">l114</span><span class="o">],</span>
  <span class="bp">..</span><span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">has_mul</span> <span class="n">α</span><span class="o">),</span>
  <span class="bp">..</span><span class="o">(</span><span class="kd">by</span> <span class="n">apply_instance</span> <span class="o">:</span> <span class="n">has_inv</span> <span class="n">α</span><span class="o">)</span> <span class="o">}</span>

<span class="kd">end</span> <span class="n">mccune_comm_group</span>
</code></pre></div>



<a name="246882601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246882601" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246882601">(Jul 22 2021 at 17:52)</a>:</h4>
<p>I never fully believed these axioms until you did this! Amazing work.</p>



<a name="246882647"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246882647" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246882647">(Jul 22 2021 at 17:53)</a>:</h4>
<p>You didn't believe the computer??</p>



<a name="246882831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246882831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246882831">(Jul 22 2021 at 17:54)</a>:</h4>
<p>I had my doubts. Perhaps if I’d read the literature, they would have evaporated. (Or not!)</p>



<a name="246885255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246885255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246885255">(Jul 22 2021 at 18:13)</a>:</h4>
<p>Since I'm on a roll with these, I'm now doing the Robbins conjecture too in the discord</p>



<a name="246893351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246893351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246893351">(Jul 22 2021 at 19:22)</a>:</h4>
<p>If you are taking requests, you should try doing <a href="http://us.metamath.org/mpeuni/meredith.html">Meredith's axiom</a> and <a href="https://www.wolfram.com/language/12/algebraic-computation/the-shortest-possible-axiom-for-boolean-logic.html">Wolfram's axiom</a> too</p>



<a name="246893665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246893665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246893665">(Jul 22 2021 at 19:25)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> do you know if there is such a minimal axiom for rings?</p>



<a name="246894364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246894364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246894364">(Jul 22 2021 at 19:31)</a>:</h4>
<p>Wanna create <code>archive/minimal_axiom/</code>? <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="246895568"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246895568" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Julian Külshammer <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246895568">(Jul 22 2021 at 19:42)</a>:</h4>
<p>When I started with Lean, I did the much easier independent vector space axioms from <a href="https://www.cambridge.org/core/journals/mathematical-gazette/article/abs/independent-axioms-for-vector-spaces/0D49E4127F5F5EBC788A4AF36E95F07E">https://www.cambridge.org/core/journals/mathematical-gazette/article/abs/independent-axioms-for-vector-spaces/0D49E4127F5F5EBC788A4AF36E95F07E#</a></p>



<a name="246896152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246896152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246896152">(Jul 22 2021 at 19:47)</a>:</h4>
<p><span class="user-mention" data-user-id="243562">@Adam Topaz</span> I wouldn't be surprised if there is one out there, but I haven't heard of any</p>



<a name="246898815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246898815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246898815">(Jul 22 2021 at 20:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="240862">Oliver Nash</span> <a href="#narrow/stream/116395-maths/topic/McCune's.20axiom/near/246882601">said</a>:</p>
<blockquote>
<p>I never fully believed these axioms until you did this! Amazing work.</p>
</blockquote>
<p>Once you start to think a bit about the proof, the unbelievable part is that any simplification will occur without knowing associativity. Even the first lemma is still a miracle for me (you can see more information using the version of the proof that I posted in the PR review).</p>



<a name="246938807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/246938807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bhavik Mehta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#246938807">(Jul 23 2021 at 04:28)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">robbins_conjecture</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">has_sup</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">has_compl</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">inhabited</span> <span class="n">α</span><span class="o">]</span>
  <span class="o">[</span><span class="n">is_commutative</span> <span class="n">α</span> <span class="o">(</span><span class="bp">⊔</span><span class="o">)]</span> <span class="o">[</span><span class="n">is_associative</span> <span class="n">α</span> <span class="o">(</span><span class="bp">⊔</span><span class="o">)]</span>
  <span class="o">(</span><span class="n">robbins_axiom</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="o">:</span> <span class="n">α</span><span class="o">),</span> <span class="o">((</span><span class="n">x</span> <span class="bp">⊔</span> <span class="n">y</span><span class="o">)</span><span class="bp">ᶜ</span> <span class="bp">⊔</span> <span class="o">(</span><span class="n">x</span> <span class="bp">⊔</span> <span class="n">y</span><span class="bp">ᶜ</span><span class="o">)</span><span class="bp">ᶜ</span><span class="o">)</span><span class="bp">ᶜ</span> <span class="bp">=</span> <span class="n">x</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">boolean_algebra</span> <span class="n">α</span> <span class="o">:=</span>
</code></pre></div>
<p>works! It's about 5x longer than the McCune group and about 10x longer than the McCune abelian group versions (and roughly the same scale of latex proof and time spent)</p>



<a name="247089924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/McCune%27s%20axiom/near/247089924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/McCune's.20axiom.html#247089924">(Jul 24 2021 at 19:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/McCune's.20axiom/near/246745641">said</a>:</p>
<blockquote>
<p>The proof says that 7 is obtained by paramodulation of 5 into 5. I challenge folks to figure out what that means</p>
</blockquote>
<p>This is a paramodulation (or superposition) inference from and to the same clause. E.g. if you have <code>a = b \/ p a</code>, doing such a paramodulation might yield <code>a = b \/ a = b \/ p b</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>