---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Dedekind.20domains.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html">Dedekind domains</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="207710221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207710221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenji Nakagawa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207710221">(Aug 22 2020 at 06:17)</a>:</h4>
<p>Since there seems to be a decent number of people working on this, I thought it might be worthwhile to get a thread going (and a stream might be good as well).</p>
<p>One of the main things is that there are quite a few definitions to choose from, and two good candidates is based off of discrete valuation rings, and the other is that of being an integrally closed domain. In Cassels-Frochlich, there is also a third, but I haven't had much luck with proving any of the implications.</p>
<p>Currently, I'm trying to work through Marcus's Number Fields and formalize stuff (dependent on <a href="https://github.com/leanprover-community/mathlib/issues/3846">#3846</a>) using the integrally closed domain definition. So far, I've proved that any ideal contains some product of primes (and currently, the proof is massive), and the next proof (involving multiplying to get a principal ideal) requires the fact that it's integrally closed, whereas before it has just been Noetherian and non-field. (I'll try to clean and then link/push some code to a branch by tomorrow)</p>



<a name="207711784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207711784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207711784">(Aug 22 2020 at 07:08)</a>:</h4>
<p>I think the definition shouldn't really matter once you prove that a bunch of definitions are equivalent</p>



<a name="207711786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207711786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207711786">(Aug 22 2020 at 07:08)</a>:</h4>
<p>(Also, re stream: I think this thread should suffice.)</p>



<a name="207745716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207745716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207745716">(Aug 22 2020 at 22:58)</a>:</h4>
<p>You can see my work using the "noetherian + each prime ideal is maximal + integral closure is itself" definition <a href="https://github.com/leanprover-community/mathlib/blob/Vierkantor-dedekind-domain/src/ring_theory/dedekind_domain.lean">here</a>. I was sidetracked a bit on defining and proving some basic properties of the trace form, but should be able to finish that off in a couple of days.</p>



<a name="207745893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207745893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207745893">(Aug 22 2020 at 23:04)</a>:</h4>
<p>Are you proving Krull-Akizuki? If I remember correctly, that's the hard part about proving that the integral closure of a Dedekind domain is a Dedekind domain.</p>



<a name="207746015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207746015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207746015">(Aug 22 2020 at 23:09)</a>:</h4>
<p>I'm using some shortcuts, basically this: <a href="https://math.stackexchange.com/questions/50332/the-integral-closure-of-a-finite-separable-field-extension-of-the-fraction-field">https://math.stackexchange.com/questions/50332/the-integral-closure-of-a-finite-separable-field-extension-of-the-fraction-field</a> plus that you can factor a field extension in a separable part and a purely inseparable part</p>



<a name="207746021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207746021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207746021">(Aug 22 2020 at 23:09)</a>:</h4>
<p>I know about the separable shortcut, but how do you handle the purely inseparable case?</p>



<a name="207746023"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207746023" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207746023">(Aug 22 2020 at 23:09)</a>:</h4>
<p>But yes, the Noetherian condition is definitely the one that needs the most machinery</p>



<a name="207746148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207746148" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207746148">(Aug 22 2020 at 23:12)</a>:</h4>
<p>I use a trick found here: <a href="http://www.math.uchicago.edu/~may/MISC/Dedekind.pdf">http://www.math.uchicago.edu/~may/MISC/Dedekind.pdf</a> that uses the "Dedekind iff all ideals are invertible".</p>



<a name="207746158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207746158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207746158">(Aug 22 2020 at 23:13)</a>:</h4>
<p>(Theorem 2.4, page 3.)</p>



<a name="207746170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207746170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Browning <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207746170">(Aug 22 2020 at 23:14)</a>:</h4>
<p>oh neat, I'll take a look</p>



<a name="207746488"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207746488" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207746488">(Aug 22 2020 at 23:22)</a>:</h4>
<p>By the way, I'm mostly interested in the separable case, so when (if?) I finally make a PR, I will probably leave the inseparable case for later. If you would like to do it, you're welcome to of course :)</p>



<a name="207758770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207758770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenji Nakagawa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207758770">(Aug 23 2020 at 06:18)</a>:</h4>
<p>I believe that in most of the literature, it is implicitly implied that dedekind domains are non-fields, and I'm not sure if I saw something along those lines in your code <span class="user-mention" data-user-id="238446">@Anne Baanen</span> (although I don't think this has been relevant so far, or it might be more of a number theory/field theory thing).</p>
<p>Also, in my code I'm not sure if the morally correct way is to create a bunch of definitions like <code>dedekind_id</code>, <code>dedekind_inv</code> and <code>dedekind_dvr</code> and (hopefully) prove equivalences, or just select one for implementation and then write a bunch of <code>iff</code> lemmas. Another question was about how easy/hard it would be to reason about things like k(a) = (b) as ideals of R for some k in the field of fractions (and what the implementation might look like, K-modules(?)). Also, I've noticed that splitting <code>&lt;</code> with ideals tends to have coercions that are annoying to deal with (and make suggest/library_search fail), as well as the fact that sometimes you have to <code>unfold ideal</code> in order to apply a lemma about <code>submodules</code>.</p>



<a name="207759030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207759030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207759030">(Aug 23 2020 at 06:28)</a>:</h4>
<p>you compare them as fractional ideals</p>



<a name="207759137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207759137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenji Nakagawa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207759137">(Aug 23 2020 at 06:32)</a>:</h4>
<p>Ah, I suppose the most natural way to talk about fractional ideals is with them <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="207780280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207780280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207780280">(Aug 23 2020 at 16:23)</a>:</h4>
<p>(We have a new linkfier that lets us refer to mathlib branches by writing e.g. <a href="https://github.com/leanprover-community/mathlib/tree/mushokunosora-dedekind">branch#mushokunosora-dedekind</a> and <a href="https://github.com/leanprover-community/mathlib/tree/Vierkantor-dedekind-domain">branch#Vierkantor-dedekind-domain</a>)</p>



<a name="207857726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207857726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207857726">(Aug 24 2020 at 15:29)</a>:</h4>
<p>So we have two competing Dedekind domain branches? :-/</p>



<a name="207967262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207967262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jalex Stark <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207967262">(Aug 25 2020 at 14:09)</a>:</h4>
<p>I think the divergence is not so bad, at least in a social sense. Kenji sliced a PR off of their branch and Anne gave useful review comments. Hopefully Kenji and Anne have exchanged some PMs to collaborate and avoid duplicate work.</p>



<a name="207972360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207972360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207972360">(Aug 25 2020 at 14:48)</a>:</h4>
<p>I've been PR'ing quite a bit of the "finished pieces" of my branch, so apart from the line defining <code>dedekind_domain</code> itself, there is very little new stuff on my branch.</p>



<a name="207972518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/207972518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#207972518">(Aug 25 2020 at 14:49)</a>:</h4>
<p>Unfortunately, I hadn't head of Kenji's project before this thread. I'm open to share work, of course.</p>



<a name="208584671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208584671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandru-Andrei Bosinta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208584671">(Aug 31 2020 at 16:44)</a>:</h4>
<p>I want to work on the Vierkantor branch. Can anyone tell me what is the best way to get involved with the branch? Also, where would I find information on what everyone working on it is up to? I wouldn't want to begin working on something only to find out that someone was already doing that specific part and was already far into it.</p>



<a name="208587446"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208587446" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208587446">(Aug 31 2020 at 17:06)</a>:</h4>
<p>Apart from a definition of Dedekind domain (integrally closed, noetherian, Krull dimension 1) and some work on the trace form, I don't have too much on the branch that is not already in mathlib.</p>
<p>The goal of my branch at the moment is to show that the ring of integers in a number field is Dedekind (assuming that the ring of integers is defined as a suitable integral closure, showing). I already merged a lot of this in mathlib, the remaining part is showing the closure is Noetherian (for now assuming everything is separable). The last week and a bit, I did some work on the trace form, which I want to PR soon, and then I will be ready for concluding Noetherianness. <span class="user-mention" data-user-id="319839">@Kenji Nakagawa</span> has (as I understand it) been focussing on showing the equivalence between various definitions of Dedekind domain. And the plan is to make a PR soon with only the definition, so we can work on a shared base.</p>
<p>To work on a branch that has been pushed to mathlib, it should be enough to run <code>git fetch</code> to get the latest version of all branches and then <code>git checkout -t origin/Vierkantor-dedekind-domain</code> to switch to working on a local copy of the branch. I believe the latest commit builds except for <code>sorry</code>.</p>



<a name="208587523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208587523" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208587523">(Aug 31 2020 at 17:07)</a>:</h4>
<p>I'm going for dinner now, but I'm sure other people on Zulip can help you if you get stuck.</p>



<a name="208591620"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208591620" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208591620">(Aug 31 2020 at 17:45)</a>:</h4>
<p>Thanks for this update Anne! In arithmetic we have the concept of a local field and a global field, and to a certain extent these theories are developed in parallel. The algebraic analogue would be be a discrete valuation ring and a Dedekind domain. I've been working on discrete valuation rings this summer but I got tied up in knots because of some missing API for has_zero which I only resolved recently. I still need to make an API for with_zero (multiplicative int) (the main hold-up being that I think it deserves a name, or at least notation, but I can't think of a good one). Once we have this then I'll be able to prove that a discrete valuation ring has a valuation! This will hopefully be of some use. Some of the definitions of DVR in the literature use Dedekind domains. Some of the definitions of Dedekind domain in the literature use DVRs. Mathematicians! Doncha just love 'em?</p>



<a name="208591850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208591850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208591850">(Aug 31 2020 at 17:47)</a>:</h4>
<p>Getting the definition in mathlib is really key. There are plenty of mathematicians who want to do stuff but don't know the ins and outs of <code>extend</code> and Prop-valued classes etc. Once the definition is there, these people can get involved</p>



<a name="208592054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208592054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208592054">(Aug 31 2020 at 17:49)</a>:</h4>
<p>It's a bit like schemes. Now we have a definition, more mathematicians will be able to ask meaningful questions such as "do we have theorem X about schemes"? The answer now might be "we can state it, feel free to try and prove it in a begin end block" which is the part that more mathematicians understand well</p>



<a name="208593840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208593840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208593840">(Aug 31 2020 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>, I know it’s mostly a matter of type tags, but why do valuations use multiplicative groups? I thought additive was standard, and that sounds more sensible when our go-to example is integers</p>



<a name="208594937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208594937" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208594937">(Aug 31 2020 at 18:13)</a>:</h4>
<p>Aaron, it depens on which field of maths you are in. Also... the go-to example is <code>with_top int</code>, which is slightly annoyingly different from <code>int</code>.</p>



<a name="208594942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208594942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208594942">(Aug 31 2020 at 18:13)</a>:</h4>
<p>I think this was discussed recently in another thread, but a valuation is a morphism of (multiplicative) monoids_with_zero which satisfies some additional condition. (I personally also like writing value groups additively, but it's a matter of taste and I guess passing between addition/multiplication in lean can get tedious).</p>



<a name="208594990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208594990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208594990">(Aug 31 2020 at 18:13)</a>:</h4>
<p><span class="user-mention" data-user-id="302826">@Aaron Anderson</span> note that a very common other example is the multiplicative <code>nnreal</code></p>



<a name="208595465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208595465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208595465">(Aug 31 2020 at 18:17)</a>:</h4>
<p>I'm actually working on formalizing some stuff about general valuation rings right now. The "easy" way to define the value group is to mod out <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> (the field) as a multiplicative monoid_with_zero by the equivalence relation induced by multiplication by units from the valuation ring. This is then naturally a multiplicative object :)</p>



<a name="208595593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208595593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208595593">(Aug 31 2020 at 18:19)</a>:</h4>
<p>Yup, that's what we did when constructing the canonical valuation in the perfectoid project.</p>



<a name="208595770"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208595770" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Aaron Anderson <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208595770">(Aug 31 2020 at 18:20)</a>:</h4>
<p>Thanks!</p>



<a name="208604375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208604375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208604375">(Aug 31 2020 at 19:28)</a>:</h4>
<p>Dedekind domains make us hit a new milestone: <a href="https://github.com/leanprover-community/mathlib/issues/4000">#4000</a></p>



<a name="208652970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208652970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208652970">(Sep 01 2020 at 07:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Dedekind.20domains/near/208591620">said</a>:</p>
<blockquote>
<p>Mathematicians! Doncha just love 'em?</p>
</blockquote>
<p>No, I don't. Oh, wait, was this a rherotical question? ;)</p>



<a name="208656107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208656107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208656107">(Sep 01 2020 at 08:05)</a>:</h4>
<p>Trust us -- we know it's not circular! You guys are just paranoid :-)</p>



<a name="208660509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208660509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jasmin Blanchette <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208660509">(Sep 01 2020 at 08:54)</a>:</h4>
<p>Here's some text I wrote just yesterday in a forthcoming CPP submission:</p>
<blockquote>
<p>What is particularly remarkable about this circularity is that it had escaped<br>
the attention of the main author among ***., working in \LaTeX. The<br>
issue was noticed only as we formalized ***. Fortunately, this was still<br>
early enough to prevent public embarrassment.</p>
</blockquote>
<p>Regrettably, *** is a computer scientist resp. some C.S. stuff.</p>



<a name="208662199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208662199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208662199">(Sep 01 2020 at 09:11)</a>:</h4>
<p>Was it fixable?</p>



<a name="208667456"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208667456" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandru-Andrei Bosinta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208667456">(Sep 01 2020 at 10:09)</a>:</h4>
<p>How am I supposed to use <code>git fetch</code>? I am using git bash and I tried it using it plainly in a new folder and on a new leanproject, but it gives me an error: <code>fatal: not a git repository (or any of the parent directories): .git</code></p>



<a name="208667489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208667489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208667489">(Sep 01 2020 at 10:09)</a>:</h4>
<p>You have to enter the repo first</p>



<a name="208667498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208667498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208667498">(Sep 01 2020 at 10:09)</a>:</h4>
<p><code>cd my_lean_project</code></p>



<a name="208667938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208667938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandru-Andrei Bosinta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208667938">(Sep 01 2020 at 10:14)</a>:</h4>
<p>That is what I did. I made a new leanproject and then while I was in that project I tried <code>git fetch</code> and I got that error.</p>



<a name="208669492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208669492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208669492">(Sep 01 2020 at 10:34)</a>:</h4>
<p>Did you use <code>leanproject get mathlib</code>, to make a copy of mathlib as a new project, or just <code>leanproject new</code>? If you use <code>leanproject new</code>, then git will not know that you want to make a copy of mathlib.</p>



<a name="208671065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208671065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandru-Andrei Bosinta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208671065">(Sep 01 2020 at 10:54)</a>:</h4>
<p>I initially tried <code>leanproject new</code> and it didn't work, but now I tried <code>leanproject get mathlib</code> and I still get the same error when trying <code>git fetch</code></p>



<a name="208671103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208671103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208671103">(Sep 01 2020 at 10:55)</a>:</h4>
<p>Then I suspect you are not in the correct directory. Can you run <code>pwd</code> in your terminal and copy the output here?</p>



<a name="208671122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208671122" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208671122">(Sep 01 2020 at 10:55)</a>:</h4>
<p>And also <code>ls -a</code>?</p>



<a name="208671258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208671258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208671258">(Sep 01 2020 at 10:57)</a>:</h4>
<p><span class="user-mention" data-user-id="131875">@Alexandru-Andrei Bosinta</span> <code>leanproject get mathlib</code> will create a directory <code>mathlib</code> inside the directory where you currently are. You need to enter that directory before doing anything else.</p>



<a name="208672613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208672613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandru-Andrei Bosinta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208672613">(Sep 01 2020 at 11:16)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="112680">@Johan Commelin</span>. Now it worked.</p>



<a name="208686693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208686693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandru-Andrei Bosinta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208686693">(Sep 01 2020 at 13:30)</a>:</h4>
<p>Well now I ran into another problem: I used leanproject build (because visual studio code was having excessive memory usage errors when I tried to look over a file normally) to compile it, but I got a ton of errors. Some were sorrys, but a lot were just errors. So many errors that if I try to post them all here I will run out of writing space. I am assuming I did something wrong, but I need some help figuring it out. Well, here are the first few errors. I can put more if needed. </p>
<div class="codehilite"><pre><span></span><code><span class="n">C</span><span class="o">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">alexa</span><span class="err">\</span><span class="n">OneDrive</span><span class="err">\</span><span class="n">Desktop</span><span class="err">\</span><span class="n">vierkantor</span><span class="err">\</span><span class="n">mathlib</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">ring_theory</span><span class="err">\</span><span class="n">noetherian</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">416</span><span class="o">:</span><span class="mi">47</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">unexpected</span> <span class="n">token</span>
<span class="n">C</span><span class="o">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">alexa</span><span class="err">\</span><span class="n">OneDrive</span><span class="err">\</span><span class="n">Desktop</span><span class="err">\</span><span class="n">vierkantor</span><span class="err">\</span><span class="n">mathlib</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">ring_theory</span><span class="err">\</span><span class="n">noetherian</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">425</span><span class="o">:</span><span class="mi">47</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">unexpected</span> <span class="n">token</span>
<span class="n">C</span><span class="o">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">alexa</span><span class="err">\</span><span class="n">OneDrive</span><span class="err">\</span><span class="n">Desktop</span><span class="err">\</span><span class="n">vierkantor</span><span class="err">\</span><span class="n">mathlib</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">ring_theory</span><span class="err">\</span><span class="n">noetherian</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">430</span><span class="o">:</span><span class="mi">24</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">unknown</span> <span class="n">identifier</span> <span class="err">&#39;</span><span class="n">module</span><span class="bp">.</span><span class="n">restrict_scalars&#39;</span>
<span class="n">C</span><span class="o">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">alexa</span><span class="err">\</span><span class="n">OneDrive</span><span class="err">\</span><span class="n">Desktop</span><span class="err">\</span><span class="n">vierkantor</span><span class="err">\</span><span class="n">mathlib</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">ring_theory</span><span class="err">\</span><span class="n">noetherian</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">437</span><span class="o">:</span><span class="mi">6</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">invalid</span> <span class="kn">definition</span><span class="o">,</span> <span class="n">a</span> <span class="n">declaration</span> <span class="n">named</span> <span class="err">&#39;</span><span class="n">is_noetherian_ring_of_is_noetherian_coe_submodule&#39;</span> <span class="n">has</span> <span class="n">already</span> <span class="n">been</span> <span class="n">declared</span>
<span class="n">C</span><span class="o">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">alexa</span><span class="err">\</span><span class="n">OneDrive</span><span class="err">\</span><span class="n">Desktop</span><span class="err">\</span><span class="n">vierkantor</span><span class="err">\</span><span class="n">mathlib</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">ring_theory</span><span class="err">\</span><span class="n">noetherian</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">433</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">unknown</span> <span class="n">identifier</span> <span class="err">&#39;</span><span class="n">order_embedding</span><span class="bp">.</span><span class="n">rsymm&#39;</span>
<span class="n">Additional</span> <span class="n">information</span><span class="o">:</span>
<span class="n">C</span><span class="o">:</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">alexa</span><span class="err">\</span><span class="n">OneDrive</span><span class="err">\</span><span class="n">Desktop</span><span class="err">\</span><span class="n">vierkantor</span><span class="err">\</span><span class="n">mathlib</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">ring_theory</span><span class="err">\</span><span class="n">noetherian</span><span class="bp">.</span><span class="n">lean</span><span class="o">:</span><span class="mi">433</span><span class="o">:</span><span class="mi">8</span><span class="o">:</span> <span class="kn">context</span><span class="o">:</span> <span class="n">switched</span> <span class="n">to</span> <span class="n">simple</span> <span class="n">application</span> <span class="n">elaboration</span> <span class="n">procedure</span> <span class="n">because</span> <span class="n">failed</span> <span class="n">to</span> <span class="n">use</span> <span class="n">expected</span> <span class="n">type</span> <span class="n">to</span> <span class="n">elaborate</span> <span class="n">it</span><span class="o">,</span> <span class="n">error</span> <span class="n">message</span>
  <span class="n">type</span> <span class="n">mismatch</span><span class="o">,</span> <span class="n">term</span>
    <span class="err">?</span><span class="n">m_5</span><span class="bp">.</span><span class="n">well_founded</span> <span class="err">?</span><span class="n">m_6</span>
  <span class="n">has</span> <span class="n">type</span>
    <span class="n">well_founded</span> <span class="n">has_lt</span><span class="bp">.</span><span class="n">lt</span>
  <span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
    <span class="n">well_founded</span> <span class="n">gt</span>
<span class="n">state</span><span class="o">:</span>
<span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span><span class="o">,</span>
<span class="n">S</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span><span class="o">,</span>
<span class="n">M</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_3</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_1</span> <span class="o">:</span> <span class="n">comm_ring</span> <span class="n">R</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_2</span> <span class="o">:</span> <span class="n">ring</span> <span class="n">S</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_3</span> <span class="o">:</span> <span class="n">add_comm_group</span> <span class="n">M</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_4</span> <span class="o">:</span> <span class="n">algebra</span> <span class="n">R</span> <span class="n">S</span><span class="o">,</span>
<span class="bp">_</span><span class="n">inst_5</span> <span class="o">:</span> <span class="n">module</span> <span class="n">S</span> <span class="n">M</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">well_founded</span> <span class="n">gt</span>
<span class="err">?</span> <span class="n">well_founded</span> <span class="n">gt</span>
</code></pre></div>



<a name="208687414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208687414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208687414">(Sep 01 2020 at 13:34)</a>:</h4>
<p><span class="user-mention" data-user-id="131875">@Alexandru-Andrei Bosinta</span> Could you please post the output of <code>git log --oneline | head -20</code>?</p>



<a name="208687440"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208687440" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208687440">(Sep 01 2020 at 13:35)</a>:</h4>
<p>You should be able to get mathlib caches for free</p>



<a name="208687478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208687478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208687478">(Sep 01 2020 at 13:35)</a>:</h4>
<p><code>leanproject build</code> is not something that one runs on a daily basis</p>



<a name="208690325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208690325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208690325">(Sep 01 2020 at 13:57)</a>:</h4>
<p>The issue is that the last commit is broken. Let me fix it...</p>



<a name="208690882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208690882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208690882">(Sep 01 2020 at 14:01)</a>:</h4>
<p>OK, pushed a fix for <code>noetherian.lean</code>.</p>



<a name="208693244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208693244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandru-Andrei Bosinta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208693244">(Sep 01 2020 at 14:19)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> This was the output: </p>
<div class="codehilite"><pre><span></span><code><span class="mi">0</span><span class="n">d833b6dd</span> <span class="n">Merge</span> <span class="n">branch</span> <span class="err">&#39;</span><span class="n">Vierkantor</span><span class="bp">-</span><span class="n">dedekind</span><span class="bp">-</span><span class="n">domain&#39;</span> <span class="n">of</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github</span><span class="bp">.</span><span class="n">com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib</span> <span class="n">into</span> <span class="n">Vierkantor</span><span class="bp">-</span><span class="n">dedekind</span><span class="bp">-</span><span class="n">domain</span>
<span class="n">bffc04e65</span> <span class="n">Trace</span> <span class="k">in</span> <span class="n">a</span> <span class="n">simple</span> <span class="n">field</span> <span class="n">extension</span>
<span class="mi">55</span><span class="n">c82b690</span> <span class="n">Small</span> <span class="n">fixes</span>
<span class="mi">712529538</span> <span class="n">Finish</span> <span class="n">primitive</span> <span class="n">element</span> <span class="kn">theorem</span>
<span class="mi">9</span><span class="n">d4714fcd</span> <span class="n">More</span> <span class="n">progress</span> <span class="n">on</span> <span class="n">simple</span> <span class="n">extensions</span>
<span class="mi">22</span><span class="n">f533c5e</span> <span class="n">A</span> <span class="n">lot</span> <span class="n">of</span> <span class="n">progress</span> <span class="n">toward</span> <span class="n">primitive</span> <span class="n">element</span> <span class="kn">theorem</span>
<span class="n">b1b316693</span> <span class="n">Don&#39;t</span> <span class="n">depend</span> <span class="n">on</span> <span class="bp">`</span><span class="n">adjoin</span><span class="bp">`</span> <span class="k">in</span> <span class="bp">`</span><span class="n">algebra_tower</span><span class="bp">`</span>
<span class="n">a9445f8dc</span> <span class="n">A</span> <span class="n">lot</span> <span class="n">of</span> <span class="n">progess</span> <span class="n">on</span> <span class="n">simple</span> <span class="n">field</span> <span class="n">extensions</span>
<span class="mi">5</span><span class="n">cf74fed8</span> <span class="bp">`</span><span class="n">is_noetherian_of_is_noetherian_top</span><span class="bp">`</span>
<span class="n">dc7da7402</span> <span class="bp">`</span><span class="n">bilinear_form</span> <span class="bp">&lt;-&gt;</span> <span class="n">matrix</span><span class="bp">`</span> <span class="n">now</span> <span class="k">with</span> <span class="n">arbitrary</span> <span class="n">basis</span>
<span class="n">d933856b6</span> <span class="n">Clean</span> <span class="n">up</span> <span class="k">proof</span>
<span class="mi">918984910</span> <span class="n">Some</span> <span class="n">unfinished</span> <span class="n">work</span> <span class="n">on</span> <span class="n">the</span> <span class="n">trace</span>
<span class="mi">0</span><span class="n">e6c2a641</span> <span class="n">A</span> <span class="n">set</span> <span class="n">that</span> <span class="n">spans</span> <span class="n">the</span> <span class="n">whole</span> <span class="n">space</span> <span class="n">is</span> <span class="n">a</span> <span class="n">basis</span> <span class="k">if</span> <span class="n">it&#39;s</span> <span class="n">of</span> <span class="n">the</span> <span class="n">appropriate</span> <span class="n">size</span>
<span class="n">ca88b16a8</span> <span class="n">Aug5th</span> <span class="n">End_of_Day</span>
<span class="n">beb519810</span> <span class="n">Aug5</span>
<span class="mi">47</span><span class="n">e72ada8</span> <span class="n">Aug5</span>
<span class="mi">063</span><span class="n">e3d4ed</span> <span class="n">Aug4th</span>
<span class="mi">7</span><span class="n">c3fe2b8d</span> <span class="n">Some</span> <span class="n">helper</span> <span class="n">lemmas</span> <span class="n">for</span> <span class="n">showing</span> <span class="n">the</span> <span class="n">integral</span> <span class="n">closure</span> <span class="n">is</span> <span class="n">noetherian</span>
<span class="n">f31eae314</span> <span class="n">Update</span> <span class="n">mathlib</span>
<span class="n">a91192155</span> <span class="n">refactor</span><span class="o">(</span><span class="n">linear_algebra</span><span class="bp">/*</span><span class="o">):</span> <span class="n">postpone</span> <span class="n">importing</span> <span class="n">material</span> <span class="n">on</span> <span class="n">direct</span> <span class="n">sums</span> <span class="o">(</span><span class="bp">#</span><span class="mi">3484</span><span class="o">)</span>
</code></pre></div>


<p>I only ran <code>leanproject build</code> because it seemed like my only option to get it to work. I tried to look over trace.lean (didn't modify anything) and after a long wait I got like 600 errors which all seemed to be related to excessive memory usage. Then I used <code>leanproject build</code> and my comment from before is what I got from it. <br>
Thank you <span class="user-mention" data-user-id="238446">@Anne Baanen</span> for your fix. I got the new commit and I am hoping it will work this time, but it is taking its time to compile.</p>



<a name="208693797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208693797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208693797">(Sep 01 2020 at 14:23)</a>:</h4>
<p><span class="user-mention" data-user-id="131875">@Alexandru-Andrei Bosinta</span> I don't know how much <code>git</code> you know, so you should tell me if I'm boring you.</p>



<a name="208693885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208693885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208693885">(Sep 01 2020 at 14:23)</a>:</h4>
<p><code>leanproject get-cache</code> will use the top-most commit number to check whether there is a precompiled version of mathlib available.</p>



<a name="208693901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208693901" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandru-Andrei Bosinta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208693901">(Sep 01 2020 at 14:24)</a>:</h4>
<p>I know pretty much nothing about <code>git</code>, so you won't be able to bore me</p>



<a name="208693971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208693971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208693971">(Sep 01 2020 at 14:24)</a>:</h4>
<p>But if that commit exists only on your computer, than of course you are stuck</p>



<a name="208694049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208694049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208694049">(Sep 01 2020 at 14:24)</a>:</h4>
<p>In your case, you the top-most commit is the result of you trying to pull commits from github and merge them into what you have locally</p>



<a name="208694170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208694170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208694170">(Sep 01 2020 at 14:25)</a>:</h4>
<p>So, if you make sure you <code>get-cache</code> before you do that git pull, than you will have a decently recent set of olean files.</p>



<a name="208694351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208694351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208694351">(Sep 01 2020 at 14:26)</a>:</h4>
<p>You could do</p>
<div class="codehilite"><pre><span></span><code>git checkout bffc04e65 <span class="c1"># change to the previous commit</span>
leanproject get-cache
git checkout 0d833b6dd <span class="c1"># go back to the top of the log</span>
</code></pre></div>



<a name="208695625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208695625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208695625">(Sep 01 2020 at 14:35)</a>:</h4>
<p>There are still some errors, let's see if I can fix them. I must have updated to a newer mathlib without updating some definitions...</p>



<a name="208696215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208696215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208696215">(Sep 01 2020 at 14:39)</a>:</h4>
<p>OK, I think now everything builds up to some <code>sorry</code>s in <code>dedekind_domain.lean</code> itself.</p>



<a name="208699445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208699445" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexandru-Andrei Bosinta <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208699445">(Sep 01 2020 at 15:00)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> I did the commands you said (in the folder with the branch I got earlier) and then I tried again to look over a file and again I got like 200 errors similar to:</p>
<div class="codehilite"><pre><span></span><code><span class="n">invalid</span> <span class="kn">import</span><span class="o">:</span> <span class="n">data</span><span class="bp">.</span><span class="n">option</span><span class="bp">.</span><span class="n">defs</span>
<span class="n">excessive</span> <span class="n">memory</span> <span class="n">consumption</span> <span class="n">detected</span> <span class="n">at</span> <span class="err">&#39;</span><span class="n">expression</span> <span class="n">traversal&#39;</span> <span class="o">(</span><span class="n">potential</span> <span class="n">solution</span><span class="o">:</span> <span class="n">increase</span> <span class="n">memory</span> <span class="n">consumption</span> <span class="n">threshold</span><span class="o">)</span>
</code></pre></div>


<p>Though I did not get the new commit with the new fixes, but I imagine the same thing will happen even if I do get it. Is there a solution to this, or do I just have to do <code>leanproject build</code> and hope it works?</p>



<a name="208748903"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/208748903" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#208748903">(Sep 01 2020 at 21:08)</a>:</h4>
<p>Just close VS code and open it again, or restart lean with ctrl-,shift p lean: restart</p>



<a name="209364380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209364380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209364380">(Sep 08 2020 at 09:37)</a>:</h4>
<p>Hi there! I am a number theorist and I am interested in working with Lean. I would like to contribute to the part about Dedekind domain: do you have some small lemma  I can try to prove? I mean, some <code>sorry</code> that I can complete without too much effort (I am still a beginner)? Thank you!</p>



<a name="209364677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209364677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209364677">(Sep 08 2020 at 09:40)</a>:</h4>
<p><span class="user-mention" data-user-id="238446">@Anne Baanen</span> What is the current story with Dedekind domains? I would really like a definition in mathlib -- I don't even care about the API. Do we have a definition yet? I am edgy about sorrying data and I don't want to build on a definition which might change in the PR process or whatever</p>



<a name="209364808"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209364808" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209364808">(Sep 08 2020 at 09:42)</a>:</h4>
<p>There are a bunch of extremely competent mathematicians appearing here like Riccardo and <span class="user-mention" data-user-id="321459">@Damiano Testa</span> , who know this material back to front and it would be interesting to see if they can learn Lean by proving theorems at this level of abstraction -- it will provide a good test for our API to see if Lean can model how they're thinking.</p>



<a name="209364933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209364933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209364933">(Sep 08 2020 at 09:43)</a>:</h4>
<p>But definitions are hard. I am still struggling with the definition of the valuation on a DVR because of stupid design decisions -- the issues are not mathematical, they are simply that I am not good at definitions. I guess what I'm saying is the sooner we get the definition established, the sooner we can start building the API.</p>



<a name="209365058"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209365058" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209365058">(Sep 08 2020 at 09:44)</a>:</h4>
<p>I was just about to ping <span class="user-mention" data-user-id="112680">@Johan Commelin</span> to ask for a new review of the PR, since it's looking good to me.</p>



<a name="209365061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209365061" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209365061">(Sep 08 2020 at 09:44)</a>:</h4>
<p>There are also students at Imperial who would be interested in this stuff. I think that you can go a long way with DVRs and Dedekind Domains, there is a big API which as a graduate student I once worked through -- see the first two chapters of Cassels--Froehlich.</p>



<a name="209365137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209365137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209365137">(Sep 08 2020 at 09:45)</a>:</h4>
<p>(<span class="user-mention" data-user-id="112680">@Johan Commelin</span> , could you please review <a href="https://github.com/leanprover-community/mathlib/issues/4000">#4000</a> again? :)</p>



<a name="209365196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209365196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209365196">(Sep 08 2020 at 09:46)</a>:</h4>
<p>I can take a look too</p>



<a name="209365210"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209365210" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209365210">(Sep 08 2020 at 09:46)</a>:</h4>
<p>I'll do it now.</p>



<a name="209365220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209365220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209365220">(Sep 08 2020 at 09:46)</a>:</h4>
<p>Thank you!</p>



<a name="209365388"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209365388" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209365388">(Sep 08 2020 at 09:48)</a>:</h4>
<p>NB I'm slow :-) I'm reading it now.</p>



<a name="209366818"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209366818" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209366818">(Sep 08 2020 at 10:03)</a>:</h4>
<p><span class="user-mention" data-user-id="238446">@Anne Baanen</span> Done</p>



<a name="209368183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209368183" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209368183">(Sep 08 2020 at 10:19)</a>:</h4>
<p>I'll wait a bit to see if Kevin has comments. After that, we can merge this.</p>



<a name="209368185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209368185" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209368185">(Sep 08 2020 at 10:19)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Fixed.</p>



<a name="209368197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209368197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209368197">(Sep 08 2020 at 10:19)</a>:</h4>
<p>yes please wait, I'm about half way through</p>



<a name="209368214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209368214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209368214">(Sep 08 2020 at 10:19)</a>:</h4>
<p>I'm having to read a bunch of stuff I've not looked at before, like fractional_ideal.lean</p>



<a name="209368296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209368296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209368296">(Sep 08 2020 at 10:20)</a>:</h4>
<p>So the big theorem should be that for a Dedekind domain, the monoid of fractional ideals is a group with zero?</p>



<a name="209368331"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209368331" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209368331">(Sep 08 2020 at 10:21)</a>:</h4>
<p>because apparently 0 is a fractional ideal</p>



<a name="209368340"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209368340" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209368340">(Sep 08 2020 at 10:21)</a>:</h4>
<p>I was never sure but I'm happy with the decision</p>



<a name="209368382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209368382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209368382">(Sep 08 2020 at 10:22)</a>:</h4>
<p>All the others are locally free of rank 1, and this has rank 0</p>



<a name="209368914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209368914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209368914">(Sep 08 2020 at 10:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Dedekind.20domains/near/209368296">said</a>:</p>
<blockquote>
<p>So the big theorem should be that for a Dedekind domain, the monoid of fractional ideals is a group with zero?</p>
</blockquote>
<p>Yes, <code>is_dedekind_domain_inv</code> is the definition using this condition. The additions in <code>fractional_ideal</code> allow us to transfer this condition from one choice of field of fractions to another (<code>is_dedekind_domain_iff</code>).</p>



<a name="209370951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209370951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209370951">(Sep 08 2020 at 10:57)</a>:</h4>
<p>why are you making all these other structures?</p>
<p>I'm nearly done by the way.</p>



<a name="209371096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209371096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209371096">(Sep 08 2020 at 10:59)</a>:</h4>
<p>OK I reviewed.</p>



<a name="209371209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209371209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209371209">(Sep 08 2020 at 11:01)</a>:</h4>
<p>I don't have time to read Zulip for the next few hours but if you ping me I'll maybe spot the notification</p>



<a name="209379006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209379006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anne Baanen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209379006">(Sep 08 2020 at 12:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Dedekind.20domains/near/209371096">said</a>:</p>
<blockquote>
<p>OK I reviewed.</p>
</blockquote>
<p>Thank you.</p>
<p>My expectation is that two of the structures are temporary. The advantage of making this PR packing each definition in a structure is to agree on the types of constructors/destructors, which were already diverging between me and <span class="user-mention" data-user-id="319839">@Kenji Nakagawa</span>. Defining the API with only the <code>is_dedekind_domain</code> structure requires the use of <code>sorry</code>. It would be possible, but definitely not in mathlib master and so it will be liable to diverge again. Once the implications are there, to delete the structures, we should just be able to fix existing code by removing the <code>_dvr</code> and <code>_inv</code> parts of the names.</p>



<a name="209471157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209471157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209471157">(Sep 09 2020 at 04:34)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> There were a couple of more replies to your questions. Could you please take a look. If you are happy with how things are (for this PR), please let me know.</p>



<a name="209472471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209472471" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209472471">(Sep 09 2020 at 05:10)</a>:</h4>
<p>I'll look within a few hours</p>



<a name="209738724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209738724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenji Nakagawa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209738724">(Sep 11 2020 at 03:56)</a>:</h4>
<p>I think roughly in order to prove at least one side of the <code>_dvr \iff is_dedekind_domain</code> it would be nice to have R is a DVR iff local <code>is_dedekind_domain</code>. And I suppose this also suggests that we should have a PID <code>is_dedekind_domain</code>. If anyone has progress towards this, that would be of great help.</p>



<a name="209745244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209745244" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209745244">(Sep 11 2020 at 06:34)</a>:</h4>
<p>What is the status of Dedekind domains now? We have the definition but are there any other PRs or branches working on stuff?</p>



<a name="209745278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209745278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209745278">(Sep 11 2020 at 06:35)</a>:</h4>
<p>I am having real problems with making the valuation on a DVR for completely stupid non-mathematical reasons (see the multiplicity thread)</p>



<a name="209749478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209749478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenji Nakagawa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209749478">(Sep 11 2020 at 07:37)</a>:</h4>
<p>I'm currently looking at proving the DVR and integrally closed definitions are equivalent. I believe that currently <span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span> is working on prime factorization, and <span class="user-mention" data-user-id="238446">@Anne Baanen</span> is working towards proving that the ring of integers of a number field is a dedekind domain. As for where this is happening, the github project page is up to date, and the two branches <a href="https://github.com/leanprover-community/mathlib/tree/mushokunosora-dedekind">branch#mushokunosora-dedekind</a> and <a href="https://github.com/leanprover-community/mathlib/tree/Vierkantor-dedekind-domain">branch#Vierkantor-dedekind-domain</a> don't have overlapping work or divergence.</p>
<p>I believe awhile ago someone had mentioned progress on something about the class group, but that's about as much as I know.</p>



<a name="209753943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/209753943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#209753943">(Sep 11 2020 at 08:37)</a>:</h4>
<p>Thanks for the update. In future I'll just look at the project page</p>



<a name="221462997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/221462997" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lambert A'Campo <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#221462997">(Jan 03 2021 at 18:00)</a>:</h4>
<p>May I revive this chat to ask what the current status of proving equivalences between the several definitions of dvrs and Dedekind domains is? I'm interested in writing some of these lemmas but not sure which branch to checkout.</p>



<a name="221464337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/221464337" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#221464337">(Jan 03 2021 at 18:33)</a>:</h4>
<p>I think everything I did, I PR'ed.</p>



<a name="221464397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/221464397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#221464397">(Jan 03 2021 at 18:34)</a>:</h4>
<p>I have been working on changing the definition of a valuation, a recent PR I wrote about ordered monoids got merged so I think I can go ahead and change this now</p>



<a name="221493060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/221493060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ashvni Narayanan <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#221493060">(Jan 04 2021 at 06:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="248716">Lambert A'Campo</span> <a href="#narrow/stream/116395-maths/topic/Dedekind.20domains/near/221462997">said</a>:</p>
<blockquote>
<p>May I revive this chat to ask what the current status of proving equivalences between the several definitions of dvrs and Dedekind domains is? I'm interested in writing some of these lemmas but not sure which branch to checkout.</p>
</blockquote>
<p>I think <span class="user-mention" data-user-id="300245">@Filippo A. E. Nuccio</span>  and <span class="user-mention" data-user-id="238446">@Anne Baanen</span>  might be able to tell you more. I am yet to PR what I did, which is on the <code>dd-iff</code> branch.</p>



<a name="221500081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/221500081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Filippo A. E. Nuccio <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#221500081">(Jan 04 2021 at 08:43)</a>:</h4>
<p><span class="user-mention" data-user-id="248716">@Lambert A'Campo</span> If you leave us a couple of days, we should be able to clarify all the situation and let you know what is still to be done!</p>



<a name="221547121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/221547121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lambert A'Campo <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#221547121">(Jan 04 2021 at 16:40)</a>:</h4>
<p>Ok as practice I spent the afternoon writing a proof for the following lemma: </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="sd">/--</span>
<span class="sd">A local noetherian integral domain `R` such that the maximal ideal of `R` is principal</span>
<span class="sd">and the unique non-zero prime ideal (i.e. `R` has Krull dimension 1)</span>
<span class="sd">is a discrete valuation ring.</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> <span class="n">of_principal_unique_prime_ideal</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span><span class="o">}</span>
  <span class="o">[</span><span class="n">integral_domain</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">local_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">Inoetherian</span> <span class="o">:</span> <span class="n">is_noetherian_ring</span> <span class="n">R</span><span class="o">]</span>
  <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span> <span class="o">(</span><span class="n">Hprincipal</span> <span class="o">:</span> <span class="n">maximal_ideal</span> <span class="n">R</span> <span class="bp">=</span> <span class="n">ideal.span</span> <span class="o">{</span><span class="n">p</span><span class="o">})</span>
  <span class="o">(</span><span class="n">Hunique</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">I</span> <span class="bp">≠</span> <span class="o">(</span><span class="bp">⊥</span> <span class="o">:</span> <span class="n">ideal</span> <span class="n">R</span><span class="o">),</span> <span class="n">I.is_prime</span> <span class="bp">→</span> <span class="n">I</span> <span class="bp">=</span> <span class="n">maximal_ideal</span> <span class="n">R</span><span class="o">)</span>
  <span class="o">(</span><span class="n">Hnon_zero</span> <span class="o">:</span> <span class="n">maximal_ideal</span> <span class="n">R</span> <span class="bp">≠</span> <span class="bp">⊥</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">discrete_valuation_ring</span> <span class="n">R</span>
</code></pre></div>
<p>My code compiles but is very ugly, should I push it to the <code>dd-iff</code> branch?</p>



<a name="221548506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/221548506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#221548506">(Jan 04 2021 at 16:50)</a>:</h4>
<p>sure</p>



<a name="221550773"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/221550773" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lambert A'Campo <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#221550773">(Jan 04 2021 at 17:06)</a>:</h4>
<p>ok I just saw I don't have permission to do that anyways</p>



<a name="221557538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Dedekind%20domains/near/221557538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Lambert A'Campo <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Dedekind.20domains.html#221557538">(Jan 04 2021 at 17:58)</a>:</h4>
<p>could push it now</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>