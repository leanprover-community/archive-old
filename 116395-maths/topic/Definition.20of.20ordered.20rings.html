---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Definition.20of.20ordered.20rings.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html">Definition of ordered rings</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="222597423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222597423" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Christopher Hoskin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222597423">(Jan 13 2021 at 15:29)</a>:</h4>
<p>There seems to me to be something unsatisfactory about the mathlib definition of a (partially) ordered ring [1]. Specifically, it seems to me that</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">mul_pos</span>     <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span>
</code></pre></div>
<p>ought to be</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">mul_pos</span>     <span class="o">:</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">α</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span>
</code></pre></div>
<p>This is the axiom used in other locations e.g. [2], [3], [4]. More importantly the space of continuous real-valued functions on the unit interval is not an ordered ring according to the mathlib definition. (Consider two bump functions with disjoint supports.) Should we not expect a useful definition of ordered ring to include continuous bounded functions on a locally compact Hausdorff space?</p>
<p>Is there a reason <code>mul_pos</code> is specified the way it is?</p>
<p>Thanks,</p>
<p>Christopher</p>
<p>[1] <a href="https://github.com/leanprover-community/mathlib/blob/master/src/algebra/ordered_ring.lean#L490-L492">https://github.com/leanprover-community/mathlib/blob/master/src/algebra/ordered_ring.lean#L490-L492</a><br>
[2] <a href="https://en.wikipedia.org/wiki/Ordered_ring">https://en.wikipedia.org/wiki/Ordered_ring</a><br>
[3] <a href="https://isabelle.in.tum.de/library/HOL/HOL/Rings.html">https://isabelle.in.tum.de/library/HOL/HOL/Rings.html</a><br>
[4] <a href="https://www.google.co.uk/books/edition/Lecture_Notes_On_Algebraic_Structure_Of/6vq2CgAAQBAJ?hl=en&amp;gbpv=1&amp;dq=ordered+rings&amp;pg=PA20&amp;printsec=frontcover">https://www.google.co.uk/books/edition/Lecture_Notes_On_Algebraic_Structure_Of/6vq2CgAAQBAJ?hl=en&amp;gbpv=1&amp;dq=ordered+rings&amp;pg=PA20&amp;printsec=frontcover</a></p>



<a name="222597870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222597870" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222597870">(Jan 13 2021 at 15:32)</a>:</h4>
<p>Just from a naming point of view, wouldn't your suggestion be called <code>mul_nonneg</code>?</p>



<a name="222598134"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222598134" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222598134">(Jan 13 2021 at 15:33)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/algebra/ordered_ring.html#mul_nonneg">https://leanprover-community.github.io/mathlib_docs/algebra/ordered_ring.html#mul_nonneg</a></p>



<a name="222598335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222598335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222598335">(Jan 13 2021 at 15:34)</a>:</h4>
<p>I think we just put the strongest properties we could get away with; there is a whole zoo of less constrained algebraic objects and it would be a lot of navel gazing to explore all of them, so we're just adding them as they become required for applications</p>



<a name="222598487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222598487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222598487">(Jan 13 2021 at 15:35)</a>:</h4>
<p>For conventional rings like <code>int</code> (or totally ordered rings more generally) it's no problem to have a rule like <code>mul_pos</code></p>



<a name="222598625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222598625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222598625">(Jan 13 2021 at 15:36)</a>:</h4>
<p>it's certainly a theorem you want to be true in "some generality", so we need a class to represent it and the theorems that derive from it anyway</p>



<a name="222598926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222598926" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222598926">(Jan 13 2021 at 15:38)</a>:</h4>
<p>I think linearly ordered rings should probably have this <code>mul_pos</code> property, but not general ordered rings</p>



<a name="222599048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222599048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222599048">(Jan 13 2021 at 15:38)</a>:</h4>
<p>I recall us investigating this a while ago. In fact I suspect the definition did not have mul_pos in it two years ago</p>



<a name="222599162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222599162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222599162">(Jan 13 2021 at 15:39)</a>:</h4>
<p>There was some discussion about related topics back in October (<a href="https://github.com/leanprover-community/mathlib/issues/4296">#4296</a>, <a href="https://github.com/leanprover-community/mathlib/issues/4363">#4363</a>) but I'm not sure about this specifically</p>



<a name="222599610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222599610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222599610">(Jan 13 2021 at 15:42)</a>:</h4>
<p>Ah yeah that was what I was thinking of</p>



<a name="222599673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222599673" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222599673">(Jan 13 2021 at 15:42)</a>:</h4>
<p>from what I can tell this rule dates back at least to when <code>ordered_ring</code> was in core</p>



<a name="222605954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222605954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222605954">(Jan 13 2021 at 16:21)</a>:</h4>
<p>The fact that mathlib's definition doesn't agree with other standard sources and there's no mention of it in the doc string is a problem. We could of course just add a doc string with a possible <code>TODO</code> for a bigger refactor.</p>



<a name="222609813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222609813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222609813">(Jan 13 2021 at 16:47)</a>:</h4>
<p>Just as an exercises, these two definitions are equivalent if <code>[no_zero_divisors R]</code> is around:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">partial_order</span> <span class="n">R</span><span class="o">]</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">h</span> <span class="n">a</span> <span class="n">b</span> <span class="n">ha</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">by_cases</span> <span class="n">haz</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">haz</span><span class="o">,</span> <span class="n">zero_mul</span><span class="o">],</span> <span class="o">},</span>
  <span class="n">by_cases</span> <span class="n">hbz</span> <span class="o">:</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">rw</span> <span class="o">[</span><span class="n">hbz</span><span class="o">,</span> <span class="n">mul_zero</span><span class="o">],</span> <span class="o">},</span>
  <span class="k">have</span> <span class="n">ha'</span> <span class="o">:=</span> <span class="n">or.resolve_right</span> <span class="o">(</span><span class="n">le_iff_lt_or_eq.mp</span> <span class="n">ha</span><span class="o">)</span> <span class="o">(</span><span class="n">ne.symm</span> <span class="n">haz</span><span class="o">),</span>
  <span class="k">have</span> <span class="n">hb'</span> <span class="o">:=</span> <span class="n">or.resolve_right</span> <span class="o">(</span><span class="n">le_iff_lt_or_eq.mp</span> <span class="n">hb</span><span class="o">)</span> <span class="o">(</span><span class="n">ne.symm</span> <span class="n">hbz</span><span class="o">),</span>
  <span class="n">exact</span> <span class="n">le_of_lt</span> <span class="o">(</span><span class="n">h</span> <span class="n">_</span> <span class="n">_</span> <span class="n">ha'</span> <span class="n">hb'</span><span class="o">),</span>
<span class="kd">end</span>

<span class="c1">-- needed for the reverse direction</span>
<span class="kd">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">partial_order</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">no_zero_divisors</span> <span class="n">R</span><span class="o">]:</span>
  <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">b</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">≤</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">,</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">b</span> <span class="bp">→</span> <span class="mi">0</span> <span class="bp">&lt;</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intros</span> <span class="n">h</span> <span class="n">a</span> <span class="n">b</span> <span class="n">ha</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">le_iff_lt_or_eq.mp</span> <span class="o">(</span><span class="n">h</span> <span class="n">_</span> <span class="n">_</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">ha</span><span class="o">)</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">hb</span><span class="o">))</span> <span class="k">with</span> <span class="n">h1</span> <span class="n">h2</span><span class="o">,</span>
  <span class="o">{</span> <span class="n">exact</span> <span class="n">h1</span><span class="o">,</span> <span class="o">},</span>
  <span class="n">exfalso</span><span class="o">,</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">eq_zero_or_eq_zero_of_mul_eq_zero</span> <span class="n">h2.symm</span><span class="o">)</span><span class="bp">.</span><span class="n">rec</span> <span class="o">(</span><span class="n">ne_of_gt</span> <span class="n">ha</span><span class="o">)</span> <span class="o">(</span><span class="n">ne_of_gt</span> <span class="n">hb</span><span class="o">),</span>
<span class="kd">end</span>
</code></pre></div>



<a name="222616346"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222616346" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222616346">(Jan 13 2021 at 17:29)</a>:</h4>
<p>In the isabelle version, it looks like <code>mul_pos</code> is derived from <code>mul_nonneg</code> over a total order. If that works that seems fine to me</p>



<a name="222616476"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222616476" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222616476">(Jan 13 2021 at 17:30)</a>:</h4>
<p>oh but you have to assume <code>0 &lt; 1</code></p>



<a name="222617676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222617676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222617676">(Jan 13 2021 at 17:38)</a>:</h4>
<p>which also make sense, I guess</p>



<a name="222620584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222620584" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Christopher Hoskin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222620584">(Jan 13 2021 at 18:00)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span>  From an Operator Algebra point of view, I'd use the term "positive" for "0 ≤ " and "strictly positive" for "0&lt;". But that might not match Mathlib's conventions.</p>



<a name="222625577"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Definition%20of%20ordered%20rings/near/222625577" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Definition.20of.20ordered.20rings.html#222625577">(Jan 13 2021 at 18:36)</a>:</h4>
<p>Currently the only instance of <code>ordered_ring</code> in mathlib that is not linearly ordered is <a href="https://leanprover-community.github.io/mathlib_docs/find/filter.germ.ordered_ring">docs#filter.germ.ordered_ring</a>. I think it would be good to change our definition to the standard definition.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>