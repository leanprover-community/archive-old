---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html">Trying to define maximal subgroups</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="259501498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259501498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Antoine Chambert-Loir <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259501498">(Oct 29 2021 at 09:32)</a>:</h4>
<p>In the idea of continuing my Lean-apprenticeship, I was in the mood of proving the Iwasawa criterion for simplicity. <br>
One hypothesis is that the stabilizer of a point for the action is maximal subgroup.<br>
I tried this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variables</span> <span class="o">(</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">X</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">mul_action</span> <span class="n">G</span> <span class="n">X</span><span class="o">]</span>
<span class="kd">def</span> <span class="n">is_maximal_subgroup</span> <span class="o">{</span><span class="n">G</span><span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">hG</span><span class="o">:</span> <span class="n">group</span> <span class="n">G</span><span class="o">}</span>
    <span class="o">:=</span>  <span class="bp">λ</span> <span class="o">(</span><span class="n">K</span><span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">),</span> <span class="o">(</span> <span class="n">G</span> <span class="bp">≠</span> <span class="n">K</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">H</span><span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">,</span> <span class="n">K</span> <span class="bp">&lt;</span> <span class="n">H</span> <span class="bp">→</span> <span class="n">H</span> <span class="bp">=</span> <span class="bp">⊤</span><span class="o">))</span>
<span class="kd">def</span> <span class="n">has_maximal_stabilizers</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">hG</span><span class="o">:</span> <span class="n">group</span> <span class="n">G</span><span class="o">}</span>  <span class="o">{</span><span class="n">X</span><span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">{</span><span class="n">aGX</span><span class="o">:</span> <span class="n">mul_action</span> <span class="n">G</span> <span class="n">X</span><span class="o">}:</span> <span class="kt">Prop</span>
    <span class="o">:=</span> <span class="bp">∀</span> <span class="n">x</span><span class="o">:</span><span class="n">X</span><span class="o">,</span> <span class="n">is_maximal_subgroup</span> <span class="o">(</span><span class="n">stabilizer</span> <span class="n">G</span> <span class="n">x</span><span class="o">))</span>
</code></pre></div>
<p>but that does not work, and I don't see why.</p>
<p>Moreover, is there a more idiosyncrasic way of saying this? <br>
For comparison, I couldn't understand how (nor where in mathlib) maximal ideals are defined.</p>



<a name="259501784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259501784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259501784">(Oct 29 2021 at 09:36)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/ideal.is_maximal">docs#ideal.is_maximal</a> is maximal ideals</p>



<a name="259501799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259501799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259501799">(Oct 29 2021 at 09:36)</a>:</h4>
<p>I think that (copying maximal ideals)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">is_maximal</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span> <span class="o">(</span><span class="n">out</span> <span class="o">:</span> <span class="n">is_coatom</span> <span class="n">K</span><span class="o">)</span>
</code></pre></div>
<p>it's OK</p>



<a name="259501804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259501804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259501804">(Oct 29 2021 at 09:36)</a>:</h4>
<p>You can also probably use <a href="https://leanprover-community.github.io/mathlib_docs/find/is_coatom">docs#is_coatom</a>.</p>



<a name="259501816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259501816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259501816">(Oct 29 2021 at 09:36)</a>:</h4>
<p>Aaaaah Riccardo</p>



<a name="259501820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259501820" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259501820">(Oct 29 2021 at 09:36)</a>:</h4>
<p>ahahahah</p>



<a name="259501964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259501964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259501964">(Oct 29 2021 at 09:38)</a>:</h4>
<p>In any case what you want is a <code>class</code>, since you want to write something like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">G</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">group</span> <span class="n">G</span><span class="o">]</span> <span class="o">(</span><span class="n">K</span> <span class="o">:</span> <span class="n">subgroup</span> <span class="n">G</span><span class="o">)</span> <span class="o">[</span><span class="n">is_maximal</span> <span class="n">K</span><span class="o">]</span> <span class="o">:</span> <span class="bp">...</span>
</code></pre></div>
<p>so Lean will know automatically that <code>K</code> is maximal and you usually don't need to write explicitly the assumption.</p>



<a name="259501968"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259501968" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259501968">(Oct 29 2021 at 09:38)</a>:</h4>
<p>We're one big mind.</p>



<a name="259502088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259502088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Antoine Chambert-Loir <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259502088">(Oct 29 2021 at 09:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups/near/259501784">said</a>:</p>
<blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/ideal.is_maximal">docs#ideal.is_maximal</a> is maximal ideals</p>
</blockquote>
<p>I'm learning about docs here, this is sorcery! How do you use it in practice? Just type sth in the search bar, and pray?</p>



<a name="259502151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259502151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259502151">(Oct 29 2021 at 09:40)</a>:</h4>
<p><code>is_coatom</code> is a typical mathlib thing in my opinion. It's used in "standard" math (at least, I didn't know this notation), but if we need the same notion twice, it's better to axiomatize it.</p>



<a name="259502181"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259502181" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259502181">(Oct 29 2021 at 09:41)</a>:</h4>
<p><code>ideal.is_maximal</code> could also just be generalized to work in any <a href="https://leanprover-community.github.io/mathlib_docs/find/order_top">docs#order_top</a>. It's really just a wrapper around <code>is_coatom</code>.</p>



<a name="259502238"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259502238" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259502238">(Oct 29 2021 at 09:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130609">Antoine Chambert-Loir</span> <a href="#narrow/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups/near/259502088">said</a>:</p>
<blockquote>
<p>I'm learning about docs here, this is sorcery! How do you use it in practice? Just type sth in the search bar, and pray?</p>
</blockquote>
<p>Read, pray, code.</p>



<a name="259502313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259502313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259502313">(Oct 29 2021 at 09:42)</a>:</h4>
<p><span class="user-mention" data-user-id="130609">@Antoine Chambert-Loir</span> I usually just use grep.</p>



<a name="259502316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259502316" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Antoine Chambert-Loir <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259502316">(Oct 29 2021 at 09:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130384">Riccardo Brasca</span> <a href="#narrow/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups/near/259502151">said</a>:</p>
<blockquote>
<p><code>is_coatom</code> is a typical mathlib thing in my opinion. It's used in "standard" math (at least, I didn't know this notation), but if we need the same notion twice, it's better to axiomatize it.</p>
</blockquote>
<p>It is used, I believe, but for the math that we teach, hence for the one that we have been taught, we have to stay inbetween naming useful concepts and avoiding to introduce too many new stuff.</p>



<a name="259502353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259502353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Riccardo Brasca <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259502353">(Oct 29 2021 at 09:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="130609">Antoine Chambert-Loir</span> <a href="#narrow/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups/near/259502088">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups/near/259501784">said</a>:</p>
<blockquote>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/ideal.is_maximal">docs#ideal.is_maximal</a> is maximal ideals</p>
</blockquote>
<p>I'm learning about docs here, this is sorcery! How do you use it in practice? Just type sth in the search bar, and pray?</p>
</blockquote>
<p>The search bar works pretty well when you become used to the name convention. Usually you can guess the name of any theorem/def.<br>
Sometimes it is slow, but I think that <span class="user-mention" data-user-id="310045">@Eric Wieser</span> suggested a trick of leaving opened a tab in the browser and then searching in another tab, to avoid to download all the database or something like that.</p>



<a name="259503481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259503481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259503481">(Oct 29 2021 at 09:55)</a>:</h4>
<p>Yeah, what's going on is:</p>
<ul>
<li>When you start a search for the first time, the docs kick off a background worker to load up the search cache</li>
<li>Any open tabs will use that background worker</li>
<li>If you have only a single tab open, and click a link to elsewhere in the docs, chrome says "oh you're navigating away so I can kill this worker", and your search cache has to be built from scratch.</li>
</ul>
<p>This feels like a bug to me, but I don't think we have much control over it</p>



<a name="259523051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Trying%20to%20define%20maximal%20subgroups/near/259523051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Trying.20to.20define.20maximal.20subgroups.html#259523051">(Oct 29 2021 at 13:23)</a>:</h4>
<blockquote>
<p>but that does not work, and I don't see why.</p>
</blockquote>
<p>Your brackets don't match (thank you bracket pair colorizer), maybe you didn't open or import the right things (you didn't make a <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> so it's hard to tell), and {hG : group G} is usually not a good idea -- <code>group</code> has the <code>class</code> attribute so <code>[group G]</code> is usually the right thing.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>