---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/filter.2Emem_map.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html">filter.mem_map</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="242229262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242229262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242229262">(Jun 10 2021 at 15:57)</a>:</h4>
<p>Is there any reason that <code>mem_map</code> is in mathlib in this form</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">mem_map</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">∈</span> <span class="n">map</span> <span class="n">m</span> <span class="n">f</span> <span class="bp">↔</span> <span class="o">{</span><span class="n">x</span> <span class="bp">|</span> <span class="n">m</span> <span class="n">x</span> <span class="bp">∈</span> <span class="n">t</span><span class="o">}</span> <span class="bp">∈</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">iff.rfl</span>
</code></pre></div>
<p>and not in this form</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[simp]</span> <span class="kd">lemma</span> <span class="n">mem_map</span> <span class="o">:</span> <span class="n">t</span> <span class="bp">∈</span> <span class="n">map</span> <span class="n">m</span> <span class="n">f</span> <span class="bp">↔</span> <span class="n">m</span> <span class="bp">⁻¹'</span> <span class="n">t</span> <span class="bp">∈</span> <span class="n">f</span> <span class="o">:=</span> <span class="n">iff.rfl</span>
</code></pre></div>
<p>?</p>



<a name="242229962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242229962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242229962">(Jun 10 2021 at 16:02)</a>:</h4>
<p>Does <code>set.preimage</code> work here?</p>



<a name="242230055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242230055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242230055">(Jun 10 2021 at 16:02)</a>:</h4>
<p>This is not the type of <code>t</code></p>



<a name="242230124"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242230124" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242230124">(Jun 10 2021 at 16:02)</a>:</h4>
<p>I don't see any reason why this lemma should be stated like that.</p>



<a name="242230151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242230151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242230151">(Jun 10 2021 at 16:02)</a>:</h4>
<p>You should try to change it and see whether it breaks anything</p>



<a name="242230473"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242230473" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242230473">(Jun 10 2021 at 16:05)</a>:</h4>
<p><del>Ah yes, <code>t : \beta</code>. And I bet it would not work because <code>t</code> is not a <code>set _</code></del></p>



<a name="242230580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242230580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242230580">(Jun 10 2021 at 16:05)</a>:</h4>
<p><del>You could try <code>m ⁻¹' {t}</code>?</del></p>



<a name="242230669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242230669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242230669">(Jun 10 2021 at 16:06)</a>:</h4>
<p>Why do you say <code>t</code> is not a set?</p>



<a name="242230677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242230677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242230677">(Jun 10 2021 at 16:06)</a>:</h4>
<p>But I bet the simp-normal form is the one as it is stated</p>



<a name="242230713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242230713" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242230713">(Jun 10 2021 at 16:06)</a>:</h4>
<p>Patrick, you are again correct, and I am confused.</p>



<a name="242231000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242231000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242231000">(Jun 10 2021 at 16:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/filter.2Emem_map/near/242230124">said</a>:</p>
<blockquote>
<p>I don't see any reason why this lemma should be stated like that.</p>
</blockquote>
<p>Like what sorry? You don't see why it is how it is or why it should be how I want it?</p>



<a name="242231087"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242231087" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242231087">(Jun 10 2021 at 16:09)</a>:</h4>
<p>I don't why it is stated the way it's currently stated. Maybe this isn't clearer. I mean I agree with you.</p>



<a name="242231115"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/filter.mem_map/near/242231115" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Nicolò Cavalleri <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/filter.2Emem_map.html#242231115">(Jun 10 2021 at 16:09)</a>:</h4>
<p>Ok thanks I will PR then</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>