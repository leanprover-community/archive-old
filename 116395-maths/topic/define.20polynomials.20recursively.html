---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/define.20polynomials.20recursively.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/define.20polynomials.20recursively.html">define polynomials recursively</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="320551759"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/define%20polynomials%20recursively/near/320551759" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Nestor <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/define.20polynomials.20recursively.html#320551759">(Jan 10 2023 at 21:50)</a>:</h4>
<p>I know there is a standard polynomial library, but for self-instructive purposes I am trying to define them like so:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">polynomial</span> <span class="o">(</span><span class="n">f</span><span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">∃</span> <span class="n">c</span><span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">f</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">c</span><span class="o">)</span> <span class="bp">∨</span> <span class="c1">-- f is constant, or ...</span>
  <span class="o">(</span><span class="bp">∃</span> <span class="n">g</span><span class="o">:</span> <span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">c</span><span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">g</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">f</span> <span class="bp">=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">:</span> <span class="n">ℝ</span><span class="o">,</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">g</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span>
</code></pre></div>
<p>with error <code>unknown identifier 'polynomial'</code></p>



<a name="320557660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/define%20polynomials%20recursively/near/320557660" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/define.20polynomials.20recursively.html#320557660">(Jan 10 2023 at 22:30)</a>:</h4>
<p>Did you mean to write <code>:=</code> instead of <code> :</code>?</p>



<a name="320557707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/define%20polynomials%20recursively/near/320557707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/define.20polynomials.20recursively.html#320557707">(Jan 10 2023 at 22:30)</a>:</h4>
<p>That says "let <code>polynomial</code> be a proof of the fact that ..."</p>



<a name="320557766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/define%20polynomials%20recursively/near/320557766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/define.20polynomials.20recursively.html#320557766">(Jan 10 2023 at 22:31)</a>:</h4>
<p>But I expect you meant <code>def polynomial (f: ℝ → ℝ) : Prop :=</code>, "let <code>polynomial</code> be a proposition, defined as ..."</p>



<a name="320558174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/define%20polynomials%20recursively/near/320558174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Nestor <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/define.20polynomials.20recursively.html#320558174">(Jan 10 2023 at 22:34)</a>:</h4>
<p>yes, whoops. but the error persists</p>



<a name="320560939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/define%20polynomials%20recursively/near/320560939" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/define.20polynomials.20recursively.html#320560939">(Jan 10 2023 at 22:55)</a>:</h4>
<p>You want <code>inductive</code></p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>
<span class="kd">inductive</span> <span class="n">is_polynomial</span> <span class="o">:</span> <span class="o">(</span><span class="n">ℝ</span> <span class="bp">→</span> <span class="n">ℝ</span><span class="o">)</span> <span class="bp">→</span> <span class="kt">Prop</span>
<span class="bp">|</span> <span class="n">const</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_polynomial</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">c</span><span class="o">)</span>
<span class="bp">|</span> <span class="n">X_mul_add_C</span> <span class="o">(</span><span class="n">g</span><span class="o">)</span> <span class="o">(</span><span class="n">c</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">:</span> <span class="n">is_polynomial</span> <span class="n">g</span> <span class="bp">→</span> <span class="n">is_polynomial</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="n">x</span> <span class="bp">*</span> <span class="n">g</span> <span class="n">x</span> <span class="bp">+</span> <span class="n">c</span><span class="o">)</span>
</code></pre></div>



<a name="320674539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/define%20polynomials%20recursively/near/320674539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/define.20polynomials.20recursively.html#320674539">(Jan 11 2023 at 11:29)</a>:</h4>
<p>Recursive types are different from inductive types, and you mean the latter this time.</p>



<a name="320674959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/define%20polynomials%20recursively/near/320674959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/define.20polynomials.20recursively.html#320674959">(Jan 11 2023 at 11:31)</a>:</h4>
<p>And there is a third thing called "types defined by recursion", which is also called recursive types sometimes, which is what your initial definition uses. However, your definition uses arbitrary recursion, which leads to inconsistency. You would have to do recursion on some decreasing argument.</p>



<a name="320675080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/define%20polynomials%20recursively/near/320675080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/define.20polynomials.20recursively.html#320675080">(Jan 11 2023 at 11:31)</a>:</h4>
<p><span class="user-mention" data-user-id="519306">@Michael Nestor</span> There is also a mathematical issue with this definition: you've defined "polynomial function". But a <em>polynomial</em> is not a function. Over finite rings, you only have finitely many polynomial functions, but infinitely many polynomials.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>