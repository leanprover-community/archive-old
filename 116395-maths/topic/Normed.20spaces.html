---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Normed.20spaces.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html">Normed spaces</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="197768408"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197768408" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197768408">(May 16 2020 at 01:07)</a>:</h4>
<p>This continues a <a href="#narrow/stream/113489-new-members/topic/Dependency.20problem">discussion</a> from the new members stream.  I would like to discuss some possible changes to <code>normed_space.basic</code>. Here is the <a href="https://github.com/leanprover-community/mathlib/tree/normed-spaces-edits">branch</a> (not yet PR'd).</p>



<a name="197768413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197768413" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197768413">(May 16 2020 at 01:07)</a>:</h4>
<ol>
<li>Implement <code>normed_algebra.to_normed_space</code>, <a href="#narrow/stream/113489-new-members/topic/.22variables.22.20command/near/197581417">prior discussion</a></li>
</ol>



<a name="197768418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197768418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197768418">(May 16 2020 at 01:07)</a>:</h4>
<ol start="2">
<li>Implement a class <code>normed_module</code> (axiom <code>norm_smul_le</code>, <code>∥c • x∥ ≤ ∥c∥ ∥x∥</code>), and prove that a normed module over a field is a normed space (axiom <code>norm_smul</code>, <code>∥c • x∥ = ∥c∥ ∥x∥</code>).  By the way, I am not sure that a "normed module" is a particularly standard object, but it seemed to me like a useful way to abstract out the norm-respecting property of the C(a, k)-module C(a, E) (for E a normed k-space).</li>
</ol>



<a name="197768464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197768464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197768464">(May 16 2020 at 01:08)</a>:</h4>
<p>Changes that I considered but did not currently implement:</p>



<a name="197768469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197768469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197768469">(May 16 2020 at 01:08)</a>:</h4>
<ol start="3">
<li>Add [@simp] attribute to <code>norm_smul</code> (<code>∥c • x∥ = ∥c∥ ∥x∥</code>) and related lemmas, <a href="https://github.com/leanprover-community/mathlib/pull/2660#discussion_r423522431">prior discussion</a>.  I think this is possibly a good idea in principle, but it breaks a few existing proofs in <code>normed_space.operator_norm</code>, <code>normed_space.banach</code> etc.</li>
</ol>



<a name="197768484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197768484" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197768484">(May 16 2020 at 01:08)</a>:</h4>
<ol start="4">
<li>Introduce consistency among naming in<br>
<code>instance normed_top_monoid : topological_add_monoid α := ...</code><br>
<code>instance normed_top_group : topological_add_group α := ...</code><br>
<code>instance normed_top_ring : topological_ring α :=</code><br>
<code>instance normed_space.topological_vector_space : topological_vector_space α E := ...</code></li>
</ol>



<a name="197768497"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197768497" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197768497">(May 16 2020 at 01:09)</a>:</h4>
<p>Comments on any of these would be welcome.  Regarding 2, it was suggested in the previous thread that once <code>normed_module</code> is added, <code>normed_space</code> should cease to exist except as an abbreviation for a normed module over a field.</p>



<a name="197768507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197768507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197768507">(May 16 2020 at 01:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110050">Sebastien Gouezel</span> <a href="#narrow/stream/113489-new-members/topic/Dependency.20problem/near/197745445">said</a>:</p>
<blockquote>
<p>I think <code>vector_space</code> is just an abbreviation for <code>module</code>. We could have <code>normed_module</code>, and then <code>normed_space</code> as an abbreviation of <code>normed_module</code>.</p>
</blockquote>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/Dependency.20problem/near/197746284">said</a>:</p>
<blockquote>
<p>Sure. And <code>norm_smul</code> would be a lemma with the assumption <code>[normed_field k]</code></p>
</blockquote>



<a name="197768516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197768516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197768516">(May 16 2020 at 01:09)</a>:</h4>
<p>I did not implement this yet, because, if I understand correctly, this would require going through the library to all existing instances of normed spaces, and modifying the existing construction (using the axiom <code>norm_smul</code>) to instead check the new axiom (<code>norm_smul_le</code>).  Correct?  Thoughts?</p>



<a name="197769114"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197769114" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bryan Gin-ge Chen <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197769114">(May 16 2020 at 01:23)</a>:</h4>
<p>I haven't been following this, but <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> recently opened <a href="https://github.com/leanprover-community/mathlib/issues/2693">#2693</a> which seems quite relevant.</p>



<a name="197769307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197769307" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197769307">(May 16 2020 at 01:28)</a>:</h4>
<p>Oops, looks like <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> and I both took the same lesson from our discussion yesterday ...</p>



<a name="197769330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197769330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197769330">(May 16 2020 at 01:29)</a>:</h4>
<p>Sorry Yury, do you want to incorporate my other changes into your refactor?  Or vice versa?</p>



<a name="197771861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197771861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197771861">(May 16 2020 at 02:33)</a>:</h4>
<p>Feel free to take over this</p>



<a name="197771863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197771863" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197771863">(May 16 2020 at 02:33)</a>:</h4>
<p>I'm sorry for starting this without announcing here.</p>



<a name="197772015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772015" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772015">(May 16 2020 at 02:36)</a>:</h4>
<p>Note that I simplified several proofs in <code>bounded_continuous_function</code></p>



<a name="197772035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772035">(May 16 2020 at 02:37)</a>:</h4>
<p>Yes, I think this is likely to be one advantage of replacing <code>norm_smul</code> with <code>norm_smul_le</code>.</p>



<a name="197772078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772078">(May 16 2020 at 02:38)</a>:</h4>
<p>Off the top of your head, are there other instances of normed spaces whose construction will be simplified by this?</p>



<a name="197772091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772091">(May 16 2020 at 02:38)</a>:</h4>
<p><code>operator_norm</code>?</p>



<a name="197772097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772097">(May 16 2020 at 02:39)</a>:</h4>
<p>Also, do you agree with <span class="user-mention" data-user-id="112680">@Johan Commelin</span> / <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> 's proposal to make <code>normed_space</code> an abbreviation for <code>normed_module</code> over a field?</p>



<a name="197772120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772120">(May 16 2020 at 02:39)</a>:</h4>
<p><code>normed_module</code> having the <code>norm_smul_le</code> axiom</p>



<a name="197772126"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772126" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772126">(May 16 2020 at 02:39)</a>:</h4>
<p>Yes.</p>



<a name="197772182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772182">(May 16 2020 at 02:40)</a>:</h4>
<p>And do you have any opinion on the other possible changes? <a href="#narrow/stream/116395-maths/topic/Normed.20spaces/near/197768469">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed.20spaces/near/197768469</a></p>



<a name="197772216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772216">(May 16 2020 at 02:41)</a>:</h4>
<p>1, 2, 3: sure<br>
4: I don't care about instance names</p>



<a name="197772294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772294">(May 16 2020 at 02:43)</a>:</h4>
<p>Ok great.</p>



<a name="197772609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772609">(May 16 2020 at 02:50)</a>:</h4>
<p>Your PR has nicer code than mine.  If you like I can finish chasing down the things that your PR breaks (because of the <code>norm_smul</code> to <code>norm_smul_le</code> change.)</p>



<a name="197772631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772631">(May 16 2020 at 02:51)</a>:</h4>
<p>Then when that is merged, make the <code>space</code> to <code>module</code> change as a second PR.</p>



<a name="197772680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772680">(May 16 2020 at 02:52)</a>:</h4>
<p>Whatever is more convenient for you.</p>



<a name="197772687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197772687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197772687">(May 16 2020 at 02:53)</a>:</h4>
<blockquote>
<p>Your PR has nicer code than mine.</p>
</blockquote>
<p>I have a bit more (~1 year) experience with Lean and mathlib.</p>



<a name="197778616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197778616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197778616">(May 16 2020 at 05:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/113489-new-members/topic/Dependency.20problem/near/197775735">said</a>:</p>
<blockquote>
<p>Yup, that's right. So all their constructions should be prepended with <code>normed_space.mk'</code> or some other name that provided a second constructor.</p>
</blockquote>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> , what do you think of incorporating this suggestion (a second constructor) into your PR, so that there are not a bunch of <code>le_of_eq</code>'s added to the library from normed space constructions for which the equality is more natural than the inequality?  (I can make the change, just wanted to check your opinion.)</p>



<a name="197784197"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197784197" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197784197">(May 16 2020 at 08:29)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span> , <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span>   Do you mind if I work a little on Yury's branch, incorporating your definition of a normed module and registering a normed space as an abbreviation of a normed module?</p>



<a name="197784785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197784785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197784785">(May 16 2020 at 08:45)</a>:</h4>
<p>I don't mind.</p>



<a name="197784862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197784862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197784862">(May 16 2020 at 08:46)</a>:</h4>
<p>Note that <span class="user-mention" data-user-id="260507">@Heather Macbeth</span> has this definition in her branch.</p>



<a name="197784951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197784951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197784951">(May 16 2020 at 08:48)</a>:</h4>
<p>Sure, go ahead!</p>



<a name="197785152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197785152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197785152">(May 16 2020 at 08:53)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> my branch did it the old way, with a normed space as a separate class with <code>to</code> and <code>of</code> methods; no point keeping it.</p>



<a name="197786186"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197786186" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197786186">(May 16 2020 at 09:17)</a>:</h4>
<p>I have started playing with it, and I have broken everything :) More precisely, I have stumbled on an issue with typeclass inference that reminds me very strongly of the issue we had with <code>pi_instance</code> some time ago. Here is a MWE:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">normed_space</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">section</span> <span class="n">normed_module</span>
<span class="kn">set_option</span> <span class="n">default_priority</span> <span class="mi">100</span> <span class="c1">-- see Note [default priority]</span>
<span class="n">class</span> <span class="n">normed_module</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">(</span><span class="n">β</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_group</span> <span class="n">β</span><span class="o">]</span>
  <span class="kn">extends</span> <span class="n">module</span> <span class="n">α</span> <span class="n">β</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">norm_smul_le</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">a</span><span class="o">:</span><span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span><span class="o">:</span><span class="n">β</span><span class="o">),</span> <span class="err">∥</span><span class="n">a</span> <span class="err">•</span> <span class="n">b</span><span class="err">∥</span> <span class="bp">≤</span> <span class="err">∥</span><span class="n">a</span><span class="err">∥</span> <span class="bp">*</span> <span class="err">∥</span><span class="n">b</span><span class="err">∥</span><span class="o">)</span>
<span class="kn">end</span> <span class="n">normed_module</span>

<span class="kn">variables</span> <span class="o">{</span><span class="err">𝕜</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span>  <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="bp">ℕ</span><span class="o">}</span> <span class="o">{</span><span class="n">E</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span> <span class="bp">→</span> <span class="kt">Type</span><span class="o">}</span>
<span class="o">[</span><span class="n">A</span> <span class="o">:</span> <span class="n">normed_field</span> <span class="err">𝕜</span><span class="o">]</span> <span class="o">[</span><span class="n">N</span> <span class="o">:</span> <span class="bp">∀</span><span class="n">i</span><span class="o">,</span> <span class="n">normed_group</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)]</span> <span class="o">[</span><span class="bp">∀</span><span class="n">i</span><span class="o">,</span> <span class="n">normed_module</span> <span class="err">𝕜</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)]</span>

<span class="c1">-- Two different ways to say: Π (i : fin n), module 𝕜 (E i)</span>

<span class="kn">lemma</span> <span class="n">all_right</span> <span class="o">:</span>
<span class="bp">Π</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span>
    <span class="bp">@</span><span class="n">module</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_ring</span><span class="bp">.</span><span class="n">to_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">normed_field</span><span class="bp">.</span><span class="n">to_normed_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="n">A</span><span class="o">))</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_group</span><span class="bp">.</span><span class="n">to_add_comm_group</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">N</span> <span class="n">i</span><span class="o">))</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">apply_instance</span>


<span class="kn">lemma</span> <span class="n">fails</span> <span class="o">:</span>
<span class="bp">Π</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span>
    <span class="bp">@</span><span class="n">module</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">comm_ring</span><span class="bp">.</span><span class="n">to_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">nonzero_comm_ring</span><span class="bp">.</span><span class="n">to_comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
            <span class="o">(</span><span class="bp">@</span><span class="n">local_ring</span><span class="bp">.</span><span class="n">to_nonzero_comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
               <span class="o">(</span><span class="bp">@</span><span class="n">field</span><span class="bp">.</span><span class="n">local_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
                  <span class="o">(</span><span class="bp">@</span><span class="n">normed_field</span><span class="bp">.</span><span class="n">to_field</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="n">A</span><span class="o">)))))</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_group</span><span class="bp">.</span><span class="n">to_add_comm_group</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">N</span> <span class="n">i</span><span class="o">))</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">apply_instance</span> <span class="c1">-- fails</span>
<span class="c1">-- all_right  -- works</span>
</code></pre></div>


<p>I defined normed modules, and then I express in two ways that if you know that you have normed module structures on every <code>E i</code> with respect to some normed field, then you have module structures on the <code>E i</code> with respect to this normed field. The difference is that the instance paths from normed field to ring are different in the two lemmas. In one of them, <code>by apply_instance</code> works, in the other one it fails. But the two lemmas are defeq.</p>



<a name="197787437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197787437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197787437">(May 16 2020 at 09:50)</a>:</h4>
<p>And I guess Lean picks up the wrong path. What do you think about leaving this change to another PR?</p>



<a name="197787707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197787707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197787707">(May 16 2020 at 09:56)</a>:</h4>
<p>You mean the introduction of normed modules? Yes, sure, it can wait for another PR. Still, I think the problem above is important, and should be fixed instead of worked around: this is probably not specific to normed spaces, and could bite us in many places. <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> , <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> , what do you think?</p>



<a name="197803158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197803158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197803158">(May 16 2020 at 16:23)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> do you mind if I also incorporate the change 1 I mentioned above?  (<code>normed_algebra.to_normed_space</code>).  It's unrelated, but only a few lines:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">instance</span> <span class="n">to_normed_space</span> <span class="o">{</span><span class="err">𝕜</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">(</span><span class="err">𝕜&#39;</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">normed_field</span> <span class="err">𝕜</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="err">𝕜&#39;</span><span class="o">]</span>
  <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">normed_algebra</span> <span class="err">𝕜</span> <span class="err">𝕜&#39;</span><span class="o">]</span> <span class="o">:</span> <span class="n">normed_space</span> <span class="err">𝕜</span> <span class="err">𝕜&#39;</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">norm_smul_le</span> <span class="o">:=</span> <span class="k">begin</span>
    <span class="n">intros</span> <span class="n">s</span> <span class="n">x</span><span class="o">,</span>
    <span class="k">calc</span> <span class="err">∥</span><span class="n">s</span> <span class="err">•</span> <span class="n">x</span><span class="err">∥</span> <span class="bp">=</span> <span class="err">∥</span><span class="o">((</span><span class="n">algebra_map</span> <span class="err">𝕜</span> <span class="err">𝕜&#39;</span><span class="o">)</span> <span class="n">s</span><span class="o">)</span> <span class="bp">*</span> <span class="n">x</span><span class="err">∥</span> <span class="o">:</span> <span class="k">by</span> <span class="o">{</span><span class="n">rw</span> <span class="n">h</span><span class="bp">.</span><span class="n">smul_def&#39;</span><span class="o">,</span> <span class="n">exact</span> <span class="n">rfl</span><span class="o">}</span>
    <span class="bp">...</span> <span class="bp">≤</span> <span class="err">∥</span><span class="n">algebra_map</span> <span class="err">𝕜</span> <span class="err">𝕜&#39;</span> <span class="n">s</span><span class="err">∥</span> <span class="bp">*</span> <span class="err">∥</span><span class="n">x</span><span class="err">∥</span> <span class="o">:</span> <span class="n">normed_ring</span><span class="bp">.</span><span class="n">norm_mul</span> <span class="bp">_</span> <span class="bp">_</span>
    <span class="bp">...</span> <span class="bp">=</span> <span class="err">∥</span><span class="n">s</span><span class="err">∥</span> <span class="bp">*</span> <span class="err">∥</span><span class="n">x</span><span class="err">∥</span> <span class="o">:</span> <span class="k">by</span> <span class="n">rw</span> <span class="n">norm_algebra_map_eq</span><span class="o">,</span>
  <span class="kn">end</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">h</span> <span class="o">}</span>
</code></pre></div>



<a name="197807844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197807844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197807844">(May 16 2020 at 18:14)</a>:</h4>
<p>Go ahead.</p>



<a name="197813084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197813084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197813084">(May 16 2020 at 20:18)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> , since you're here, did you have time to have a look at <a href="#narrow/stream/116395-maths/topic/Normed.20spaces/near/197786186">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed.20spaces/near/197786186</a>?</p>



<a name="197813273"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197813273" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197813273">(May 16 2020 at 20:22)</a>:</h4>
<p>It's really a weird behavior. I have investigated it a bit further, and it behaves exactly like the example we had with <code>pi_instance</code> some time ago. There are two terms that are definitionally equal (even with the attribute <code>tactic.transparency.reducible</code>), but <code>apply_instance</code> fails to spot this. The outer terms are proved equal with the attribute <code>tactic.transparency.reducible</code>, but not inner terms. More precisely,</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">outer_works</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">Π</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span>
    <span class="bp">@</span><span class="n">module</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_ring</span><span class="bp">.</span><span class="n">to_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">normed_field</span><span class="bp">.</span><span class="n">to_normed_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="n">A</span><span class="o">))</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_group</span><span class="bp">.</span><span class="n">to_add_comm_group</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">N</span> <span class="n">i</span><span class="o">)))</span>
   <span class="bp">=</span>
  <span class="o">(</span><span class="bp">Π</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span>
    <span class="bp">@</span><span class="n">module</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">comm_ring</span><span class="bp">.</span><span class="n">to_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">nonzero_comm_ring</span><span class="bp">.</span><span class="n">to_comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
            <span class="o">(</span><span class="bp">@</span><span class="n">local_ring</span><span class="bp">.</span><span class="n">to_nonzero_comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
               <span class="o">(</span><span class="bp">@</span><span class="n">field</span><span class="bp">.</span><span class="n">local_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
                  <span class="o">(</span><span class="bp">@</span><span class="n">normed_field</span><span class="bp">.</span><span class="n">to_field</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="n">A</span><span class="o">)))))</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_group</span><span class="bp">.</span><span class="n">to_add_comm_group</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">N</span> <span class="n">i</span><span class="o">)))</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">reflexivity</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">transparency</span><span class="bp">.</span><span class="kn">reducible</span>  <span class="c1">-- works</span>

<span class="kn">lemma</span> <span class="n">inner_fails</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">@</span><span class="n">normed_ring</span><span class="bp">.</span><span class="n">to_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">normed_field</span><span class="bp">.</span><span class="n">to_normed_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="n">A</span><span class="o">))</span>
  <span class="bp">=</span>
  <span class="o">(</span><span class="bp">@</span><span class="n">comm_ring</span><span class="bp">.</span><span class="n">to_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">nonzero_comm_ring</span><span class="bp">.</span><span class="n">to_comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
            <span class="o">(</span><span class="bp">@</span><span class="n">local_ring</span><span class="bp">.</span><span class="n">to_nonzero_comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
               <span class="o">(</span><span class="bp">@</span><span class="n">field</span><span class="bp">.</span><span class="n">local_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
                  <span class="o">(</span><span class="bp">@</span><span class="n">normed_field</span><span class="bp">.</span><span class="n">to_field</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="n">A</span><span class="o">)))))</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">reflexivity</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">transparency</span><span class="bp">.</span><span class="kn">reducible</span>  <span class="c1">-- fails</span>
</code></pre></div>



<a name="197813303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197813303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197813303">(May 16 2020 at 20:23)</a>:</h4>
<p>With <code>tactic.transparency.instances</code>, everything works.</p>



<a name="197814646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197814646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197814646">(May 16 2020 at 20:50)</a>:</h4>
<p>This sounds like "working as intended" though</p>



<a name="197814676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197814676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197814676">(May 16 2020 at 20:50)</a>:</h4>
<p><code>reflexivity reducible</code> is supposed to unfold only reducible definitions, not instances</p>



<a name="197814755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197814755" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197814755">(May 16 2020 at 20:53)</a>:</h4>
<p>doesn't <code>simp</code> have a <code>canonize_instances</code> option that is supposed to fix issues like this?</p>



<a name="197814878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197814878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197814878">(May 16 2020 at 20:56)</a>:</h4>
<p>I don't think it works as intended. You have</p>
<div class="codehilite"><pre><span></span><code><span class="kn">lemma</span> <span class="n">all_right</span> <span class="o">:</span>
<span class="bp">Π</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span>
    <span class="bp">@</span><span class="n">module</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_ring</span><span class="bp">.</span><span class="n">to_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">normed_field</span><span class="bp">.</span><span class="n">to_normed_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="n">A</span><span class="o">))</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_group</span><span class="bp">.</span><span class="n">to_add_comm_group</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">N</span> <span class="n">i</span><span class="o">))</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">apply_instance</span>

<span class="kn">lemma</span> <span class="n">fails</span> <span class="o">:</span>
<span class="bp">Π</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span>
    <span class="bp">@</span><span class="n">module</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">comm_ring</span><span class="bp">.</span><span class="n">to_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">nonzero_comm_ring</span><span class="bp">.</span><span class="n">to_comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
            <span class="o">(</span><span class="bp">@</span><span class="n">local_ring</span><span class="bp">.</span><span class="n">to_nonzero_comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
               <span class="o">(</span><span class="bp">@</span><span class="n">field</span><span class="bp">.</span><span class="n">local_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
                  <span class="o">(</span><span class="bp">@</span><span class="n">normed_field</span><span class="bp">.</span><span class="n">to_field</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="n">A</span><span class="o">)))))</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_group</span><span class="bp">.</span><span class="n">to_add_comm_group</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">N</span> <span class="n">i</span><span class="o">))</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">apply_instance</span> <span class="c1">-- fails</span>
<span class="c1">-- all_right  -- works</span>

<span class="kn">lemma</span> <span class="n">outer_works</span> <span class="o">:</span>
  <span class="o">(</span><span class="bp">Π</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span>
    <span class="bp">@</span><span class="n">module</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_ring</span><span class="bp">.</span><span class="n">to_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">normed_field</span><span class="bp">.</span><span class="n">to_normed_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="n">A</span><span class="o">))</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_group</span><span class="bp">.</span><span class="n">to_add_comm_group</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">N</span> <span class="n">i</span><span class="o">)))</span>
   <span class="bp">=</span>
  <span class="o">(</span><span class="bp">Π</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">fin</span> <span class="n">n</span><span class="o">),</span>
    <span class="bp">@</span><span class="n">module</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">comm_ring</span><span class="bp">.</span><span class="n">to_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
         <span class="o">(</span><span class="bp">@</span><span class="n">nonzero_comm_ring</span><span class="bp">.</span><span class="n">to_comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
            <span class="o">(</span><span class="bp">@</span><span class="n">local_ring</span><span class="bp">.</span><span class="n">to_nonzero_comm_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
               <span class="o">(</span><span class="bp">@</span><span class="n">field</span><span class="bp">.</span><span class="n">local_ring</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span>
                  <span class="o">(</span><span class="bp">@</span><span class="n">normed_field</span><span class="bp">.</span><span class="n">to_field</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="err">𝕜</span> <span class="n">A</span><span class="o">)))))</span>
      <span class="o">(</span><span class="bp">@</span><span class="n">normed_group</span><span class="bp">.</span><span class="n">to_add_comm_group</span><span class="bp">.</span><span class="o">{</span><span class="mi">0</span><span class="o">}</span> <span class="o">(</span><span class="n">E</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">N</span> <span class="n">i</span><span class="o">)))</span> <span class="o">:=</span>
<span class="k">by</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">reflexivity</span> <span class="n">tactic</span><span class="bp">.</span><span class="n">transparency</span><span class="bp">.</span><span class="n">instances</span>
</code></pre></div>


<p>In the first lemma, the instance is found. In the second lemma, the instance is not found. But from the point of view of instance resolution, these two things should be the same as the third lemma shows that they are equal for <code> tactic.reflexivity tactic.transparency.instances</code>.</p>



<a name="197814952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197814952" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197814952">(May 16 2020 at 20:58)</a>:</h4>
<p>This is apparently an issue with typeclass inference, and I'm not qualified to fix it in the C++</p>



<a name="197814956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197814956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197814956">(May 16 2020 at 20:58)</a>:</h4>
<p>it is not using instance reducibility for some subproblems</p>



<a name="197814963"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197814963" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197814963">(May 16 2020 at 20:59)</a>:</h4>
<p>does <code>simp</code> fix it?</p>



<a name="197815011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197815011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197815011">(May 16 2020 at 21:00)</a>:</h4>
<p>In my use case, the instance has to be inferred automatically even to let me state my lemma, so <code>simp</code> is not really an option...</p>



<a name="197815053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197815053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197815053">(May 16 2020 at 21:01)</a>:</h4>
<p>So, your guess if that <code>apply_instance</code> is passing the flag <code>tactic.transparency.reducibility</code> instead of <code>tactic.transparency.instances</code> somewhere. Yes, that would perfectly explain the behavior I am seeing.</p>



<a name="197815096"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197815096" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197815096">(May 16 2020 at 21:02)</a>:</h4>
<p>I guess you could locally hide a bad instance?</p>



<a name="197815107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197815107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197815107">(May 16 2020 at 21:02)</a>:</h4>
<p>like I doubt you need local rings for this</p>



<a name="197815192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197815192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197815192">(May 16 2020 at 21:05)</a>:</h4>
<p>Yes, I could certainly do that. But we have already been bitten by this with the <code>pi_instance</code> issue (where it was solved by cleaning up the tactic to make sure that it generates diamonds that are solved with <code>tactic.transparency.reducibility</code>), so I am afraid it will come up again later. If you think this is a C++ problem, all I can do is invoke <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> (but not now, it's the week-end) and pray :)</p>



<a name="197815468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197815468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197815468">(May 16 2020 at 21:12)</a>:</h4>
<p>We need the Zulip developers to implement deferred pings.</p>



<a name="197815677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197815677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197815677">(May 16 2020 at 21:18)</a>:</h4>
<p>I have opened an issue with all the details, and I'll do the manual pinging later.</p>



<a name="197822524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197822524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197822524">(May 17 2020 at 00:37)</a>:</h4>
<p>BTW, <span class="user-mention" data-user-id="260507">@Heather Macbeth</span>  what is your goal with the <code>normed_space</code>/<code>normed_algebra</code> PRs? I mean, do you want to formalize something specific or just filling in a hole in the library?</p>



<a name="197826858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197826858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197826858">(May 17 2020 at 02:52)</a>:</h4>
<p>When I noticed these things, I was trying to prove that under appropriate hypotheses C(X, 𝕜) is a Banach algebra.</p>



<a name="197826869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197826869" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197826869">(May 17 2020 at 02:52)</a>:</h4>
<p>I am not sure what I will try next, maybe Holder spaces.</p>



<a name="197827168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827168" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827168">(May 17 2020 at 03:01)</a>:</h4>
<p>Good idea!</p>



<a name="197827180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827180">(May 17 2020 at 03:02)</a>:</h4>
<p>I pushed <code>normed_ring</code> instance, then realized that now we do two loosely related changes in one PR.</p>



<a name="197827233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827233">(May 17 2020 at 03:03)</a>:</h4>
<p>So possibly this part should be reverted and moved to another PR. Do you have a <code>normed_algebra</code> instance?</p>



<a name="197827277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827277" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827277">(May 17 2020 at 03:04)</a>:</h4>
<p>Do you mean, that  C(X, 𝕜) is a normed ring?</p>



<a name="197827280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827280">(May 17 2020 at 03:04)</a>:</h4>
<p>Or do you mean an internal change to <code>normed_space</code> regarding normed rings?</p>



<a name="197827362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827362">(May 17 2020 at 03:07)</a>:</h4>
<p>I mean <a href="https://github.com/leanprover-community/mathlib/pull/2693/files#diff-245b918311fade9aafa8bc067388f67bR507">this instance</a></p>



<a name="197827401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827401" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827401">(May 17 2020 at 03:08)</a>:</h4>
<p>Ah great.  Yes, I had some draft code doing approximately that :)</p>



<a name="197827402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827402">(May 17 2020 at 03:08)</a>:</h4>
<p>The next instance should be something like <code>instance [nonempty α] {R : Type*} [normed_algebra 𝕜 R] : algebra 𝕜 (α →ᵇ R)</code>.</p>



<a name="197827404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827404">(May 17 2020 at 03:08)</a>:</h4>
<p>But keep it!</p>



<a name="197827406"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827406" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827406">(May 17 2020 at 03:08)</a>:</h4>
<p>then <code>normed_algebra</code></p>



<a name="197827409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827409">(May 17 2020 at 03:08)</a>:</h4>
<p>Do you have these instances, or I should write&amp;push mine?</p>



<a name="197827503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827503">(May 17 2020 at 03:12)</a>:</h4>
<p>Just checked .. I have <code>algebra</code> but not yet <code>normed_algebra</code></p>



<a name="197827511"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827511" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827511">(May 17 2020 at 03:13)</a>:</h4>
<p>That was why I caught the missing <code>normed_algebra.to_normed_space</code>instance</p>



<a name="197827512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827512" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827512">(May 17 2020 at 03:13)</a>:</h4>
<p>If you like I can finish tomorrow and push as part of the same PR</p>



<a name="197827638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827638" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827638">(May 17 2020 at 03:17)</a>:</h4>
<p>I've just created a new branch <code>bcf-normed-algebra</code>. I'm going to revert some changes in the <code>norm-smul</code> branch. It would be nice if you'll push the two missing instances to the new branch tomorrow, then open a new PR.</p>



<a name="197827650"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827650" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827650">(May 17 2020 at 03:17)</a>:</h4>
<p>Great, will do.</p>



<a name="197827696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827696">(May 17 2020 at 03:18)</a>:</h4>
<p>I can fix merge conflicts once <code>norm_smul</code> will be merged.</p>



<a name="197827942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197827942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197827942">(May 17 2020 at 03:26)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/2693/commits/a5e6999c07b3f84374eed0207b6429f5bef05e01">reverted</a> This means that we shouldn't merge <code>norm-smul</code> into <code>bcf-normed-algebra</code>.</p>



<a name="197828494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197828494" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197828494">(May 17 2020 at 03:45)</a>:</h4>
<p>I'd love to have the following fact about Hölder continuous functions in <code>mathlib</code>: if <code>f : X → Y</code> is Hölder continuous with exponent <code>α</code>, then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo><mi mathvariant="normal">dim</mi><mo>⁡</mo></mo><mi>H</mi></msub><mi>Y</mi><mo>≤</mo><mfrac><mn>1</mn><mi>α</mi></mfrac><msub><mo><mi mathvariant="normal">dim</mi><mo>⁡</mo></mo><mi>H</mi></msub><mi>X</mi></mrow><annotation encoding="application/x-tex">\operatorname{dim}_H Y \le \frac{1}{α}\operatorname{dim}_H X</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mop"><span class="mop"><span class="mord mathrm">d</span><span class="mord mathrm">i</span><span class="mord mathrm">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop"><span class="mord mathrm">d</span><span class="mord mathrm">i</span><span class="mord mathrm">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>. This is an easy exercise but we have neither Hölder continuous functions nor Hausdorff dimension.</p>



<a name="197828574"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197828574" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197828574">(May 17 2020 at 03:47)</a>:</h4>
<p>Yes, I noticed that Hausdorff dimension is missing.  Also a good project.</p>



<a name="197828634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197828634" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197828634">(May 17 2020 at 03:49)</a>:</h4>
<p>I would like to try to get <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>C</mi><mrow><mn>2</mn><mo separator="true">,</mo><mi>α</mi></mrow></msup></mrow><annotation encoding="application/x-tex">C^{2,\alpha}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span></span></span></span></span></span></span></span></span> estimates for the Newtonian potential</p>



<a name="197828680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197828680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197828680">(May 17 2020 at 03:50)</a>:</h4>
<p>Probably there are a lot of things missing before that can be done, but it would be a useful test to show what the library is missing.</p>



<a name="197828692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197828692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197828692">(May 17 2020 at 03:51)</a>:</h4>
<p>Then you'll probably need FTC. We have an abandoned PR with it. I hope to take over this PR soon. Unfortunately, I'm getting distracted by other tasks.</p>



<a name="197828702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197828702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197828702">(May 17 2020 at 03:51)</a>:</h4>
<p>I saw that you are doing the implicit function theorem, that would be really great.</p>



<a name="197828748"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197828748" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197828748">(May 17 2020 at 03:52)</a>:</h4>
<p>People could make some examples of manifolds once you do that!</p>



<a name="197828763"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197828763" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197828763">(May 17 2020 at 03:53)</a>:</h4>
<p>It's mostly done but I need complemented subspaces to write a good API.</p>



<a name="197828875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197828875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197828875">(May 17 2020 at 03:56)</a>:</h4>
<p>There also needs to be a theory of strict k-times-differentiable functions, right?</p>



<a name="197828883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197828883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197828883">(May 17 2020 at 03:56)</a>:</h4>
<p>To get inverse and implicit function theorems in arbitrary differentiability</p>



<a name="197829112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197829112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197829112">(May 17 2020 at 04:05)</a>:</h4>
<p>Do we need <code>f</code> to be strictly differentiable <code>k</code> times?</p>



<a name="197829121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197829121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197829121">(May 17 2020 at 04:05)</a>:</h4>
<p>Once we have the inverse function, its differentiability follows from differentiability of the original function.</p>



<a name="197829179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197829179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197829179">(May 17 2020 at 04:06)</a>:</h4>
<p>See <a href="https://leanprover-community.github.io/mathlib_docs/analysis/calculus/fderiv.html#has_fderiv_at.of_local_left_inverse">this lemma</a></p>



<a name="197829394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197829394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197829394">(May 17 2020 at 04:15)</a>:</h4>
<p>Maybe that's right.  Then one ends up with manifolds whose structure groupoid (if I have learned the library's language correctly yet <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span> ) consists of functions which are 1-time strictly differentiable, k-times differentiable?</p>



<a name="197834855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197834855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197834855">(May 17 2020 at 07:07)</a>:</h4>
<p>The plan is rather to work on reals or complexes, where <code>C^k</code> functions are automatically strictly differentiable.</p>



<a name="197837506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197837506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197837506">(May 17 2020 at 08:26)</a>:</h4>
<blockquote>
<p>People could make some examples of manifolds once you do that!</p>
</blockquote>
<p>There are no examples of anything in mathlib. We don't even have dihedral groups. For some reason examples don't form part of the philosophy. I would love to see examples. When we made schemes the computer scientists said we should make examples, and then we proved that the spectrum of a ring was a scheme and somehow this was enough because we can in theory make examples of rings</p>



<a name="197838196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197838196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197838196">(May 17 2020 at 08:46)</a>:</h4>
<p>Some examples of manifolds are useful for general theory. E.g., there are theorems about <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>S</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">S^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">R</mi><msup><mi>P</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbb RP^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">R</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="197838204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197838204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197838204">(May 17 2020 at 08:47)</a>:</h4>
<p>I think Kenny made the scheme P^1 at some point but the gluing was hard work</p>



<a name="197838231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197838231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197838231">(May 17 2020 at 08:48)</a>:</h4>
<p>I'm sure S^n would be straightforward once you have the basic theorems. How would you do projective space though?</p>



<a name="197838267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197838267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197838267">(May 17 2020 at 08:49)</a>:</h4>
<p>It would be nice to have</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">P</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">{\mathbb P}E</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">P</span></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span> for a vector space <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>;</li>
<li>embedding of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">P</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbb P^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span> into an affine space of larger dimension (don't remember if there is a  general formula for this).</li>
</ul>



<a name="197838325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197838325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197838325">(May 17 2020 at 08:51)</a>:</h4>
<p>Do you have a plan for quotients? What I'm saying is that in alg geom they were a challenge</p>



<a name="197838335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197838335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kenny Lau <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197838335">(May 17 2020 at 08:51)</a>:</h4>
<p>I thought about PE earlier (like a year ago maybe), and I decided that PE requires Grassmannian which requires linear algebra</p>



<a name="197839199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197839199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197839199">(May 17 2020 at 09:15)</a>:</h4>
<p>Putting a manifold structure on the quotient of a manifold by a lie group action might be a challenge. Will there be underlying type theory problems which mathematicians don't usually notice?</p>



<a name="197839291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197839291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197839291">(May 17 2020 at 09:17)</a>:</h4>
<p>I'm thinking <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mi mathvariant="normal">/</mi><mi>H</mi></mrow><annotation encoding="application/x-tex">G/H</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span></span></span> with for example <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>=</mo><mi>G</mi><msub><mi>L</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi mathvariant="double-struck">R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G=GL_2(\mathbb{R})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbb">R</span></span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span></span></span> the upper triangular matrices.</p>



<a name="197839348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197839348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197839348">(May 17 2020 at 09:18)</a>:</h4>
<p>Specifically for the projective space we can come up with an explicit atlas</p>



<a name="197840301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197840301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197840301">(May 17 2020 at 09:42)</a>:</h4>
<p>I would have said the same thing about the alg geom projective space but it was much easier said than done in practice</p>



<a name="197840783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197840783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197840783">(May 17 2020 at 09:55)</a>:</h4>
<p>We'll need affine charts for projective spaces at some-point (but first we'll need affine spaces...). But this is not the morally correct way to put a manifold structure on them. We need quotient manifolds.</p>



<a name="197850455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850455">(May 17 2020 at 13:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/116395-maths/topic/Normed.20spaces/near/197838267">said</a>:</p>
<blockquote>
<p>It would be nice to have</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">P</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">{\mathbb P}E</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">P</span></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span> for a vector space <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>;</li>
<li>embedding of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">P</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbb P^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span> into an affine space of larger dimension (don't remember if there is a  general formula for this).</li>
</ul>
</blockquote>
<p>I believe <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">P</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbb P^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span> embeds (non-holomorphically) into the space of Hermitian <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(n+1)\times(n+1)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> matrices.</p>



<a name="197850485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850485">(May 17 2020 at 13:57)</a>:</h4>
<p>But a non-holomorphic embedding only allows one to construct it (via the implicit function theorem) as a real manifold, not as a complex manifold.</p>



<a name="197850578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850578">(May 17 2020 at 13:59)</a>:</h4>
<p>A bounded holomorphic function is constant, so there is no holomorphic embedding.</p>



<a name="197850649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850649">(May 17 2020 at 14:00)</a>:</h4>
<p>I think constructing projective n-space as a complex manifold might be quite challenging, given what we have.</p>



<a name="197850740"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850740" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850740">(May 17 2020 at 14:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Normed.20spaces/near/197839199">said</a>:</p>
<blockquote>
<p>Putting a manifold structure on the quotient of a manifold by a lie group action might be a challenge. Will there be underlying type theory problems which mathematicians don't usually notice?</p>
</blockquote>
<p>The right theorem is, the quotient by a free proper action is a manifold.</p>



<a name="197850765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850765">(May 17 2020 at 14:02)</a>:</h4>
<p>I think, for this, one needs existence &amp; uniqueness for ODEs</p>



<a name="197850771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850771">(May 17 2020 at 14:03)</a>:</h4>
<p>In Lean this will be a definition, not a theorem, and it might be challenging.</p>



<a name="197850781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850781">(May 17 2020 at 14:03)</a>:</h4>
<p>But you also can't construct CP^n as a complex manifold this way, can you?</p>



<a name="197850790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850790">(May 17 2020 at 14:03)</a>:</h4>
<p>Not the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">C</mi><mo>×</mo></msup></mrow><annotation encoding="application/x-tex">\mathbb{C}^\times</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.771331em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">C</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">×</span></span></span></span></span></span></span></span></span></span></span> action on a vector space of one dimension higher, minus the origin?</p>



<a name="197850800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850800">(May 17 2020 at 14:03)</a>:</h4>
<p>Yes, I think that's fine.</p>



<a name="197850802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850802">(May 17 2020 at 14:03)</a>:</h4>
<p>Isn't it not proper?</p>



<a name="197850803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850803">(May 17 2020 at 14:03)</a>:</h4>
<p>Oh maybe I don't know what proper means</p>



<a name="197850843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850843">(May 17 2020 at 14:04)</a>:</h4>
<p>Maybe I don't know!</p>



<a name="197850888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850888">(May 17 2020 at 14:04)</a>:</h4>
<p>Proper in this case means that the map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>×</mo><mi>M</mi><mo>→</mo><mi>M</mi><mo>×</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">G\times M \to M \times M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span> is proper.</p>



<a name="197850892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850892">(May 17 2020 at 14:05)</a>:</h4>
<p>I think that's fine here.</p>



<a name="197850905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850905">(May 17 2020 at 14:05)</a>:</h4>
<p>Anyway, even if not, one could take the quotient of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>S</mi><mrow><mn>2</mn><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">S^{2n+1}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>S</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">S^1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="197850909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850909">(May 17 2020 at 14:05)</a>:</h4>
<p>Yes, I was just dimly recalling this definition. That's fine then.</p>



<a name="197850914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850914">(May 17 2020 at 14:05)</a>:</h4>
<p>Then Reid's point is that this doesn't give the complex structure</p>



<a name="197850999"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197850999" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197850999">(May 17 2020 at 14:07)</a>:</h4>
<p>The <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mi mathvariant="double-struck">C</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>−</mo><mo stretchy="false">{</mo><mn>0</mn><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><msup><mi mathvariant="double-struck">C</mi><mo>×</mo></msup></mrow><annotation encoding="application/x-tex">(\mathbb{C}^{n+1} - \{0\})/\mathbb{C}^\times</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathbb">C</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.021331em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mclose">}</span><span class="mclose">)</span><span class="mord">/</span><span class="mord"><span class="mord"><span class="mord mathbb">C</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">×</span></span></span></span></span></span></span></span></span></span></span> definition is fine though, I was just using the wrong definition of proper quotient.</p>



<a name="197851110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851110">(May 17 2020 at 14:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/116395-maths/topic/Normed.20spaces/near/197850740">said</a>:</p>
<blockquote>
<p>The right theorem is, the quotient by a free proper action is a manifold.</p>
</blockquote>
<p>Just skimming the proof .</p>



<a name="197851165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851165">(May 17 2020 at 14:10)</a>:</h4>
<p>First, implicit function theorem to show that the G-orbits are properly embedded submanifolds</p>



<a name="197851201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851201">(May 17 2020 at 14:11)</a>:</h4>
<p>Then, existence &amp; uniqueness for ODEs, with smooth dependence on initial conditions, to put charts on the G-orbits via the exponential map, uniformly across a slice.</p>



<a name="197851457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851457">(May 17 2020 at 14:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Normed.20spaces/near/197850649">said</a>:</p>
<blockquote>
<p>I think constructing projective n-space as a complex manifold might be quite challenging, given what we have.</p>
</blockquote>
<p>But why can projective n-space not currently be constructed from n+1 affine charts?</p>



<a name="197851467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851467" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851467">(May 17 2020 at 14:17)</a>:</h4>
<p>Ask <span class="user-mention" data-user-id="110064">@Kenny Lau</span></p>



<a name="197851477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851477">(May 17 2020 at 14:17)</a>:</h4>
<p>Is it just that it's still a pain to differentiate actual functions?</p>



<a name="197851526"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851526" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851526">(May 17 2020 at 14:18)</a>:</h4>
<p>The problem, I believe, is that quotients are very intuitive to mathematicians but my limited experience with using them in Lean to make complex objects has been extremely painful.</p>



<a name="197851535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851535">(May 17 2020 at 14:19)</a>:</h4>
<p>You have two copies of affine 1-space, and then you take the disjiont union, make the quotient, and now we have the underlying type</p>



<a name="197851543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851543">(May 17 2020 at 14:19)</a>:</h4>
<p>but now you need to actually make a structure which has been formalised but which is truly complicated</p>



<a name="197851548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851548">(May 17 2020 at 14:19)</a>:</h4>
<p>and building that structure will involve actually checking all the axioms</p>



<a name="197851592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851592">(May 17 2020 at 14:20)</a>:</h4>
<p>and Patrick's experience checking that various definitions of manifolds were equivalent was a lot more difficult than he expected.</p>



<a name="197851597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851597">(May 17 2020 at 14:20)</a>:</h4>
<p>I see.  So when you construct it from n+1 charts, you are not actually avoiding a quotient construction.  You are just introducing a messier quotient construction.</p>



<a name="197851599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851599">(May 17 2020 at 14:20)</a>:</h4>
<p>Now we've gone with one. Maybe it was the best for making an API or something.</p>



<a name="197851609"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851609" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851609">(May 17 2020 at 14:20)</a>:</h4>
<p>disjoint union of n+1 copies of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">C</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbb{C}^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">C</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span> via identification of points</p>



<a name="197851610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851610">(May 17 2020 at 14:20)</a>:</h4>
<p>But now let's see whether it's any good for making an example.</p>



<a name="197851617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851617">(May 17 2020 at 14:21)</a>:</h4>
<p>rather than <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">C</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\mathbb{C}^*</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">C</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span> quotient of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">C</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>∖</mo><mo stretchy="false">{</mo><mn>0</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathbb{C}^{n+1}\setminus\{0\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">C</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∖</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mclose">}</span></span></span></span></p>



<a name="197851621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851621">(May 17 2020 at 14:21)</a>:</h4>
<p>Yes, making the underlying type is no problem. But now you have to hope that quotient topologies and quotient functions and quotient "I am differentiable" and everything all works fine</p>



<a name="197851629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851629">(May 17 2020 at 14:21)</a>:</h4>
<p>Glueing and quotienting by a group action are both quotients from the point of view of type theory</p>



<a name="197851669"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851669" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851669">(May 17 2020 at 14:22)</a>:</h4>
<p>All I'm saying is that it might be painful but possible. This was what happened in alg geom anyway.</p>



<a name="197851670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851670">(May 17 2020 at 14:22)</a>:</h4>
<p>And diff geom is harder :-)</p>



<a name="197851674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851674" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851674">(May 17 2020 at 14:22)</a>:</h4>
<p>Both of these constructions are of course very important in general.</p>



<a name="197851890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851890">(May 17 2020 at 14:28)</a>:</h4>
<p>For me this was a shock. We had two rings A and B, an explicit isomorphism A[1/f]=B[1/g], where of course I'm using equality the way a mathematician does, but then to get the corresponding isomorphism of the locally ringed spaces is not immediate in dependent type theory, and a locally ringed space is a complex object. However I believe the objects you're dealing with are more complex</p>



<a name="197851989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197851989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197851989">(May 17 2020 at 14:31)</a>:</h4>
<p>Has someone done the quotient of a topological space by an equivalence relation, yet?</p>



<a name="197852042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197852042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197852042">(May 17 2020 at 14:32)</a>:</h4>
<p>Yes: <a href="https://github.com/leanprover-community/mathlib/blob/master/src/topology/constructions.lean#L45-L49">https://github.com/leanprover-community/mathlib/blob/master/src/topology/constructions.lean#L45-L49</a></p>



<a name="197852048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197852048" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197852048">(May 17 2020 at 14:32)</a>:</h4>
<p>(the second one, for an equivalence relation, but the construction is the same)</p>



<a name="197858958"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197858958" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197858958">(May 17 2020 at 17:12)</a>:</h4>
<p>I'm sorry I missed the fun discussion. I haven't read very carefully all messages, but I have a couple of comments. </p>
<ul>
<li>Kevin likes to say differential geometry is harder than algebraic geometry but this is of course meaningless (and he knows it)</li>
<li>There is no obstruction at all to defining projective spaces in currently mathlib, including the topology in the real or complex cases.</li>
<li>There is no obstruction to build a manifold structure on projective space in the real and complex cases. We could do that in at most one day. But it would bring us nothing interesting.</li>
<li>There is an obstruction to quickly do it right, because the natural proof requires machinery that would take time to build. This would be interesting.</li>
</ul>



<a name="197859161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197859161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197859161">(May 17 2020 at 17:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/Normed.20spaces/near/197851535">said</a>:</p>
<blockquote>
<p>You have two copies of affine 1-space, and then you take the disjiont union, make the quotient, and now we have the underlying type</p>
</blockquote>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> , are you saying that doing this for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">P</mi><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">\mathbb{P}^{n}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">P</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span></span> using n+1 charts is not actually that hard?</p>



<a name="197859219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197859219" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197859219">(May 17 2020 at 17:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/116395-maths/topic/Normed.20spaces/near/197850740">said</a>:</p>
<blockquote>
<blockquote>
<p>Putting a manifold structure on the quotient of a manifold by a lie group action might be a challenge. Will there be underlying type theory problems which mathematicians don't usually notice?</p>
</blockquote>
<p>The right theorem is, the quotient by a free proper action is a manifold.</p>
</blockquote>
<p>And is this what you mean by "the right way"?</p>



<a name="197859529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197859529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197859529">(May 17 2020 at 17:24)</a>:</h4>
<p>What Kevin wrote is not the right. The underlying type should be the natural one, without making any choice. Start with a vector space <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span> and define the obvious quotient of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>∖</mo><mo stretchy="false">{</mo><mn>0</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">E \setminus \{0\}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∖</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mclose">}</span></span></span></span> to get <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(E)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span>. And then, assuming the base field is real or complex numbers  there are two roads. In the first road you define affine charts (which will be very sad because we don't have affine spaces) and check transition maps are real or complex analytic (here I'm not sure whether Sébastien is totally ready, maybe I should say smooth instead of analytic). This is what I call the wrong way, but I'm exaggerating a bit when I write this would bring nothing good. What I call the right way is to setup the quotient manifold infrastructure.</p>



<a name="197859621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197859621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197859621">(May 17 2020 at 17:26)</a>:</h4>
<p>Note that I never mention trying to get exactly <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n+1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> charts (or finite dimensionality). I don't see what good it would do. Affine chart are defined as soon as you fix a hyperplane, and their canonical affine structure is much more apparent if you don't pollute things with coordinates.</p>



<a name="197859804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197859804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197859804">(May 17 2020 at 17:30)</a>:</h4>
<p>OK, makes sense!</p>



<a name="197859884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197859884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197859884">(May 17 2020 at 17:32)</a>:</h4>
<p>Even while the quotient infrastructure is not yet set up, people could work on defining Lie groups, Lie group actions, freeness and properness of Lie group actions</p>



<a name="197859899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197859899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197859899">(May 17 2020 at 17:32)</a>:</h4>
<p>And make a bunch of examples of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mi>L</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">GL(n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>-actions and discrete group actions</p>



<a name="197859929"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197859929" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197859929">(May 17 2020 at 17:33)</a>:</h4>
<p>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mi>L</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">GL(n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> and discrete groups being the only Lie groups available without the implicit function theorem)</p>



<a name="197859994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197859994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197859994">(May 17 2020 at 17:34)</a>:</h4>
<p>So that as soon as the quotient manifold infrastructure is done, there are immediately several new examples of manifolds produced</p>



<a name="197860092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197860092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197860092">(May 17 2020 at 17:36)</a>:</h4>
<p>Off topic: A poor man's definition of an automorphic form is a function on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mi>L</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mi mathvariant="double-struck">R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">GL(n,\mathbb{R})</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbb">R</span></span><span class="mclose">)</span></span></span></span> which satisfies certain differential equations (coming from the centre of the universal enveloping algebra of the Lie alegbra). I feel like we are slowly but surely converging to the point where we might be able to do this.</p>



<a name="197860193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197860193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197860193">(May 17 2020 at 17:38)</a>:</h4>
<p>This is all part of the missing infrastructure, so yes, these are all steps in the right direction</p>



<a name="197862397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197862397" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197862397">(May 17 2020 at 18:27)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span> Merged master into <code>bcf-normed-algebra</code>.</p>



<a name="197862789"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197862789" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197862789">(May 17 2020 at 18:35)</a>:</h4>
<p>Thanks, doing the rest now.  I discovered that the <code>normed_algebra</code> structure on bounded continuous functions only works when the domain is nonempty!</p>



<a name="197862868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197862868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197862868">(May 17 2020 at 18:36)</a>:</h4>
<p>It uses <a href="https://github.com/leanprover-community/mathlib/blob/3449510c095f2f9dc81456cebf1f0054d0bb8231/src/topology/bounded_continuous_function.lean#L406">this lemma</a><br>
<code>@[simp] lemma norm_const_eq [h : nonempty α] (b : β) : ∥const α b∥ = ∥b∥ </code></p>



<a name="197862891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197862891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197862891">(May 17 2020 at 18:37)</a>:</h4>
<p>Is there a way to add a hypothesis to an instance?</p>



<a name="197862906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197862906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197862906">(May 17 2020 at 18:37)</a>:</h4>
<p>The instance might never trigger, unless the hypothesis is itself a typeclass.</p>



<a name="197862931"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197862931" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197862931">(May 17 2020 at 18:38)</a>:</h4>
<p><code>instance [nonempty α] : normed_algebra ...</code></p>



<a name="197863772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197863772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197863772">(May 17 2020 at 18:58)</a>:</h4>
<p>Sorry, another question, very much like <a href="#narrow/stream/113489-new-members/topic/.22variables.22.20command/near/197580120">this one</a> <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span>  answered for me on Thursday.  The following </p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="n">algebra</span><span class="bp">.</span><span class="n">ring</span>
<span class="kn">import</span> <span class="n">analysis</span><span class="bp">.</span><span class="n">normed_space</span><span class="bp">.</span><span class="n">basic</span>

<span class="kn">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">normed_ring</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">R</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">*</span> <span class="n">a</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="n">apply</span> <span class="n">mul_comm</span><span class="o">,</span>
<span class="kn">end</span>
</code></pre></div>


<p>fails with "invalid apply tactic, failed to unify <code>a * b = b * a</code> with <code>?m_3 * ?m_4 = ?m_4 * ?m_3</code> ".  (I discovered this while trying to get that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mi>α</mi><mo separator="true">,</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(α, R)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span> is commutative if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span></span></span></span> is.)</p>



<a name="197863799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197863799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197863799">(May 17 2020 at 18:59)</a>:</h4>
<p>Is this impossible to fix without implementing a theory of <code>normed_comm_ring</code> which unifies <code>comm_ring</code> and <code>normed_ring</code>?</p>



<a name="197863850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197863850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197863850">(May 17 2020 at 19:00)</a>:</h4>
<p>I think you're right, you need one more typeclass.</p>



<a name="197888167"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197888167" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197888167">(May 18 2020 at 04:29)</a>:</h4>
<p>PR'd, <a href="https://github.com/leanprover-community/mathlib/issues/2722">#2722</a></p>



<a name="197888299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Normed%20spaces/near/197888299" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Normed.20spaces.html#197888299">(May 18 2020 at 04:32)</a>:</h4>
<p>I decided not to make <code>normed_comm_ring</code>, that can wait for a future refactor of <code>normed_space.basic</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>