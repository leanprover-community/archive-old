---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html">Proofs About Polynomial Degree Based on Derivative</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="278245804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278245804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278245804">(Apr 08 2022 at 01:05)</a>:</h4>
<p>I am trying to show that if P is a polynomial, and the nth derivative of P is a constant, then P is an nth degree polynomial. I began by using induction and proved the n=0 case, but I ran into trouble with the successor case. I was wondering if anyone has any insight or if my statement is actually incorrect and I am trying to prove something that isn't valid. I attached the statement of the code I wrote. </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span>
<span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span>
<span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span>
<span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span>
<span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">polynomial.iterated_deriv</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">C</span> <span class="o">(</span><span class="bp">↑</span><span class="n">n.factorial</span> <span class="bp">*</span> <span class="n">P.leading_coeff</span><span class="o">))</span>
<span class="o">:</span>
<span class="n">P.nat_degree</span> <span class="bp">=</span> <span class="n">n</span>
<span class="o">:=</span>
</code></pre></div>
<p>Edit: Changed symbol from X to P so its not confusing</p>



<a name="278245890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278245890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Leo Mayer <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278245890">(Apr 08 2022 at 01:07)</a>:</h4>
<p>Does mathlib have the fact that any two antiderivatives differ by a constant? That seems like it would be useful</p>



<a name="278246138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278246138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278246138">(Apr 08 2022 at 01:10)</a>:</h4>
<p>I can look, that does sound useful. Mathlib has currently that if f.nat_deriv &lt; n, then iterated_deriv f n = 0 and stuff like that, but they don't have the inverse. They have stuff depending on what f.nat_deriv is, but not something that proves f.nat_deriv</p>



<a name="278246165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278246165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278246165">(Apr 08 2022 at 01:11)</a>:</h4>
<p>I would suggest using a symbol different from <code>X</code> for the polynomial, since that is also the symbol for the variable!</p>



<a name="278246243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278246243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278246243">(Apr 08 2022 at 01:12)</a>:</h4>
<p>Also, as stated your result is false: the semiring could be trivial, its characteristic could be smaller than <code>n</code>,...</p>



<a name="278246260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278246260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278246260">(Apr 08 2022 at 01:12)</a>:</h4>
<p>and the polynomial could be 0</p>



<a name="278246264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278246264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278246264">(Apr 08 2022 at 01:12)</a>:</h4>
<p>Isn't there a classic problem here for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mi>p</mi></msup></mrow><annotation encoding="application/x-tex">x^p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span> with a ring of characteristic <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>?</p>



<a name="278246298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278246298" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278246298">(Apr 08 2022 at 01:14)</a>:</h4>
<p>I would change the goal to an inequality.</p>



<a name="278246355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278246355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278246355">(Apr 08 2022 at 01:14)</a>:</h4>
<p>Then, <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.nat_degree_derivative_le">docs#polynomial.nat_degree_derivative_le</a> should help (I hope I guessed the right name!). EDIT: the link works now!</p>



<a name="278246727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278246727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278246727">(Apr 08 2022 at 01:21)</a>:</h4>
<p>Incidentally, until a couple of days ago, the lemma used to have <code>f.derivative.nat_degree ≤ f.nat_degree</code> as its conclusion: you'll be probably the first to use it in its revamped form!</p>



<a name="278248266"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278248266" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278248266">(Apr 08 2022 at 01:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <br>
Just edited it, thank you!</p>



<a name="278248354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278248354" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278248354">(Apr 08 2022 at 01:50)</a>:</h4>
<p>Could you explain why this would be false? I find it confusing why the fact that if the nth derivative is constant, it doesn't entail that P is degree n. I understand that it wouldn't be true to say that if the nth derivative is zero, the degree is n-1, but it seems like it must be true if the nth derivative is a constant. Like the polynomial can't be zero if its nth derivative is a constant</p>



<a name="278249831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278249831" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278249831">(Apr 08 2022 at 02:17)</a>:</h4>
<p>Does this convince you?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">[</span><span class="n">subsingleton</span> <span class="n">R</span><span class="o">]</span> <span class="o">(</span><span class="n">P</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">)</span>
  <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">polynomial.iterated_deriv</span> <span class="n">P</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">C</span> <span class="o">(</span><span class="bp">↑</span><span class="n">n.factorial</span> <span class="bp">*</span> <span class="n">P.leading_coeff</span><span class="o">))</span> <span class="o">:</span>
  <span class="n">P</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="n">subsingleton.elim</span> <span class="n">P</span> <span class="mi">0</span>
</code></pre></div>



<a name="278249892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278249892" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278249892">(Apr 08 2022 at 02:18)</a>:</h4>
<p>Note that <code>P = C ...</code> means that <code>P</code> is constant, not that it is non-zero.</p>



<a name="278250718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278250718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278250718">(Apr 08 2022 at 02:34)</a>:</h4>
<p>I think that this was Reid's example:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">semiring</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">n</span> <span class="o">:</span> <span class="n">ℕ</span><span class="o">}</span> <span class="o">(</span><span class="n">n0</span> <span class="o">:</span> <span class="n">n</span> <span class="bp">≠</span> <span class="mi">0</span><span class="o">)</span> <span class="o">:</span>
  <span class="bp">∃</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">polynomial</span> <span class="n">R</span><span class="o">),</span>
    <span class="n">f.iterated_deriv</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">C</span> <span class="o">(</span><span class="bp">↑</span><span class="n">n.factorial</span> <span class="bp">*</span> <span class="n">f.leading_coeff</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">f.nat_degree</span> <span class="bp">≠</span> <span class="n">n</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="mi">0</span><span class="o">,</span> <span class="kd">by</span> <span class="o">{</span><span class="n">simpa</span> <span class="n">using</span> <span class="n">n0.symm</span><span class="o">}⟩</span>
</code></pre></div>



<a name="278255250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278255250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278255250">(Apr 08 2022 at 04:13)</a>:</h4>
<p>Hmm, I will have to look this over more and understand it. Still new to Lean and doing math proofs so forgive me for my slow understanding, but thank you for all your help, I really appreciate it! :)</p>



<a name="278255525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278255525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Max Bobbin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278255525">(Apr 08 2022 at 04:19)</a>:</h4>
<p>I think I understand what you're saying. I think my confusion lies in the fact that P being a constant does not entail it is non-zero. Follow-up question, would saying that P is non-zero then entail my above goal, or is there more to it than I am realizing?</p>



<a name="278256243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278256243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278256243">(Apr 08 2022 at 04:34)</a>:</h4>
<p>There are still a number of things that could go wrong.  For instance, if <code>R</code> is the field with two elements (or, more generally, is a ring of characteristic 2), then the second derivative of <em>every</em> polynomial is zero.  This means that your assumption <code>h1</code> is automatically satisfied in this case, when <code>2 ≤ n</code>.  Your example would therefore say that every polynomial has degree any natural number at least 2: you'll have a hard time convincing lean of this!</p>



<a name="278256411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278256411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278256411">(Apr 08 2022 at 04:38)</a>:</h4>
<p>Heather's example can be interpreted as follows.  Suppose that <code>R</code> is a field of characteristic <code>p</code>.  The polynomial <code>X ^ p + X</code> has degree <code>p</code>.  Its first derivative equals <code>1</code>, which has degree 0, and satisfies <code>h1</code> with <code>n=1</code>.  Yet, the degree of <code>X ^ p + X</code> is not 1.</p>



<a name="278256514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278256514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278256514">(Apr 08 2022 at 04:41)</a>:</h4>
<p>The main issue is that derivatives bring natural numbers in the exponents to multiply the terms of the polynomial.  You need to have some control on whether these natural-numbers-converted-to-elements-of-R are zero or not.  In general, they could be, or some product of them could be.</p>



<a name="278256521"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278256521" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278256521">(Apr 08 2022 at 04:41)</a>:</h4>
<p>(or some product with the leading coefficient of <code>P</code> might)</p>



<a name="278258347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278258347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278258347">(Apr 08 2022 at 05:20)</a>:</h4>
<p><span class="user-mention" data-user-id="474115">@Max Bobbin</span> You might just want to assume that you are working over a ring of characteristic 0 (maybe even a field) such as <code>ℚ</code> or <code>ℝ</code>. Then your intuition works.</p>



<a name="278260152"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278260152" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278260152">(Apr 08 2022 at 06:00)</a>:</h4>
<p>...except if <code>P = 0</code>.</p>



<a name="278270857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278270857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278270857">(Apr 08 2022 at 08:21)</a>:</h4>
<p>I will say, I have done a couple proofs relating to this stuff lately, and I didn't know <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.iterated_deriv">docs#polynomial.iterated_deriv</a> existed, and have been using its definition instead</p>



<a name="278270875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278270875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278270875">(Apr 08 2022 at 08:22)</a>:</h4>
<p>Shall we de-duplicate this?</p>



<a name="278270987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278270987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278270987">(Apr 08 2022 at 08:22)</a>:</h4>
<p>Also, I don't think <code>hom_classes</code> allow this, but it'd be nice for iterated homs to also be a member of the <code>hom_class</code> semi-automatically</p>



<a name="278271035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278271035" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278271035">(Apr 08 2022 at 08:23)</a>:</h4>
<p>This is possible as a constant product of endomorphisms.</p>



<a name="278271275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278271275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278271275">(Apr 08 2022 at 08:25)</a>:</h4>
<p>I recently made <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.iterate_derivative_eq_zero">docs#polynomial.iterate_derivative_eq_zero</a>, I think the proof for this statement shouldn't be too different to it</p>



<a name="278271391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278271391" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278271391">(Apr 08 2022 at 08:26)</a>:</h4>
<p>maybe using <a href="https://leanprover-community.github.io/mathlib_docs/find/nat.case_strong_induction_on">docs#nat.case_strong_induction_on</a> instead of just strong induction</p>



<a name="278291137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278291137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278291137">(Apr 08 2022 at 11:35)</a>:</h4>
<p>Note that for endomorphism <code>⇑(f^n)</code> is usually better than <code> ⇑f^[n]</code> because it has a stronger type</p>



<a name="278307522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278307522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278307522">(Apr 08 2022 at 13:56)</a>:</h4>
<p>so Eric, should we refactor all uses of <a href="https://leanprover-community.github.io/mathlib_docs/find/polynomial.iterated_deriv">docs#polynomial.iterated_deriv</a> and the iterated derivative to use <code>(f^n)</code>?</p>



<a name="278317205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278317205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278317205">(Apr 08 2022 at 15:03)</a>:</h4>
<p>I think that would make things easier</p>



<a name="278317225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278317225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278317225">(Apr 08 2022 at 15:03)</a>:</h4>
<p>Do we have a <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_map.iterate">docs#linear_map.iterate</a> lemma?</p>



<a name="278317303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278317303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278317303">(Apr 08 2022 at 15:03)</a>:</h4>
<p>Ah, it's <a href="https://leanprover-community.github.io/mathlib_docs/find/linear_map.coe_pow">docs#linear_map.coe_pow</a></p>



<a name="278317424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278317424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278317424">(Apr 08 2022 at 15:04)</a>:</h4>
<p>Confusingly lots of lemmas about linear_map's <code>pow</code> use <code>iterate</code> in the name</p>



<a name="278327848"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278327848" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278327848">(Apr 08 2022 at 16:21)</a>:</h4>
<p><span class="user-mention" data-user-id="252627">@Jujian Zhang</span> do you see any issues with this? You seem to have written <code>iterated_deriv</code>; just want to check before I embark and people think it's a bad idea</p>



<a name="278328800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278328800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jujian Zhang <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278328800">(Apr 08 2022 at 16:28)</a>:</h4>
<p>Not at all. Please go ahead.</p>



<a name="278371809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278371809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278371809">(Apr 08 2022 at 22:54)</a>:</h4>
<p>I am doing this now, and it's pretty annoying that the SNF for <code>↑(f^n) x</code> is <code>↑f^[n] x</code>. why did we do this?</p>



<a name="278371951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278371951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278371951">(Apr 08 2022 at 22:56)</a>:</h4>
<p>The motto was that you want to weaken the bundling as much as possible, notably because that might make different higher bundlings converge to the same weaker one.</p>



<a name="278372490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278372490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278372490">(Apr 08 2022 at 23:03)</a>:</h4>
<p>but then you lose all the nice <code>linear_map</code> api, and if you really want this you can just stick <code>pow_apply</code> in there. i don't think it should be in the simpset by defualt</p>



<a name="278372839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278372839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278372839">(Apr 08 2022 at 23:08)</a>:</h4>
<p>... and <code>coe_mul</code>, <code>coe_add</code> ...</p>



<a name="278372890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278372890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278372890">(Apr 08 2022 at 23:09)</a>:</h4>
<p>It's perfectly acceptable to think that a rewrite might be desirable in the default simpset in a situation and not in the other. If only <code>simp [←foo]</code> was working, instead of having to do <code>simp [-foo, ←foo]</code>...</p>



<a name="278372961"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278372961" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278372961">(Apr 08 2022 at 23:10)</a>:</h4>
<p><code>simp [←foo]</code> should already have that behavior</p>



<a name="278372998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278372998" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278372998">(Apr 08 2022 at 23:11)</a>:</h4>
<p>Just yesterday I hit a case where it did not, when <code>foo</code> is already part of the simpset, of course.</p>



<a name="278375543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278375543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278375543">(Apr 08 2022 at 23:56)</a>:</h4>
<p>anyways, I need to do other stuff, so if anyone wants to have a look this stuff is on <a href="https://github.com/leanprover-community/mathlib/tree/ericrbg/iterate_deriv">branch#ericrbg/iterate_deriv</a>. feel free to push/pull; I removed the parts of <code>iterated_deriv.lean</code> that already exist in the rest of the API</p>



<a name="278391379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278391379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278391379">(Apr 09 2022 at 06:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative/near/278372998">said</a>:</p>
<blockquote>
<p>Just yesterday I hit a case where it did not, when <code>foo</code> is already part of the simpset, of course.</p>
</blockquote>
<p>Weird, I'm very sure I've done <code>[← foo]</code> for many <code>foo</code> in the default simpset and it just worked.</p>



<a name="278397880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Proofs%20About%20Polynomial%20Degree%20Based%20on%20Derivative/near/278397880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Proofs.20About.20Polynomial.20Degree.20Based.20on.20Derivative.html#278397880">(Apr 09 2022 at 08:51)</a>:</h4>
<p>Sorry I should have recorded how it happened.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>