---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/Icc_ssubset_Icc.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html">Icc_ssubset_Icc</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="221108347"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221108347" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221108347">(Dec 29 2020 at 03:04)</a>:</h4>
<p>I am planning on making a pull request to add a lemma similar to the following lemma to mathlib's <code>data.set.intervals.basic</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.real.basic</span>


<span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc</span> <span class="o">(</span><span class="n">I₁_s</span> <span class="n">I₁_e</span> <span class="n">I₂_s</span> <span class="n">I₂_e</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">hI₁</span> <span class="o">:</span> <span class="n">I₁_s</span> <span class="bp">&lt;</span> <span class="n">I₁_e</span><span class="o">)</span> <span class="o">(</span><span class="n">hI₂</span> <span class="o">:</span> <span class="n">I₂_s</span> <span class="bp">&lt;</span> <span class="n">I₂_e</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">I₂_s</span> <span class="bp">&lt;</span> <span class="n">I₁_s</span> <span class="bp">∧</span> <span class="n">I₁_e</span> <span class="bp">&lt;</span> <span class="n">I₂_e</span><span class="o">)</span> <span class="bp">→</span> <span class="o">(</span><span class="n">set.Icc</span> <span class="n">I₁_s</span> <span class="n">I₁_e</span> <span class="bp">⊂</span> <span class="n">set.Icc</span> <span class="n">I₂_s</span> <span class="n">I₂_e</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">intro</span> <span class="n">h</span><span class="o">,</span> <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> <span class="n">hs</span> <span class="n">he</span><span class="o">,</span>
  <span class="k">have</span> <span class="n">hIcc</span> <span class="o">:</span> <span class="n">set.Icc</span> <span class="n">I₁_s</span> <span class="n">I₁_e</span> <span class="bp">⊆</span> <span class="n">set.Icc</span> <span class="n">I₂_s</span> <span class="n">I₂_e</span> <span class="o">:=</span> <span class="n">set.Icc_subset_Icc</span> <span class="o">(</span><span class="kd">by</span> <span class="n">linarith</span><span class="o">)</span> <span class="o">(</span><span class="kd">by</span> <span class="n">linarith</span><span class="o">),</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">set.ssubset_iff_of_subset</span> <span class="n">hIcc</span><span class="o">)</span><span class="bp">.</span><span class="n">mpr</span> <span class="o">⟨</span> <span class="n">I₂_s</span><span class="o">,</span> <span class="o">⟨</span> <span class="n">_</span><span class="o">,</span> <span class="kd">by</span> <span class="n">finish</span> <span class="o">⟩</span> <span class="o">⟩,</span>
  <span class="o">{</span>
    <span class="n">rw</span> <span class="n">set.left_mem_Icc</span><span class="o">,</span>
    <span class="n">exact</span> <span class="n">le_of_lt</span> <span class="n">hI₂</span><span class="o">,</span>
  <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>But before I transform the lemma above to match the style and structure of the lemmas in <code>data.set.intervals.basic</code>, is there a way to simplify the <code>intro h, cases h with hs he,</code>?</p>



<a name="221108432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221108432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Adam Topaz <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221108432">(Dec 29 2020 at 03:07)</a>:</h4>
<p>take a look at <a href="https://leanprover-community.github.io/mathlib_docs/tactics.html#rintro">tactic#rintro</a></p>



<a name="221119256"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221119256" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221119256">(Dec 29 2020 at 08:26)</a>:</h4>
<p>Note: you can remove hypothesis <code>hI₁</code></p>



<a name="221173828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221173828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221173828">(Dec 29 2020 at 22:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> <a href="#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221119256">said</a>:</p>
<blockquote>
<p>Note: you can remove hypothesis <code>hI₁</code></p>
</blockquote>
<p>Is there a way to remove hypothesis <code>hI₂</code> as well?</p>



<a name="221207178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221207178" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221207178">(Dec 30 2020 at 11:52)</a>:</h4>
<p>Below is a proof not using <code>finish</code> or <code>linarith</code> of a slightly tightened result.  There are several other cases where there is a strict containment that are not taken into account by this lemma.  Note that hypothesis <code>hI₂</code> cannot simply be removed since otherwise there is the possibility that both intervals are empty and therefore the conclusion would be false.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc</span>
  <span class="o">(</span><span class="n">I₁_s</span> <span class="n">I₁_e</span> <span class="n">I₂_s</span> <span class="n">I₂_e</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">hI₂</span> <span class="o">:</span> <span class="n">I₂_s</span> <span class="bp">≤</span> <span class="n">I₂_e</span><span class="o">)</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">I₂_s</span> <span class="bp">&lt;</span> <span class="n">I₁_s</span> <span class="bp">∧</span> <span class="n">I₁_e</span> <span class="bp">≤</span> <span class="n">I₂_e</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">set.Icc</span> <span class="n">I₁_s</span> <span class="n">I₁_e</span> <span class="bp">⊂</span> <span class="n">set.Icc</span> <span class="n">I₂_s</span> <span class="n">I₂_e</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">set.ssubset_iff_of_subset</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">_</span><span class="o">))</span><span class="bp">.</span><span class="n">mpr</span>
    <span class="o">⟨</span> <span class="n">I₂_s</span><span class="o">,</span> <span class="o">(</span><span class="n">set.left_mem_Icc.mpr</span> <span class="n">hI₂</span><span class="o">),</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">not_le.mpr</span> <span class="n">h.1</span> <span class="n">a.1</span><span class="o">⟩,</span>
  <span class="n">exact</span> <span class="o">⟨</span><span class="n">le_trans</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">h.1</span><span class="o">)</span> <span class="n">b.1</span><span class="o">,</span> <span class="n">le_trans</span> <span class="n">b.2</span> <span class="n">h.2</span><span class="o">⟩,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="221313727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221313727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221313727">(Dec 31 2020 at 20:17)</a>:</h4>
<p>Note that a lemma in <code>data/set/intervals/basic</code> should deal with any type, not just <code>\R</code>. Is there any reason to use <code>∧</code> in <code>h</code> instead of 2 assumptions?</p>



<a name="221327200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221327200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221327200">(Jan 01 2021 at 00:38)</a>:</h4>
<p>At least any <a href="https://leanprover-community.github.io/mathlib_docs/find/densely_ordered">docs#densely_ordered</a> type</p>



<a name="221329580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221329580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221329580">(Jan 01 2021 at 01:44)</a>:</h4>
<p>The proof uses nothing but the endpoints, so it should work without <code>densely_ordered</code>. Any <code>preorder</code>?</p>



<a name="221329596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221329596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221329596">(Jan 01 2021 at 01:45)</a>:</h4>
<p>BTW, this proof is about the left endpoint; the PR should include a version about the right endpoint.</p>



<a name="221487946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221487946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221487946">(Jan 04 2021 at 04:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="214703">Yury G. Kudryashov</span> <a href="#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221313727">said</a>:</p>
<blockquote>
<p>Note that a lemma in <code>data/set/intervals/basic</code> should deal with any type, not just <code>\R</code>. Is there any reason to use <code>∧</code> in <code>h</code> instead of 2 assumptions?</p>
</blockquote>
<p>I made the type <code>ℝ</code> in the lemma on purpose to make it minimal, but I will make sure to make the pull request version of the lemma work with any type.</p>



<a name="221488192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221488192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221488192">(Jan 04 2021 at 04:21)</a>:</h4>
<p>Here's a slightly improved version of the lemma after factoring-in many suggestions:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc</span>
  <span class="o">(</span><span class="n">I₁_s</span> <span class="n">I₁_e</span> <span class="n">I₂_s</span> <span class="n">I₂_e</span> <span class="o">:</span> <span class="n">ℝ</span><span class="o">)</span> <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">I₂_s</span> <span class="bp">≤</span> <span class="n">I₂_e</span><span class="o">)</span> <span class="o">(</span><span class="n">hs</span> <span class="o">:</span> <span class="n">I₂_s</span> <span class="bp">&lt;</span> <span class="n">I₁_s</span><span class="o">)</span> <span class="o">(</span><span class="n">he</span> <span class="o">:</span> <span class="n">I₁_e</span> <span class="bp">≤</span> <span class="n">I₂_e</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">set.Icc</span> <span class="n">I₁_s</span> <span class="n">I₁_e</span> <span class="bp">⊂</span> <span class="n">set.Icc</span> <span class="n">I₂_s</span> <span class="n">I₂_e</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">set.ssubset_iff_of_subset</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">a</span> <span class="n">b</span><span class="o">,</span> <span class="n">_</span><span class="o">))</span><span class="bp">.</span><span class="n">mpr</span>
    <span class="o">⟨</span> <span class="n">I₂_s</span><span class="o">,</span> <span class="o">(</span><span class="n">set.left_mem_Icc.mpr</span> <span class="n">hI</span><span class="o">),</span> <span class="bp">λ</span> <span class="n">a</span><span class="o">,</span> <span class="n">not_le.mpr</span> <span class="n">hs</span> <span class="n">a.1</span><span class="o">⟩,</span>
  <span class="n">exact</span> <span class="o">⟨</span><span class="n">le_trans</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">hs</span><span class="o">)</span> <span class="n">b.1</span><span class="o">,</span> <span class="n">le_trans</span> <span class="n">b.2</span> <span class="n">he</span><span class="o">⟩,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="221489279"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221489279" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221489279">(Jan 04 2021 at 04:51)</a>:</h4>
<p>I think there would need to be three lemmas: one for the left endpoint, one for the right endpoint, and <del>one for both endpoints</del>. I forgot that the original lemma was supposed to handle the both endpoints case rather than the left endpoint case.<br>
<strong>Edit:</strong> The both endpoints lemma is not needed.</p>



<a name="221489924"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221489924" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221489924">(Jan 04 2021 at 05:08)</a>:</h4>
<blockquote>
<p>The both endpoints lemma is not needed</p>
</blockquote>
<p>what do you mean by this? It seems useful enough to me</p>



<a name="221489956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221489956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221489956">(Jan 04 2021 at 05:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221489924">said</a>:</p>
<blockquote>
<blockquote>
<p>The both endpoints lemma is not needed</p>
</blockquote>
<p>what do you mean by this? It seems useful enough to me</p>
</blockquote>
<p>I think the left endpoint lemma can be used wherever the both endpoints lemma can be used.</p>



<a name="221490887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221490887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221490887">(Jan 04 2021 at 05:34)</a>:</h4>
<p>The two endpoints lemma is more general in its conclusion</p>



<a name="221496896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221496896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221496896">(Jan 04 2021 at 07:55)</a>:</h4>
<p>A different generalization of the <code>ℝ</code>case, would be strict containment of closed balls in a metric space.  Those lemmas might also be useful, unless they are already in mathlib!</p>



<a name="221520437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221520437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221520437">(Jan 04 2021 at 13:02)</a>:</h4>
<p>Your slightly improved version looks like it's one step away from a term-mode proof, so you might as well go there :)</p>



<a name="221607590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221607590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221607590">(Jan 05 2021 at 02:38)</a>:</h4>
<p>I have partially transformed the lemma to match the lemmas in <code>data.set.intervals.basic</code>:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc_left</span>
  <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">&lt;</span> <span class="n">a₁</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b₁</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">set.Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊂</span> <span class="n">set.Icc</span> <span class="n">a₂</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">set.ssubset_iff_of_subset</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">m</span> <span class="n">n</span><span class="o">,</span> <span class="n">_</span><span class="o">))</span><span class="bp">.</span><span class="n">mpr</span>
    <span class="o">⟨</span> <span class="n">a₂</span><span class="o">,</span> <span class="o">(</span><span class="n">set.left_mem_Icc.mpr</span> <span class="n">hI</span><span class="o">),</span> <span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">not_le.mpr</span> <span class="n">ha</span> <span class="n">m.1</span> <span class="o">⟩,</span>
  <span class="n">exact</span> <span class="o">⟨</span><span class="n">le_trans</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">ha</span><span class="o">)</span> <span class="n">n.1</span><span class="o">,</span> <span class="n">le_trans</span> <span class="n">n.2</span> <span class="n">hb</span><span class="o">⟩,</span>
<span class="kd">end</span>
</code></pre></div>
<p>and put it between <code>Ico_subset_Ici_self</code> and <code>Icc_subset_Icc_iff</code>. But for some reason, the line:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">⟨</span> <span class="n">a₂</span><span class="o">,</span> <span class="o">(</span><span class="n">set.left_mem_Icc.mpr</span> <span class="n">hI</span><span class="o">),</span> <span class="bp">λ</span> <span class="n">m</span><span class="o">,</span> <span class="n">not_le.mpr</span> <span class="n">ha</span> <span class="n">m.1</span> <span class="o">⟩,</span>
</code></pre></div>
<p>is causing the error:</p>
<div class="codehilite" data-code-language="plain"><pre><span></span><code>type mismatch at application
  not_le.mpr ha
term
  ha
has type
  a₂ &lt; a₁
but is expected to have type
  ?m_3 &lt; ?m_4
state:
α : Type u,
_inst_1 : preorder α,
a₁ a₂ b₁ b₂ : α,
hI : a₂ ≤ b₂,
ha : a₂ &lt; a₁,
hb : b₁ ≤ b₂
⊢ Icc a₁ b₁ ⊂ Icc a₂ b₂
</code></pre></div>



<a name="221607739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221607739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221607739">(Jan 05 2021 at 02:42)</a>:</h4>
<p>Otherwise, replacing <code>not_le.mpr ha m.1</code> with <code>sorry</code> causes no further errors.</p>



<a name="221609639"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221609639" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221609639">(Jan 05 2021 at 03:26)</a>:</h4>
<p>I managed to prove the lemma with a completely different proof:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc_left</span>
  <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">&lt;</span> <span class="n">a₁</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b₁</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">set.Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊂</span> <span class="n">set.Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="n">set.Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊆</span> <span class="n">set.Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span> <span class="n">Icc_subset_Icc</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">ha</span><span class="o">)</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">refine</span> <span class="o">(</span><span class="n">ssubset_iff_of_subset</span> <span class="n">h</span><span class="o">)</span><span class="bp">.</span><span class="n">mpr</span> <span class="n">_</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">a₂</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mem_Icc</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">mem_Icc</span><span class="o">,</span>
  <span class="n">split</span><span class="o">,</span>
  <span class="o">{</span>
    <span class="n">tauto</span><span class="o">,</span>
  <span class="o">},</span>
  <span class="o">{</span>
    <span class="k">have</span> <span class="n">hs</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">a₁</span> <span class="bp">≤</span> <span class="n">a₂</span><span class="o">)</span> <span class="o">:=</span> <span class="n">not_le_of_gt</span> <span class="n">ha</span><span class="o">,</span>
    <span class="n">tauto</span><span class="o">,</span>
  <span class="o">},</span>
<span class="kd">end</span>
</code></pre></div>
<p>I will now try to make it smaller.</p>



<a name="221609987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221609987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221609987">(Jan 05 2021 at 03:35)</a>:</h4>
<p>Nice, I'd write <code>  refine (ssubset_iff_of_subset h).mpr _,</code> as <code>rw ssubset_iff_of_subset h</code></p>



<a name="221610594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221610594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221610594">(Jan 05 2021 at 03:52)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc_left</span>
  <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">&lt;</span> <span class="n">a₁</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b₁</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">set.Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊂</span> <span class="n">set.Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="n">set.Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊆</span> <span class="n">set.Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span> <span class="n">Icc_subset_Icc</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">ha</span><span class="o">)</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">ssubset_iff_of_subset</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">a₂</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mem_Icc</span><span class="o">,</span> <span class="n">mem_Icc</span><span class="o">],</span>
  <span class="k">have</span> <span class="n">h₂</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">a₁</span> <span class="bp">≤</span> <span class="n">a₂</span><span class="o">)</span> <span class="o">:=</span> <span class="n">not_le_of_gt</span> <span class="n">ha</span><span class="o">,</span>
  <span class="n">tauto</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc_right</span>
  <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">a₁</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b₁</span> <span class="bp">&lt;</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">set.Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊂</span> <span class="n">set.Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="n">set.Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊆</span> <span class="n">set.Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span> <span class="n">Icc_subset_Icc</span> <span class="n">ha</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">hb</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">ssubset_iff_of_subset</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">b₂</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mem_Icc</span><span class="o">,</span> <span class="n">mem_Icc</span><span class="o">],</span>
  <span class="k">have</span> <span class="n">h₂</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">b₂</span> <span class="bp">≤</span> <span class="n">b₁</span><span class="o">)</span> <span class="o">:=</span> <span class="n">not_le_of_gt</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">tauto</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="221611685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221611685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221611685">(Jan 05 2021 at 04:25)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> <span class="user-mention" data-user-id="111080">@Floris van Doorn</span> Would you be okay if I added you as co-authors of the PR's commit?</p>



<a name="221611769"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221611769" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221611769">(Jan 05 2021 at 04:26)</a>:</h4>
<p>The final version of the code is:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc_left</span> <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">&lt;</span> <span class="n">a₁</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b₁</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊂</span> <span class="n">Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊆</span> <span class="n">Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span> <span class="n">Icc_subset_Icc</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">ha</span><span class="o">)</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">rw</span> <span class="n">ssubset_iff_of_subset</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">a₂</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mem_Icc</span><span class="o">,</span> <span class="n">mem_Icc</span><span class="o">],</span>
  <span class="k">have</span> <span class="n">h₂</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">a₁</span> <span class="bp">≤</span> <span class="n">a₂</span><span class="o">)</span> <span class="o">:=</span> <span class="n">not_le_of_gt</span> <span class="n">ha</span><span class="o">,</span>
  <span class="n">tauto</span><span class="o">,</span>
<span class="kd">end</span>

<span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc_right</span> <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">a₁</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b₁</span> <span class="bp">&lt;</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊂</span> <span class="n">Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="n">Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊆</span> <span class="n">Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span> <span class="n">Icc_subset_Icc</span> <span class="n">ha</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">hb</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">ssubset_iff_of_subset</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">use</span> <span class="n">b₂</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">[</span><span class="n">mem_Icc</span><span class="o">,</span> <span class="n">mem_Icc</span><span class="o">],</span>
  <span class="k">have</span> <span class="n">h₂</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">b₂</span> <span class="bp">≤</span> <span class="n">b₁</span><span class="o">)</span> <span class="o">:=</span> <span class="n">not_le_of_gt</span> <span class="n">hb</span><span class="o">,</span>
  <span class="n">tauto</span><span class="o">,</span>
<span class="kd">end</span>
</code></pre></div>



<a name="221612198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221612198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221612198">(Jan 05 2021 at 04:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="373871">Mohamed Al-Fahim</span> <a href="#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221611685">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="127136">Alex J. Best</span> <span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> Would you be okay if I added you as co-authors of the PR's commit?</p>
</blockquote>
<p>If you want to thats fine with me, but I don't mind if you don't as I didn't contribute much to your work at all, it was mostly your proof still!</p>



<a name="221612479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221612479" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221612479">(Jan 05 2021 at 04:42)</a>:</h4>
<p>Yeah, I have the same thought. Feel free to either include me or not include me.</p>



<a name="221612548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221612548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221612548">(Jan 05 2021 at 04:44)</a>:</h4>
<p>In that case, the commit message will be:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">feat</span><span class="o">(</span><span class="n">data</span><span class="bp">/</span><span class="n">set</span><span class="bp">/</span><span class="n">intervals</span><span class="o">):</span> <span class="n">add</span> <span class="mi">2</span> <span class="n">Icc</span> <span class="n">ssubset</span> <span class="n">lemmas</span>

<span class="n">Add</span> <span class="n">two</span> <span class="n">strict</span> <span class="n">subset</span> <span class="n">lemmas</span> <span class="n">for</span> <span class="n">Icc</span><span class="o">,</span> <span class="n">discussed</span> <span class="k">in</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">leanprover.zulipchat.com</span><span class="bp">/#</span><span class="n">narrow</span><span class="bp">/</span><span class="n">stream</span><span class="bp">/</span><span class="mi">116395</span><span class="bp">-</span><span class="n">maths</span><span class="bp">/</span><span class="n">topic</span><span class="bp">/</span><span class="n">Icc_ssubset_Icc.</span>
</code></pre></div>
<p><span class="user-group-mention" data-user-group-id="2494">@maintainers</span> May I have push permission? My GitHub username is MohamedAlFahim.</p>



<a name="221612696"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221612696" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221612696">(Jan 05 2021 at 04:49)</a>:</h4>
<p>invite sent!</p>



<a name="221612708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221612708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221612708">(Jan 05 2021 at 04:49)</a>:</h4>
<p>There are term mode versions of your proofs!</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.set.intervals.basic</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a₂</span> <span class="n">b₂</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span>
<span class="kn">open</span> <span class="n">set</span>

<span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc_left</span> <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">&lt;</span> <span class="n">a₁</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b₁</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊂</span> <span class="n">Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">ssubset_iff_of_subset</span> <span class="o">(</span><span class="n">Icc_subset_Icc</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">ha</span><span class="o">)</span> <span class="n">hb</span><span class="o">))</span><span class="bp">.</span><span class="n">mpr</span>
  <span class="o">⟨</span><span class="n">a₂</span><span class="o">,</span> <span class="n">left_mem_Icc.mpr</span> <span class="n">hI</span><span class="o">,</span> <span class="n">not_and.mpr</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">lt_irrefl</span> <span class="n">a₂</span> <span class="o">(</span><span class="n">lt_of_lt_of_le</span> <span class="n">ha</span> <span class="n">f</span><span class="o">))⟩</span>

<span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc_right</span> <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">a₁</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b₁</span> <span class="bp">&lt;</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊂</span> <span class="n">Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">ssubset_iff_of_subset</span> <span class="o">(</span><span class="n">Icc_subset_Icc</span> <span class="n">ha</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">hb</span><span class="o">)))</span><span class="bp">.</span><span class="n">mpr</span>
  <span class="o">⟨</span><span class="n">b₂</span><span class="o">,</span> <span class="n">right_mem_Icc.mpr</span> <span class="n">hI</span><span class="o">,</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">lt_irrefl</span> <span class="n">b₁</span> <span class="o">(</span><span class="n">lt_of_lt_of_le</span> <span class="n">hb</span> <span class="n">f.2</span><span class="o">))⟩</span>
</code></pre></div>



<a name="221612975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221612975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221612975">(Jan 05 2021 at 04:56)</a>:</h4>
<p><span class="user-mention" data-user-id="321459">@Damiano Testa</span> I will make sure to add your version in the next commit</p>



<a name="221613050"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221613050" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221613050">(Jan 05 2021 at 04:58)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> Running <code>git push --set-upstream origin interval_ssubset</code> (I named the branch <code>interval_ssubset</code>) gives:</p>
<div class="codehilite" data-code-language="plain"><pre><span></span><code>remote: Permission to leanprover-community/mathlib.git denied to MohamedAlFahim.
fatal: unable to access 'https://github.com/leanprover-community/mathlib.git/': The requested URL returned error: 403
</code></pre></div>



<a name="221613088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221613088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221613088">(Jan 05 2021 at 04:59)</a>:</h4>
<p>Did you visit <a href="https://github.com/leanprover-community/mathlib/invitations">https://github.com/leanprover-community/mathlib/invitations</a> and accept?</p>



<a name="221613108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221613108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221613108">(Jan 05 2021 at 04:59)</a>:</h4>
<p>yes</p>



<a name="221613243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221613243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221613243">(Jan 05 2021 at 05:02)</a>:</h4>
<p>I will install the GitHub Pull Requests and Issues extension then try again to see if that would fix it.<br>
<strong>Edit:</strong> It didn't fix it, and the extension won't even let me sign in to GitHub. Is there a workaround I can use, besides using the GitHub UI to edit the files?</p>



<a name="221613956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221613956" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221613956">(Jan 05 2021 at 05:18)</a>:</h4>
<p><del>I will try pushing to a fork instead, then make a PR</del></p>



<a name="221614013"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614013" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614013">(Jan 05 2021 at 05:20)</a>:</h4>
<p>I'm guessing something is up with your permissions on github, do you have the right ssh keys for the computer you are on added to github? You could try to configure git to use the git protocol rather than https with <code>git remote set-url origin  git@github.com:leanprover-community/mathlib.git</code></p>



<a name="221614286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614286" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614286">(Jan 05 2021 at 05:26)</a>:</h4>
<p>The error message now after running <code>git push --set-upstream origin interval_ssubset</code> is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">git</span><span class="bp">@</span><span class="n">github.com</span><span class="o">:</span> <span class="n">Permission</span> <span class="n">denied</span> <span class="o">(</span><span class="n">publickey</span><span class="o">)</span><span class="bp">.</span>
<span class="n">fatal</span><span class="o">:</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">read</span> <span class="k">from</span> <span class="n">remote</span> <span class="n">repository.</span>

<span class="n">Please</span> <span class="n">make</span> <span class="n">sure</span> <span class="n">you</span> <span class="k">have</span> <span class="n">the</span> <span class="n">correct</span> <span class="n">access</span> <span class="n">rights</span>
<span class="n">and</span> <span class="n">the</span> <span class="n">repository</span> <span class="n">exists.</span>
</code></pre></div>



<a name="221614300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614300">(Jan 05 2021 at 05:26)</a>:</h4>
<p>I think the GitHub UI is my only option at this point <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="221614394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614394">(Jan 05 2021 at 05:29)</a>:</h4>
<p><span class="user-mention" data-user-id="127136">@Alex J. Best</span> I really appreciate your kind effort!</p>



<a name="221614641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614641">(Jan 05 2021 at 05:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="373871">Mohamed Al-Fahim</span> <a href="#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221613050">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> Running <code>git push --set-upstream origin interval_ssubset</code> (I named the branch <code>interval_ssubset</code>) gives:</p>
<p><div class="codehilite" data-code-language="plain"><pre><span></span><code>remote: Permission to leanprover-community/mathlib.git denied to MohamedAlFahim.
fatal: unable to access 'https://github.com/leanprover-community/mathlib.git/': The requested URL returned error: 403
</code></pre></div><br>
</p>
</blockquote>
<p><span class="user-mention" data-user-id="373871">@Mohamed Al-Fahim</span> what system are you on? Linux/Mac/Windows? Do you have ssh keys on Github?</p>



<a name="221614698"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614698" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614698">(Jan 05 2021 at 05:36)</a>:</h4>
<p>I am on Mac OS</p>



<a name="221614736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614736">(Jan 05 2021 at 05:37)</a>:</h4>
<p>I have no GitHub SSH keys</p>



<a name="221614784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614784">(Jan 05 2021 at 05:38)</a>:</h4>
<p>Aha... you might want to have those anyways. They will make your life a lot easier.</p>



<a name="221614791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614791">(Jan 05 2021 at 05:38)</a>:</h4>
<p>I personally authenticate with SSH, and you seem to authenticate with HTTPS. So I'm not too familiar with what the problem could be.<br>
You did enter your Github login info before/after pushing?</p>



<a name="221614809"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614809" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614809">(Jan 05 2021 at 05:39)</a>:</h4>
<p>I will take your suggestion of using SSH</p>



<a name="221614827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614827">(Jan 05 2021 at 05:39)</a>:</h4>
<p>How do I generate one?</p>



<a name="221614829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614829">(Jan 05 2021 at 05:39)</a>:</h4>
<p>SSH takes a little bit to setup (but Github has detailed guides on how to do it). The advantage is that after you have set it up you can authenticate yourself once with <code>ssh-add</code> and then fetch/push an unlimited number of times.</p>



<a name="221614881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614881">(Jan 05 2021 at 05:40)</a>:</h4>
<p><a href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/connecting-to-github-with-ssh">https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/connecting-to-github-with-ssh</a></p>



<a name="221614905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221614905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221614905">(Jan 05 2021 at 05:41)</a>:</h4>
<p>You will also have to run (in your mathlib dir) <code>git remote set-url origin git@github.com:leanprover-community/mathlib.git</code> at some point (this tells git to connect to mathlib via SSH) (this URL can be found on <a href="https://github.com/leanprover-community/mathlib">https://github.com/leanprover-community/mathlib</a> under downloading code &gt; SSH)</p>



<a name="221617234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221617234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221617234">(Jan 05 2021 at 06:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="321459">Damiano Testa</span> <a href="#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221612708">said</a>:</p>
<blockquote>
<p>There are term mode versions of your proofs!</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">data.set.intervals.basic</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">}</span> <span class="o">[</span><span class="n">preorder</span> <span class="n">R</span><span class="o">]</span> <span class="o">{</span><span class="n">a₂</span> <span class="n">b₂</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="o">:</span> <span class="n">R</span><span class="o">}</span>
<span class="kn">open</span> <span class="n">set</span>

<span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc_left</span> <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">&lt;</span> <span class="n">a₁</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b₁</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊂</span> <span class="n">Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">ssubset_iff_of_subset</span> <span class="o">(</span><span class="n">Icc_subset_Icc</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">ha</span><span class="o">)</span> <span class="n">hb</span><span class="o">))</span><span class="bp">.</span><span class="n">mpr</span>
  <span class="o">⟨</span><span class="n">a₂</span><span class="o">,</span> <span class="n">left_mem_Icc.mpr</span> <span class="n">hI</span><span class="o">,</span> <span class="n">not_and.mpr</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">f</span> <span class="n">g</span><span class="o">,</span> <span class="n">lt_irrefl</span> <span class="n">a₂</span> <span class="o">(</span><span class="n">lt_of_lt_of_le</span> <span class="n">ha</span> <span class="n">f</span><span class="o">))⟩</span>

<span class="kd">lemma</span> <span class="n">Icc_ssubset_Icc_right</span> <span class="o">(</span><span class="n">hI</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">a₂</span> <span class="bp">≤</span> <span class="n">a₁</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">b₁</span> <span class="bp">&lt;</span> <span class="n">b₂</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">Icc</span> <span class="n">a₁</span> <span class="n">b₁</span> <span class="bp">⊂</span> <span class="n">Icc</span> <span class="n">a₂</span> <span class="n">b₂</span> <span class="o">:=</span>
<span class="o">(</span><span class="n">ssubset_iff_of_subset</span> <span class="o">(</span><span class="n">Icc_subset_Icc</span> <span class="n">ha</span> <span class="o">(</span><span class="n">le_of_lt</span> <span class="n">hb</span><span class="o">)))</span><span class="bp">.</span><span class="n">mpr</span>
  <span class="o">⟨</span><span class="n">b₂</span><span class="o">,</span> <span class="n">right_mem_Icc.mpr</span> <span class="n">hI</span><span class="o">,</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">f</span><span class="o">,</span> <span class="n">lt_irrefl</span> <span class="n">b₁</span> <span class="o">(</span><span class="n">lt_of_lt_of_le</span> <span class="n">hb</span> <span class="n">f.2</span><span class="o">))⟩</span>
</code></pre></div><br>
</p>
</blockquote>
<p>Would you be fine if I added you as a co-author to a commit?</p>



<a name="221617566"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221617566" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221617566">(Jan 05 2021 at 06:44)</a>:</h4>
<p>Sure, no problem!</p>



<a name="221618100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221618100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221618100">(Jan 05 2021 at 06:58)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> SSH solved the problem. Thank you!</p>



<a name="221618101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221618101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mohamed Al-Fahim <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221618101">(Jan 05 2021 at 06:58)</a>:</h4>
<p>Here's the Pull Request: <a href="https://github.com/leanprover-community/mathlib/pull/5617">https://github.com/leanprover-community/mathlib/pull/5617</a>.</p>



<a name="221625646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221625646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/Icc_ssubset_Icc.html#221625646">(Jan 05 2021 at 09:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="373871">Mohamed Al-Fahim</span> <a href="#narrow/stream/116395-maths/topic/Icc_ssubset_Icc/near/221618101">said</a>:</p>
<blockquote>
<p>Here's the Pull Request: <a href="https://github.com/leanprover-community/mathlib/pull/5617">https://github.com/leanprover-community/mathlib/pull/5617</a>.</p>
</blockquote>
<p>If you'd like people to review it, you should tag the PR with "awaiting-review" otherwise people may not see it.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>