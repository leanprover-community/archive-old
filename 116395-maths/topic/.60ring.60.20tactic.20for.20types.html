---
layout: archive
title: Zulip Chat Archive
permalink: /stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/index.html">maths</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html">`ring` tactic for types</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="236348600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236348600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236348600">(Apr 27 2021 at 14:39)</a>:</h4>
<p>Is there a way to use the <code>ring</code> tactic for types. </p>
<p>I'm interested in showing the following without going insane:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">xl</span> <span class="n">yl</span> <span class="n">zl</span> <span class="n">xr</span> <span class="n">yr</span> <span class="n">zr</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yl</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yr</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zr</span>
  <span class="bp">≃</span> <span class="n">xl</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">)</span> <span class="o">:=</span>
<span class="gr">sorry</span>
</code></pre></div>



<a name="236348723"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236348723" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236348723">(Apr 27 2021 at 14:40)</a>:</h4>
<p>Usually, having the equivalent of a <code>left_comm</code>, <code>comm</code>, and <code>assoc</code> lemma is enough, if you supply them to the simplifier</p>



<a name="236348865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236348865" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236348865">(Apr 27 2021 at 14:41)</a>:</h4>
<p>I am often using things like <code>simp [and.left_comm, and.comm, and.assoc]</code>, or <code>simp [or.left_comm, or.comm, or.assoc]</code></p>



<a name="236348970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236348970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236348970">(Apr 27 2021 at 14:42)</a>:</h4>
<p>And the simplifier should bring the two sides into a some normal form. Hopefully the two are the same. In this case, it seems like you also need distributive lemmas</p>



<a name="236349102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236349102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236349102">(Apr 27 2021 at 14:42)</a>:</h4>
<p>But since it is creating an <code>equiv</code>, which is data, this seems harder.</p>



<a name="236349130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236349130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236349130">(Apr 27 2021 at 14:42)</a>:</h4>
<p>I think the difficulty here is not the types, but the fact you're working with <code>equiv</code> not <code>eq</code></p>



<a name="236349409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236349409" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236349409">(Apr 27 2021 at 14:44)</a>:</h4>
<p>Write the "equivalent" statement for Prop, get the proof that <code>tauto</code> gives, and convert that manually to the "equivalent" type combinators?</p>



<a name="236350320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236350320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236350320">(Apr 27 2021 at 14:49)</a>:</h4>
<p>I tried this <code> simp[equiv.sum_comm, equiv.prod_assoc, equiv.prod_sum_distrib, equiv.sum_prod_distrib]</code> but it didn't work. <br>
I'll try out the <code>tauto</code> trick.</p>



<a name="236352281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236352281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236352281">(Apr 27 2021 at 15:00)</a>:</h4>
<p>the <code>tauto!</code> term is too complex =C</p>



<a name="236352826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236352826" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236352826">(Apr 27 2021 at 15:01)</a>:</h4>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">fake</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">xl</span> <span class="n">yl</span> <span class="n">zl</span> <span class="n">xr</span> <span class="n">yr</span> <span class="n">zr</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">),</span>
  <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yl</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yr</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zr</span><span class="bp">≃</span><span class="n">xl</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)</span> <span class="bp">⊕</span>
      <span class="n">xr</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="o">(</span><span class="n">xl</span> <span class="n">yl</span> <span class="n">zl</span> <span class="n">xr</span> <span class="n">yr</span> <span class="n">zr</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">),</span>
  <span class="o">{</span><span class="n">mp</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yl</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yr</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">),</span>
           <span class="n">ᾰ.dcases_on</span>
             <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yl</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">),</span>
                <span class="n">ᾰ.dcases_on</span>
                  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="n">xl</span> <span class="bp">×</span> <span class="n">yl</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">)</span> <span class="o">(</span><span class="n">ᾰ_right</span> <span class="o">:</span> <span class="n">zl</span><span class="o">),</span>
                     <span class="n">ᾰ_left.dcases_on</span>
                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="n">xl</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">),</span>
                          <span class="n">ᾰ_left.dcases_on</span>
                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left_left</span> <span class="o">:</span> <span class="n">xl</span><span class="o">)</span> <span class="o">(</span><span class="n">ᾰ_left_right</span> <span class="o">:</span> <span class="n">yl</span><span class="o">),</span>
                               <span class="n">or_iff_not_imp_left.mpr</span>
                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">))),</span>
                                    <span class="o">⟨(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">xl</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_left</span> <span class="n">ᾰ</span><span class="o">)</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                          <span class="o">(</span><span class="n">not_or_distrib.mp</span> <span class="n">ᾰ</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">))</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                               <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_left</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yl</span><span class="o">),</span>
                                                    <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_right_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                      <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_left</span><span class="o">)</span>
                                                      <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_left</span><span class="o">))</span>
                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zl</span><span class="o">),</span>
                                                    <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_right_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                      <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_right</span> <span class="n">ᾰ_left</span><span class="o">)</span>
                                                      <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_right</span> <span class="n">ᾰ_left</span><span class="o">)))),</span>
                                     <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">xl</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_left</span> <span class="n">ᾰ</span><span class="o">)</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                          <span class="n">or_iff_not_imp_left.mpr</span>
                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                               <span class="o">⟨(</span><span class="n">not_or_distrib.mp</span> <span class="n">ᾰ</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">))</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                                     <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yl</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_1</span><span class="o">)</span>
                                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span>
                                                          <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_left</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yl</span><span class="o">),</span>
                                                               <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_right_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yr</span><span class="o">),</span>
                                                                    <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_left</span><span class="o">)</span>
                                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span>
                                                                    <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_left</span><span class="o">))</span>
                                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zl</span><span class="o">),</span>
                                                               <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_right_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_right</span> <span class="n">ᾰ_left</span><span class="o">)</span>
                                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span>
                                                                    <span class="n">absurd</span> <span class="n">ᾰ_right</span> <span class="n">ᾰ_left</span><span class="o">)))),</span>
                                                <span class="n">rfl.mpr</span> <span class="n">ᾰ_right</span><span class="o">⟩))⟩)))</span>
                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">),</span>
                          <span class="n">ᾰ_left.dcases_on</span>
                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left_left</span> <span class="o">:</span> <span class="n">xr</span><span class="o">)</span> <span class="o">(</span><span class="n">ᾰ_left_right</span> <span class="o">:</span> <span class="n">yr</span><span class="o">),</span>
                               <span class="n">or_iff_not_imp_left.mpr</span>
                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">))),</span>
                                    <span class="o">⟨</span><span class="n">rfl.mpr</span> <span class="n">ᾰ_left_left</span><span class="o">,</span>
                                     <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">xl</span><span class="o">),</span>
                                          <span class="n">or_iff_not_imp_left.mpr</span>
                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                               <span class="o">⟨</span><span class="n">rfl.mpr</span> <span class="n">ᾰ_left_right</span><span class="o">,</span> <span class="n">rfl.mpr</span> <span class="n">ᾰ_right</span><span class="o">⟩))</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                          <span class="n">or_iff_not_imp_left.mpr</span>
                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                               <span class="o">⟨</span><span class="n">rfl.mpr</span> <span class="n">ᾰ_left_right</span><span class="o">,</span> <span class="n">rfl.mpr</span> <span class="n">ᾰ_right</span><span class="o">⟩))⟩)))))</span>
             <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yr</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">),</span>
                <span class="n">ᾰ.dcases_on</span>
                  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="n">xl</span> <span class="bp">×</span> <span class="n">yr</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">)</span> <span class="o">(</span><span class="n">ᾰ_right</span> <span class="o">:</span> <span class="n">zr</span><span class="o">),</span>
                     <span class="n">ᾰ_left.dcases_on</span>
                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="n">xl</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">),</span>
                          <span class="n">ᾰ_left.dcases_on</span>
                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left_left</span> <span class="o">:</span> <span class="n">xl</span><span class="o">)</span> <span class="o">(</span><span class="n">ᾰ_left_right</span> <span class="o">:</span> <span class="n">yr</span><span class="o">),</span>
                               <span class="n">or_iff_not_imp_left.mpr</span>
                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">))),</span>
                                    <span class="o">⟨(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">xl</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_left</span> <span class="n">ᾰ</span><span class="o">)</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                          <span class="o">(</span><span class="n">not_or_distrib.mp</span> <span class="n">ᾰ</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">))</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                               <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_left</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yl</span><span class="o">),</span>
                                                    <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_right_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                      <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_right_1</span><span class="o">)</span>
                                                      <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_right</span> <span class="n">ᾰ_right_1</span><span class="o">))</span>
                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zl</span><span class="o">),</span>
                                                    <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_right_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                      <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_right_1</span><span class="o">)</span>
                                                      <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_right</span> <span class="n">ᾰ_right_1</span><span class="o">)))),</span>
                                     <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">xl</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_left</span> <span class="n">ᾰ</span><span class="o">)</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                          <span class="n">or_iff_not_imp_left.mpr</span>
                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                               <span class="o">⟨</span><span class="n">rfl.mpr</span> <span class="n">ᾰ_left_right</span><span class="o">,</span>
                                                <span class="o">(</span><span class="n">not_or_distrib.mp</span> <span class="n">ᾰ</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">))</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                                     <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yl</span><span class="o">),</span>
                                                          <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_left</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yl</span><span class="o">),</span>
                                                               <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_right_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yr</span><span class="o">),</span>
                                                                    <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_right_1</span><span class="o">)</span>
                                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span>
                                                                    <span class="n">absurd</span> <span class="n">ᾰ_right</span> <span class="n">ᾰ_right_1</span><span class="o">))</span>
                                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zl</span><span class="o">),</span>
                                                               <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_right_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yr</span><span class="o">),</span>
                                                                    <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_right_1</span><span class="o">)</span>
                                                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_right_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span>
                                                                    <span class="n">absurd</span> <span class="n">ᾰ_right</span> <span class="n">ᾰ_right_1</span><span class="o">)))</span>
                                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_right</span> <span class="n">ᾰ_1</span><span class="o">))⟩))⟩)))</span>
                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left</span> <span class="o">:</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">),</span>
                          <span class="n">ᾰ_left.dcases_on</span>
                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_left_left</span> <span class="o">:</span> <span class="n">xr</span><span class="o">)</span> <span class="o">(</span><span class="n">ᾰ_left_right</span> <span class="o">:</span> <span class="n">yl</span><span class="o">),</span>
                               <span class="n">or_iff_not_imp_left.mpr</span>
                                 <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">))),</span>
                                    <span class="o">⟨</span><span class="n">rfl.mpr</span> <span class="n">ᾰ_left_left</span><span class="o">,</span>
                                     <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                       <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">xl</span><span class="o">),</span>
                                          <span class="n">or_iff_not_imp_left.mpr</span>
                                            <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)),</span>
                                               <span class="o">⟨(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yl</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_1</span><span class="o">)</span>
                                                  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">zr</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_right</span> <span class="n">ᾰ_1</span><span class="o">),</span>
                                                <span class="o">(</span><span class="n">decidable.not_and_distrib'.mp</span> <span class="n">ᾰ_1</span><span class="o">)</span><span class="bp">.</span><span class="n">dcases_on</span>
                                                  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">ᾰ_1</span> <span class="o">:</span> <span class="bp">¬</span><span class="n">yl</span><span class="o">),</span> <span class="n">absurd</span> <span class="n">ᾰ_left_right</span> <span class="n">ᾰ_1</span><span class="o">)</span>
</code></pre></div>
</div></div>



<a name="236353262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236353262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236353262">(Apr 27 2021 at 15:02)</a>:</h4>
<p>Doing it manually with rintros isn't too bad:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">xl</span> <span class="n">yl</span> <span class="n">zl</span> <span class="n">xr</span> <span class="n">yr</span> <span class="n">zr</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yl</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yr</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zr</span>
  <span class="bp">≃</span> <span class="n">xl</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="n">rintro</span> <span class="o">(⟨⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩),</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">inv_fun</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="n">rintro</span> <span class="o">(⟨</span><span class="n">_</span><span class="o">,</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩),</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">left_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="kd">by</span> <span class="n">tidy</span><span class="o">,</span>
  <span class="n">right_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="kd">by</span> <span class="n">tidy</span> <span class="o">}</span>
</code></pre></div>



<a name="236353320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236353320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236353320">(Apr 27 2021 at 15:03)</a>:</h4>
<p>But the <code>tidy</code> is awfully slow</p>



<a name="236353581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236353581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236353581">(Apr 27 2021 at 15:03)</a>:</h4>
<p>And obviously that doesn't answer your question</p>



<a name="236354105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236354105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236354105">(Apr 27 2021 at 15:05)</a>:</h4>
<p>One issue with such a tactic is that, much like how <code>tauto</code>, <code>ring</code>, and <code>simp</code> might not give the most "direct" route = shortest term, the <code>equiv</code> produced might not be the minimal one.</p>



<a name="236354508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236354508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236354508">(Apr 27 2021 at 15:07)</a>:</h4>
<p>I suspect for the case in question it doesn't really matter</p>



<a name="236354766"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236354766" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236354766">(Apr 27 2021 at 15:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types/near/236353262">said</a>:</p>
<blockquote>
<p>Doing it manually with rintros isn't too bad:</p>
<p><div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">example</span> <span class="o">(</span><span class="n">xl</span> <span class="n">yl</span> <span class="n">zl</span> <span class="n">xr</span> <span class="n">yr</span> <span class="n">zr</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yl</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yr</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zr</span>
  <span class="bp">≃</span> <span class="n">xl</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">to_fun</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="n">rintro</span> <span class="o">(⟨⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩),</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">inv_fun</span> <span class="o">:=</span> <span class="kd">begin</span>
    <span class="n">rintro</span> <span class="o">(⟨</span><span class="n">_</span><span class="o">,</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩),</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
    <span class="o">{</span> <span class="n">refine</span> <span class="n">sum.inl</span> <span class="o">⟨</span><span class="n">sum.inr</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span><span class="bp">;</span> <span class="n">assumption</span> <span class="o">},</span>
  <span class="kd">end</span><span class="o">,</span>
  <span class="n">left_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="kd">by</span> <span class="n">tidy</span><span class="o">,</span>
  <span class="n">right_inv</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span><span class="o">,</span> <span class="kd">by</span> <span class="n">tidy</span> <span class="o">}</span>
</code></pre></div><br>
</p>
</blockquote>
<p>I should be able to unravel the <code>tidy</code> here, thanks!</p>



<a name="236354984"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236354984" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236354984">(Apr 27 2021 at 15:09)</a>:</h4>
<p>But I wonder if there is some way to extend the <code>ring</code> or some such tactic to any type with an equivalence relation that behaves nicely with sums and products.</p>



<a name="236355509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236355509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236355509">(Apr 27 2021 at 15:11)</a>:</h4>
<p>I need to unravel several long(er) equivalences like <code>(xl × yl ⊕ xr × yr) × zl ⊕ (xl × yr ⊕ xr × yl) × zl  ≃ xl × (yl × zl ⊕ yr × zr) ⊕ xr × (yl × zr ⊕ yr × zl)</code> and it'll be really painful to have to do it by hand every single time :(</p>



<a name="236355905"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236355905" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236355905">(Apr 27 2021 at 15:12)</a>:</h4>
<p>One promising sign is that the <code>calc</code> mode works well with equivalences.</p>



<a name="236355913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236355913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236355913">(Apr 27 2021 at 15:12)</a>:</h4>
<p>It should be a straightforward metaprogramming exercise (for someone familiar with metaprogramming!)to make a tactic that essentially does the rintros / refine / assumption above</p>



<a name="236356073"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236356073" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236356073">(Apr 27 2021 at 15:13)</a>:</h4>
<p>All you need is a greedy algorithm that tries every constructor until it succeeds</p>



<a name="236356083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236356083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236356083">(Apr 27 2021 at 15:13)</a>:</h4>
<p>Chaining together the various equiv "atoms" as you originally posed the question strikes me as requiring more thought</p>



<a name="236357046"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236357046" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236357046">(Apr 27 2021 at 15:18)</a>:</h4>
<p>To wit:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">meta</span> <span class="kd">def</span> <span class="n">stupid_tactic</span> <span class="o">:</span> <span class="n">tactic</span> <span class="n">unit</span> <span class="o">:=</span>
<span class="bp">`</span><span class="o">[</span><span class="n">assumption</span><span class="o">]</span>
    <span class="bp">&lt;|&gt;</span> <span class="o">(</span><span class="k">do</span> <span class="bp">`</span><span class="o">[</span><span class="n">apply</span> <span class="n">sum.inr</span><span class="o">],</span> <span class="n">stupid_tactic</span> <span class="o">)</span>
    <span class="bp">&lt;|&gt;</span> <span class="o">(</span><span class="k">do</span> <span class="bp">`</span><span class="o">[</span><span class="n">apply</span> <span class="n">sum.inl</span><span class="o">],</span> <span class="n">stupid_tactic</span> <span class="o">)</span>
    <span class="bp">&lt;|&gt;</span> <span class="o">(</span><span class="k">do</span> <span class="bp">`</span><span class="o">[</span><span class="n">apply</span> <span class="n">prod.mk</span><span class="o">],</span> <span class="n">stupid_tactic</span><span class="o">,</span> <span class="n">stupid_tactic</span> <span class="o">)</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">xl</span> <span class="n">yl</span> <span class="n">zl</span> <span class="n">xr</span> <span class="n">yr</span> <span class="n">zr</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yl</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yr</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zr</span>
  <span class="bp">≃</span> <span class="n">xl</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">to_fun</span>    <span class="o">:=</span> <span class="kd">by</span> <span class="n">rintro</span> <span class="o">(⟨⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩)</span><span class="bp">;</span> <span class="n">stupid_tactic</span><span class="o">,</span>
  <span class="n">left_inv</span>  <span class="o">:=</span> <span class="kd">by</span> <span class="n">rintro</span> <span class="o">(⟨⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩,</span> <span class="n">_</span><span class="o">⟩)</span><span class="bp">;</span> <span class="n">refl</span><span class="o">,</span>
  <span class="n">inv_fun</span>   <span class="o">:=</span> <span class="kd">by</span> <span class="n">rintro</span> <span class="o">(⟨</span><span class="n">_</span><span class="o">,</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩)</span><span class="bp">;</span> <span class="n">stupid_tactic</span><span class="o">,</span>
  <span class="n">right_inv</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">rintro</span> <span class="o">(⟨</span><span class="n">_</span><span class="o">,</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩</span> <span class="bp">|</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">⟩⟩)</span><span class="bp">;</span> <span class="n">refl</span> <span class="o">}</span>
</code></pre></div>



<a name="236357448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236357448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236357448">(Apr 27 2021 at 15:21)</a>:</h4>
<p>If you make the tactic also try <code>refl</code>, then all proofs end the same...</p>



<a name="236357489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236357489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236357489">(Apr 27 2021 at 15:21)</a>:</h4>
<p>I'm not sure I'd consider making your proofs look like your data a feature</p>



<a name="236358380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236358380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Apurva Nakade <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236358380">(Apr 27 2021 at 15:27)</a>:</h4>
<p>This is great! This saves me a lot of headache, thanks a lot!</p>



<a name="236368209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236368209" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236368209">(Apr 27 2021 at 16:26)</a>:</h4>
<p><code>itauto</code> should handle this pretty well, except that it is specifically looking for the prop connectives</p>



<a name="236368329"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236368329" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236368329">(Apr 27 2021 at 16:27)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">tactic.itauto</span>

<span class="kn">local</span> <span class="kd">notation</span> <span class="n">p</span> <span class="bp">`×`</span> <span class="n">q</span> <span class="o">:=</span> <span class="n">p</span> <span class="bp">∧</span> <span class="n">q</span>
<span class="kn">local</span> <span class="kd">notation</span> <span class="n">p</span> <span class="bp">`⊕`</span> <span class="n">q</span> <span class="o">:=</span> <span class="n">p</span> <span class="bp">∨</span> <span class="n">q</span>
<span class="kn">local</span> <span class="kd">notation</span> <span class="n">p</span> <span class="bp">`≃`</span> <span class="n">q</span> <span class="o">:=</span> <span class="n">p</span> <span class="bp">↔</span> <span class="n">q</span>

<span class="kd">lemma</span> <span class="n">fake</span> <span class="o">(</span><span class="n">xl</span> <span class="n">yl</span> <span class="n">zl</span> <span class="n">xr</span> <span class="n">yr</span> <span class="n">zr</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yl</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">×</span> <span class="n">yr</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">×</span> <span class="n">zr</span>
  <span class="bp">≃</span> <span class="n">xl</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zl</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zr</span><span class="o">)</span> <span class="bp">⊕</span> <span class="n">xr</span> <span class="bp">×</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">×</span> <span class="n">zr</span> <span class="bp">⊕</span> <span class="n">yr</span> <span class="bp">×</span> <span class="n">zl</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">begin</span>
  <span class="n">itauto</span> <span class="c1">--failed</span>
<span class="kd">end</span>
</code></pre></div>



<a name="236368333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236368333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236368333">(Apr 27 2021 at 16:27)</a>:</h4>
<p>well, it won't do the <code>left_inv</code> proofs</p>



<a name="236368379"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236368379" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236368379">(Apr 27 2021 at 16:27)</a>:</h4>
<p>if you replace <code>~=</code> with <code>&lt;-&gt;</code> it should work</p>



<a name="236368457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236368457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236368457">(Apr 27 2021 at 16:28)</a>:</h4>
<p>oh you did</p>



<a name="236368492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236368492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236368492">(Apr 27 2021 at 16:28)</a>:</h4>
<p>That's what the <code>notation</code> line does. And even if I do <code>\iff</code> explicitly, it still fails</p>



<a name="236368556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236368556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236368556">(Apr 27 2021 at 16:28)</a>:</h4>
<p>Maybe the <code>notation</code> makes the wrong fixity make it unprovable</p>



<a name="236368679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236368679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236368679">(Apr 27 2021 at 16:29)</a>:</h4>
<p>Or my notation should be swapped</p>



<a name="236368947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236368947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236368947">(Apr 27 2021 at 16:31)</a>:</h4>
<p>here it is with propositional connectives:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">fake</span> <span class="o">(</span><span class="n">xl</span> <span class="n">yl</span> <span class="n">zl</span> <span class="n">xr</span> <span class="n">yr</span> <span class="n">zr</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span>
  <span class="o">(</span><span class="n">xl</span> <span class="bp">∧</span> <span class="n">yl</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">zl</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">∧</span> <span class="n">yr</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">zr</span> <span class="bp">↔</span>
    <span class="n">xl</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">∧</span> <span class="n">zl</span> <span class="bp">∨</span> <span class="n">yr</span> <span class="bp">∧</span> <span class="n">zr</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">∧</span> <span class="n">zr</span> <span class="bp">∨</span> <span class="n">yr</span> <span class="bp">∧</span> <span class="n">zl</span><span class="o">)</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">itauto</span>
</code></pre></div>
<p>is this correct?</p>



<a name="236369220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236369220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236369220">(Apr 27 2021 at 16:33)</a>:</h4>
<p><code>tauto!</code> gets it so it's probably not wrong</p>



<a name="236369248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236369248" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236369248">(Apr 27 2021 at 16:33)</a>:</h4>
<p>no pun intended</p>



<a name="236373510"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236373510" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236373510">(Apr 27 2021 at 17:02)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/7387">#7387</a></p>



<a name="236373586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236373586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236373586">(Apr 27 2021 at 17:02)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">fake</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">xl</span> <span class="n">yl</span> <span class="n">zl</span> <span class="n">xr</span> <span class="n">yr</span> <span class="n">zr</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">),</span>
  <span class="o">(</span><span class="n">xl</span> <span class="bp">∧</span> <span class="n">yl</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">zl</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">∧</span> <span class="n">yr</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">zr</span> <span class="bp">↔</span>
    <span class="n">xl</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">∧</span> <span class="n">zl</span> <span class="bp">∨</span> <span class="n">yr</span> <span class="bp">∧</span> <span class="n">zr</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">∧</span> <span class="n">zr</span> <span class="bp">∨</span> <span class="n">yr</span> <span class="bp">∧</span> <span class="n">zl</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">λ</span> <span class="o">(</span><span class="n">xl</span> <span class="n">yl</span> <span class="n">zl</span> <span class="n">xr</span> <span class="n">yr</span> <span class="n">zr</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">),</span>
  <span class="o">{</span><span class="n">mp</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">h0</span> <span class="o">:</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">∧</span> <span class="n">yl</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">zl</span> <span class="bp">∨</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">∧</span> <span class="n">yr</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">zr</span><span class="o">),</span>
           <span class="n">h0.elim</span>
             <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">∧</span> <span class="n">yl</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="n">yr</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">zl</span><span class="o">),</span>
                <span class="n">h1.left.elim</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="n">xl</span> <span class="bp">∧</span> <span class="n">yl</span><span class="o">),</span> <span class="n">or.inl</span> <span class="o">⟨</span><span class="n">h2.left</span><span class="o">,</span> <span class="n">or.inl</span> <span class="o">⟨</span><span class="n">h2.right</span><span class="o">,</span> <span class="n">h1.right</span><span class="o">⟩⟩)</span>
                  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="n">yr</span><span class="o">),</span> <span class="n">or.inr</span> <span class="o">⟨</span><span class="n">h2.left</span><span class="o">,</span> <span class="n">or.inr</span> <span class="o">⟨</span><span class="n">h2.right</span><span class="o">,</span> <span class="n">h1.right</span><span class="o">⟩⟩))</span>
             <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="o">(</span><span class="n">xl</span> <span class="bp">∧</span> <span class="n">yr</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="n">yl</span><span class="o">)</span> <span class="bp">∧</span> <span class="n">zr</span><span class="o">),</span>
                <span class="n">h1.left.elim</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h3</span> <span class="o">:</span> <span class="n">xl</span> <span class="bp">∧</span> <span class="n">yr</span><span class="o">),</span> <span class="n">or.inl</span> <span class="o">⟨</span><span class="n">h3.left</span><span class="o">,</span> <span class="n">or.inr</span> <span class="o">⟨</span><span class="n">h3.right</span><span class="o">,</span> <span class="n">h1.right</span><span class="o">⟩⟩)</span>
                  <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h3</span> <span class="o">:</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="n">yl</span><span class="o">),</span> <span class="n">or.inr</span> <span class="o">⟨</span><span class="n">h3.left</span><span class="o">,</span> <span class="n">or.inl</span> <span class="o">⟨</span><span class="n">h3.right</span><span class="o">,</span> <span class="n">h1.right</span><span class="o">⟩⟩)),</span>
   <span class="n">mpr</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="o">(</span><span class="n">h4</span> <span class="o">:</span> <span class="n">xl</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">∧</span> <span class="n">zl</span> <span class="bp">∨</span> <span class="n">yr</span> <span class="bp">∧</span> <span class="n">zr</span><span class="o">)</span> <span class="bp">∨</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">∧</span> <span class="n">zr</span> <span class="bp">∨</span> <span class="n">yr</span> <span class="bp">∧</span> <span class="n">zl</span><span class="o">)),</span>
            <span class="n">h4.elim</span>
              <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h5</span> <span class="o">:</span> <span class="n">xl</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">∧</span> <span class="n">zl</span> <span class="bp">∨</span> <span class="n">yr</span> <span class="bp">∧</span> <span class="n">zr</span><span class="o">)),</span>
                 <span class="n">h5.right.elim</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h6</span> <span class="o">:</span> <span class="n">yl</span> <span class="bp">∧</span> <span class="n">zl</span><span class="o">),</span> <span class="n">or.inl</span> <span class="o">⟨</span><span class="n">or.inl</span> <span class="o">⟨</span><span class="n">h5.left</span><span class="o">,</span> <span class="n">h6.left</span><span class="o">⟩,</span> <span class="n">h6.right</span><span class="o">⟩)</span>
                   <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h6</span> <span class="o">:</span> <span class="n">yr</span> <span class="bp">∧</span> <span class="n">zr</span><span class="o">),</span> <span class="n">or.inr</span> <span class="o">⟨</span><span class="n">or.inl</span> <span class="o">⟨</span><span class="n">h5.left</span><span class="o">,</span> <span class="n">h6.left</span><span class="o">⟩,</span> <span class="n">h6.right</span><span class="o">⟩))</span>
              <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h5</span> <span class="o">:</span> <span class="n">xr</span> <span class="bp">∧</span> <span class="o">(</span><span class="n">yl</span> <span class="bp">∧</span> <span class="n">zr</span> <span class="bp">∨</span> <span class="n">yr</span> <span class="bp">∧</span> <span class="n">zl</span><span class="o">)),</span>
                 <span class="n">h5.right.elim</span> <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h7</span> <span class="o">:</span> <span class="n">yl</span> <span class="bp">∧</span> <span class="n">zr</span><span class="o">),</span> <span class="n">or.inr</span> <span class="o">⟨</span><span class="n">or.inr</span> <span class="o">⟨</span><span class="n">h5.left</span><span class="o">,</span> <span class="n">h7.left</span><span class="o">⟩,</span> <span class="n">h7.right</span><span class="o">⟩)</span>
                   <span class="o">(</span><span class="bp">λ</span> <span class="o">(</span><span class="n">h7</span> <span class="o">:</span> <span class="n">yr</span> <span class="bp">∧</span> <span class="n">zl</span><span class="o">),</span> <span class="n">or.inl</span> <span class="o">⟨</span><span class="n">or.inr</span> <span class="o">⟨</span><span class="n">h5.left</span><span class="o">,</span> <span class="n">h7.left</span><span class="o">⟩,</span> <span class="n">h7.right</span><span class="o">⟩))}</span>
</code></pre></div>



<a name="236373771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236373771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236373771">(Apr 27 2021 at 17:03)</a>:</h4>
<p>That's presumably the same as what my <code>stupid_tactic</code> above produces, but using <code>prod.left</code> and <code>prod.right</code> instead of <code>prod.rec</code>?</p>



<a name="236373927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236373927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236373927">(Apr 27 2021 at 17:04)</a>:</h4>
<p>yes, pretty much (it does the initial rintro too)</p>



<a name="236374455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236374455" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236374455">(Apr 27 2021 at 17:08)</a>:</h4>
<p>Maybe I should make another frontend for itauto called <code>type_tetris</code> for this</p>



<a name="236374533"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236374533" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236374533">(Apr 27 2021 at 17:08)</a>:</h4>
<p>that's one of my favourite lean minigames</p>



<a name="236377051"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/%60ring%60%20tactic%20for%20types/near/236377051" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types.html#236377051">(Apr 27 2021 at 17:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="308899">Yakov Pechersky</span> <a href="#narrow/stream/116395-maths/topic/.60ring.60.20tactic.20for.20types/near/236354105">said</a>:</p>
<blockquote>
<p>One issue with such a tactic is that, much like how <code>tauto</code>, <code>ring</code>, and <code>simp</code> might not give the most "direct" route = shortest term, the <code>equiv</code> produced might not be the minimal one.</p>
</blockquote>
<p>By the way, <code>itauto</code> was designed to give human-ish proof terms, unlike <code>ring</code>, although it is debatable whether it is more human-ish to use <code>and.rec</code> or <code>and.{left, right}</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>