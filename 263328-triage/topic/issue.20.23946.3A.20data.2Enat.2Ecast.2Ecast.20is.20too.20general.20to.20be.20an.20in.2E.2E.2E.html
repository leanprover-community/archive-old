---
layout: archive
title: Zulip Chat Archive
permalink: /stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/263328-triage/index.html">triage</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html">issue #946: data.nat.cast.cast is too general to be an in...</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="218007012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/218007012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Random Issue Bot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#218007012">(Nov 26 2020 at 14:20)</a>:</h4>
<p>Today I chose issue 946 for discussion!</p>
<p><strong><a href="https://github.com/leanprover-community/mathlib/issues/946">data.nat.cast.cast is too general to be an instance</a></strong><br>
Created by @<strong>None</strong> (@simonjwinwood) on 2019-04-17<br>
Labels: </p>
<p>Is this issue still relevant? Any recent updates? Anyone making progress?</p>



<a name="218013746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/218013746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#218013746">(Nov 26 2020 at 15:26)</a>:</h4>
<p>Related: <a href="#narrow/stream/116395-maths/topic/Friday.20afternoon.20puzzle.20--.2037.20.E2.88.88.2037.3F/near/217418582">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Friday.20afternoon.20puzzle.20--.2037.20.E2.88.88.2037.3F/near/217418582</a></p>



<a name="220121055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/220121055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Random Issue Bot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#220121055">(Dec 16 2020 at 14:25)</a>:</h4>
<p>Today I chose issue 946 for discussion!</p>
<p><strong><a href="https://github.com/leanprover-community/mathlib/issues/946">data.nat.cast.cast is too general to be an instance</a></strong><br>
Created by @<strong>None</strong> (@simonjwinwood) on 2019-04-17<br>
Labels: </p>
<p>Is this issue still relevant? Any recent updates? Anyone making progress?</p>



<a name="220121735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/220121735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#220121735">(Dec 16 2020 at 14:30)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/nat.cast">docs#nat.cast</a></p>



<a name="227094381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/227094381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Random Issue Bot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#227094381">(Feb 20 2021 at 14:19)</a>:</h4>
<p>Today I chose issue 946 for discussion!</p>
<p><strong><a href="https://github.com/leanprover-community/mathlib/issues/946">data.nat.cast.cast is too general to be an instance</a></strong><br>
Created by @<strong>None</strong> (@simonjwinwood) on 2019-04-17<br>
Labels: </p>
<p>Is this issue still relevant? Any recent updates? Anyone making progress?</p>



<a name="228960894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/228960894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Random Issue Bot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#228960894">(Mar 05 2021 at 14:20)</a>:</h4>
<p>Today I chose issue 946 for discussion!</p>
<p><strong><a href="https://github.com/leanprover-community/mathlib/issues/946">data.nat.cast.cast is too general to be an instance</a></strong><br>
Created by @<strong>None</strong> (@simonjwinwood) on 2019-04-17<br>
Labels: </p>
<p>Is this issue still relevant? Any recent updates? Anyone making progress?</p>



<a name="230165677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/230165677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Random Issue Bot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#230165677">(Mar 13 2021 at 14:21)</a>:</h4>
<p>Today I chose issue 946 for discussion!</p>
<p><strong><a href="https://github.com/leanprover-community/mathlib/issues/946">data.nat.cast.cast is too general to be an instance</a></strong><br>
Created by @<strong>None</strong> (@simonjwinwood) on 2019-04-17<br>
Labels: </p>
<p>Is this issue still relevant? Any recent updates? Anyone making progress?</p>



<a name="230195708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/230195708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#230195708">(Mar 13 2021 at 22:57)</a>:</h4>
<p>It seems at the conclusion of <a href="https://github.com/leanprover-community/mathlib/issues/5664">#5664</a>, which added <code>nat.bin_cast</code>, there was a suggestion to try making it the implementation of the coercion. Did anyone attempt this?</p>



<a name="230195715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/230195715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#230195715">(Mar 13 2021 at 22:58)</a>:</h4>
<p>It seems that it would be a satisfactory resolution to this old issue!</p>



<a name="230199902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/230199902" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#230199902">(Mar 14 2021 at 00:23)</a>:</h4>
<p>Yes, I tried doing it. But too many things use nat.cast in places where there is no proof of associativity, commutativity, or '0+0=0' which is what makes nat.cast and nat.bin_cast probably equal</p>



<a name="230199945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/230199945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#230199945">(Mar 14 2021 at 00:24)</a>:</h4>
<p>For example, it was a slog to try to get it working for pgame.short, so I abandoned the attempt.</p>



<a name="230200736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/230200736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#230200736">(Mar 14 2021 at 00:40)</a>:</h4>
<p>Ah, thanks! It's nice to know the combinatorial games are a good test case for this issue.</p>



<a name="230200756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/230200756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#230200756">(Mar 14 2021 at 00:41)</a>:</h4>
<p>Could we try something like "use <code>nat.bin_cast</code> by default, but it's okay, e.g. in <code>pgame</code>, to instead use the more primitive coercion"?</p>



<a name="230201437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/230201437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#230201437">(Mar 14 2021 at 00:56)</a>:</h4>
<p>So, instance priority based <code>add_comm_monoid -&gt; nat.bin_cast</code>, and <code>nat.cast</code> as lower priority?</p>



<a name="230202193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/230202193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#230202193">(Mar 14 2021 at 01:14)</a>:</h4>
<p>Yes.</p>



<a name="230202233"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/230202233" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#230202233">(Mar 14 2021 at 01:14)</a>:</h4>
<p>Maybe it ends up being confusing.</p>



<a name="259733320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%23946%3A%20data.nat.cast.cast%20is%20too%20general%20to%20be%20an%20in.../near/259733320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Random Issue Bot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.23946.3A.20data.2Enat.2Ecast.2Ecast.20is.20too.20general.20to.20be.20an.20in.2E.2E.2E.html#259733320">(Oct 30 2021 at 14:18)</a>:</h4>
<p>Today I chose issue 946 for discussion!</p>
<p><strong><a href="https://github.com/leanprover-community/mathlib/issues/946">data.nat.cast.cast is too general to be an instance</a></strong><br>
Created by @<strong>None</strong> (@simonjwinwood) on 2019-04-17<br>
Labels: </p>
<p>Is this issue still relevant? Any recent updates? Anyone making progress?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>