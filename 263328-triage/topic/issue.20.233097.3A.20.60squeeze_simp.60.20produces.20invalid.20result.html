---
layout: archive
title: Zulip Chat Archive
permalink: /stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/263328-triage/index.html">triage</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html">issue #3097: `squeeze_simp` produces invalid result</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="215716697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215716697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Random Issue Bot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215716697">(Nov 05 2020 at 14:16)</a>:</h4>
<p>Today I chose issue 3097 for discussion!</p>
<p><strong><a href="https://github.com/leanprover-community/mathlib/issues/3097"><code>squeeze_simp</code> produces invalid result</a></strong><br>
Created by <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> (@gebner) on 2020-06-17<br>
Labels: bug, meta</p>
<p>Is this issue still relevant? Any recent updates? Anyone making progress?</p>



<a name="215717065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215717065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215717065">(Nov 05 2020 at 14:19)</a>:</h4>
<p>I'd be happy to close this as wontfix, blocked-on-<span aria-label="lucky" class="emoji emoji-1f340" role="img" title="lucky">:lucky:</span> since nobody runs into this accidentally from what it seems.</p>



<a name="215717710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215717710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215717710">(Nov 05 2020 at 14:24)</a>:</h4>
<p>How hard would it be to make squeeze_simp use the lemmas that <code>set_option trace.simplify.rewrites</code> lists?</p>



<a name="215717728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215717728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215717728">(Nov 05 2020 at 14:24)</a>:</h4>
<p>I guess that needs changes to the C++. But is it hard?</p>



<a name="215718258"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215718258" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215718258">(Nov 05 2020 at 14:29)</a>:</h4>
<p>Main issue is that there's no way to get trace messages from the Lean side at the moment.</p>



<a name="215718453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215718453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215718453">(Nov 05 2020 at 14:30)</a>:</h4>
<p>But if you're doing that, you might as well have the C++ record the list of lemmas used and return that.</p>



<a name="215719399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215719399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215719399">(Nov 05 2020 at 14:36)</a>:</h4>
<p>Just to be clear: I don't think this is something that I can do. I'm just wondering how hard it is to get those trace messages from within the tactic state. Does it mean changing 5 lines of C++ or 500? Or even 5000?</p>



<a name="215721916"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215721916" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215721916">(Nov 05 2020 at 14:53)</a>:</h4>
<p>Between 5-50, I'd guess.</p>



<a name="215722733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215722733" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215722733">(Nov 05 2020 at 14:58)</a>:</h4>
<p>Ok, I think that could (i) make <code>squeeze_simp</code> more reliable, and <code>(ii)</code> give it a significant speed-up.</p>
<p>(ii), because as I understand it, currently <code>squeeze_simp</code> is quadratic in the number of lemmas that are used, and this change would just drop that part completely.</p>



<a name="215725105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215725105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215725105">(Nov 05 2020 at 15:14)</a>:</h4>
<p>Can anyone recommend a good C++ book to Johan?</p>



<a name="215725295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215725295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215725295">(Nov 05 2020 at 15:16)</a>:</h4>
<p>/me is using &gt;50% of his work week on teaching, another 20% on seminars, another 20% on reviewing PRs.... so there is 5-10% left for research...</p>



<a name="215725385"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215725385" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215725385">(Nov 05 2020 at 15:17)</a>:</h4>
<p>/me <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="215726772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215726772" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215726772">(Nov 05 2020 at 15:26)</a>:</h4>
<p>You could start here: <a href="https://www.codecademy.com/learn/learn-c-plus-plus">https://www.codecademy.com/learn/learn-c-plus-plus</a></p>



<a name="215726845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/215726845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Simon Hudon <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#215726845">(Nov 05 2020 at 15:26)</a>:</h4>
<p>And this book looks good to me but I haven't used it: <a href="https://www.udemy.com/course/cplusplus-programming-step-by-step/?utm_source=adwords&amp;utm_medium=udemyads&amp;utm_campaign=CPlusPlus_v.PROF_la.EN_cc.US_ti.4908&amp;utm_content=deal4584&amp;utm_term=_._ag_82041678164_._ad_436603254934_._kw__._de_c_._dm__._pl__._ti_dsa-777590868621_._li_9005929_._pd__._&amp;matchtype=b&amp;gclid=EAIaIQobChMI5IXloNvr7AIVyZ6zCh2NOwjJEAAYASAAEgJLrPD_BwE">link</a></p>



<a name="216148304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/216148304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#216148304">(Nov 09 2020 at 21:59)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/issues/497">lean#497</a></p>



<a name="216148319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/216148319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#216148319">(Nov 09 2020 at 21:59)</a>:</h4>
<p>/me has to go back to teaching Lie algebras now</p>



<a name="220471948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/220471948" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Random Issue Bot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#220471948">(Dec 19 2020 at 14:26)</a>:</h4>
<p>Today I chose issue 3097 for discussion!</p>
<p><strong><a href="https://github.com/leanprover-community/mathlib/issues/3097"><code>squeeze_simp</code> produces invalid result</a></strong><br>
Created by <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> (@gebner) on 2020-06-17<br>
Labels: bug, meta</p>
<p>Is this issue still relevant? Any recent updates? Anyone making progress?</p>



<a name="262324241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/262324241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Random Issue Bot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#262324241">(Nov 22 2021 at 14:19)</a>:</h4>
<p>Today I chose issue 3097 for discussion!</p>
<p><strong><a href="https://github.com/leanprover-community/mathlib/issues/3097"><code>squeeze_simp</code> produces invalid result</a></strong><br>
Created by <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> (@gebner) on 2020-06-17<br>
Labels: bug, meta</p>
<p>Is this issue still relevant? Any recent updates? Anyone making progress?</p>



<a name="269111606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/263328-triage/topic/issue%20%233097%3A%20%60squeeze_simp%60%20produces%20invalid%20result/near/269111606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Random Issue Bot <a href="https://leanprover-community.github.io/archive/stream/263328-triage/topic/issue.20.233097.3A.20.60squeeze_simp.60.20produces.20invalid.20result.html#269111606">(Jan 24 2022 at 14:17)</a>:</h4>
<p>Today I chose issue 3097 for discussion!</p>
<p><strong><a href="https://github.com/leanprover-community/mathlib/issues/3097"><code>squeeze_simp</code> produces invalid result</a></strong><br>
Created by <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> (@gebner) on 2020-06-17<br>
Labels: bug, meta</p>
<p>Is this issue still relevant? Any recent updates? Anyone making progress?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>