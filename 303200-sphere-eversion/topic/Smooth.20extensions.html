---
layout: archive
title: Zulip Chat Archive
permalink: /stream/303200-sphere-eversion/topic/Smooth.20extensions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/index.html">sphere eversion</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html">Smooth extensions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="272545128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272545128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272545128">(Feb 19 2022 at 21:53)</a>:</h4>
<p>Recently I've been wondering whether we should try to make everything in Chapter 1 smooth on the whole space to simplify things in Chapter 2. We already know we need things to be defined on a neighborhood of the closure of the open sets we really care about. What I currently think is that we should prove the data in Proposition 1.3 smoothly extend to the whole space. Of course this isn't quite true in this context, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">β</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span> could go to infinity near infinity in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span>. But we can pick any closed set <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> contained in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span> and find new <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">β</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">Ω</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Ω</span></span></span></span> that are defined everywhere and coincide with the old ones on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>.</p>



<a name="272545137"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272545137" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272545137">(Feb 19 2022 at 21:53)</a>:</h4>
<p>There is a relevant discussion in <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Bump.20functions">https://leanprover.zulipchat.com/#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Bump.20functions</a>.</p>



<a name="272545313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272545313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272545313">(Feb 19 2022 at 21:56)</a>:</h4>
<p>The idea is to multiply <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">β</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span> by a function which is one near <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> and has compact support in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span>, and replace <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Ω</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">Ω_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> by the whole <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> outside <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>. The new <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span> we actually care about would be the interior of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>.</p>



<a name="272545355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272545355" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272545355">(Feb 19 2022 at 21:57)</a>:</h4>
<p>Recall that in real life those <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span> sets come from charts of a manifold and we can definitely assume they are relatively compact in images of larger charts still covering the manifold.</p>



<a name="272545424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272545424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272545424">(Feb 19 2022 at 21:58)</a>:</h4>
<p>I'll try to find time this week to make sure this all work on paper and update the blueprint. But anyone should feel free to do it first.</p>



<a name="272618052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272618052" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272618052">(Feb 20 2022 at 21:34)</a>:</h4>
<p>I thought a bit more about this and actually we won't even have to extend anything if the manifold library is usable enough.</p>



<a name="272618260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272618260" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272618260">(Feb 20 2022 at 21:38)</a>:</h4>
<p>This will answer a question I've had since the very beginning of manifolds in Lean. What mathlib calls manifolds are manifolds equipped with a preferred atlas. Now we'll learn whether equivalent atlas can indeed be manipulated easily. <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> we'll need to tell Lean that every manifold without boundary has an atlas where all charts take value into the whole model vector space and the preimages of the unit ball in the model space cover the manifold. And we'll need Lean to be happy to use only such an atlas instead of whatever came with the original "manifold with a prefered atlas, known as manifold in mathlib". Any advice is welcome.</p>



<a name="272621176"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272621176" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272621176">(Feb 20 2022 at 22:31)</a>:</h4>
<p>You can definitely prove that any manifold is diffeomorphic to a manifold whose atlas satisfies the property you want. But I am not sure it is the way to go: the atlas is only some data useful to get the right notion of smoothness, but it's not something you have to use in your proofs once the notion of smoothness is here. For instance, you could prove that there exists a family of local diffeomorphisms with the properties you mention, with domains covering the manifold, and this should probably be enough for all your proofs without touching the atlas at all.</p>



<a name="272680480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272680480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272680480">(Feb 21 2022 at 12:16)</a>:</h4>
<p>If you don't want to use the word "atlas" for a family of local diffeomorphisms whose domains cover the manifold and whose targets are the model space then I'll be happy not to use it (although it will sound a bit silly). The question is whether this family will be easy to use. I guess we'll see when trying.</p>



<a name="272699074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272699074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272699074">(Feb 21 2022 at 15:01)</a>:</h4>
<p><span class="user-mention" data-user-id="240862">@Oliver Nash</span> and <span class="user-mention" data-user-id="111080">@Floris van Doorn</span> I confirm that I'll get rid of <code>U</code> in Chapters 1 and 2, using the existence of nice atlases in Chapter 3. I'm sorry I underestimated how painful it would be to handle <code>U</code>.  I thought about how to handle it from a Lean point of view, but it created mathematical complications that I didn't anticipate.</p>



<a name="272699364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272699364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272699364">(Feb 21 2022 at 15:03)</a>:</h4>
<p>OK, thanks for the notice.</p>



<a name="272699513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272699513" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272699513">(Feb 21 2022 at 15:04)</a>:</h4>
<p>I spent all morning reviewing PRs but I'm back working on reparameterisation lemma now.</p>



<a name="272701130"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272701130" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272701130">(Feb 21 2022 at 15:17)</a>:</h4>
<p>I might be misunderstanding, but we're only changing that the functions are continuous/smooth everywhere instead of just on <code>U</code>, right? That's what we were already doing in the formalization.</p>



<a name="272701776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272701776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272701776">(Feb 21 2022 at 15:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="111080">Floris van Doorn</span> <a href="#narrow/stream/303200-sphere-eversion/topic/Smooth.20extensions/near/272701130">said</a>:</p>
<blockquote>
<p>I might be misunderstanding, but we're only changing that the functions are continuous/smooth everywhere instead of just on <code>U</code>, right? That's what we were already doing in the formalization.</p>
</blockquote>
<p>I mean U=univ in the main proposition of chapter 1. Of course there are still lemmas where open sets appear.</p>



<a name="272701915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272701915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272701915">(Feb 21 2022 at 15:23)</a>:</h4>
<p>The reparametrization lemma has U=univ</p>



<a name="272704011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272704011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272704011">(Feb 21 2022 at 15:40)</a>:</h4>
<p>Oh, I see. Yeah, that will probably simplify some things.</p>



<a name="272730477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272730477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272730477">(Feb 21 2022 at 20:06)</a>:</h4>
<p>I updated the blueprint. I hope Chapter 1 and 2 are now using the whole E wherever possible. I'll now update Lean code.</p>



<a name="272735011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272735011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272735011">(Feb 21 2022 at 21:05)</a>:</h4>
<p>I propagated the change to reparametrization.lean and the files in the <code>local</code> folder. <span class="user-mention" data-user-id="111080">@Floris van Doorn</span> I commented out your WIP version of <code>exists_loop</code> because I wasn't 100% sure how to fix it.</p>



<a name="272782361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272782361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272782361">(Feb 22 2022 at 10:07)</a>:</h4>
<p>Sounds good! I'll take a look at it.</p>



<a name="272784507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272784507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272784507">(Feb 22 2022 at 10:30)</a>:</h4>
<p>Is there a missing file?</p>



<a name="272784529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/303200-sphere%20eversion/topic/Smooth%20extensions/near/272784529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Oliver Nash <a href="https://leanprover-community.github.io/archive/stream/303200-sphere-eversion/topic/Smooth.20extensions.html#272784529">(Feb 22 2022 at 10:30)</a>:</h4>
<p><code>import notations</code> failing.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>