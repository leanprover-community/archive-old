---
layout: archive
title: Zulip Chat Archive
permalink: /stream/239415-metaprogramming-/-tactics/topic/unification.20assignment.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/index.html">metaprogramming / tactics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/unification.20assignment.html">unification assignment</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="282253470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/unification%20assignment/near/282253470" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Fabian Glöckle <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/unification.20assignment.html#282253470">(May 13 2022 at 14:20)</a>:</h4>
<p>Given a type <code>target : expr</code> and a type <code>given : expr</code> which unify (i.e. <code>unify given target</code> evaluates to <code>tt</code>), is it possible to retrieve the metavariable assignments made for <code>given</code> in the course of unification?</p>
<p>Reason: I would like to construct terms of type <code>target</code>, and do so by checking if declarations <code>given</code> allow one to produce such terms. To actually construct the term, I need to supply <code>given</code> with the correct arguments.</p>



<a name="282255396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/unification%20assignment/near/282255396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Fabian Glöckle <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/unification.20assignment.html#282255396">(May 13 2022 at 14:34)</a>:</h4>
<p>I.e. what I am trying to do is more or less to achieve the effect of <code>apply given</code>, but non-interactively.</p>



<a name="282255915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/unification%20assignment/near/282255915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/unification.20assignment.html#282255915">(May 13 2022 at 14:38)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mathlib_docs/find/tactic.apply">docs#tactic.apply</a> and its variants don't do what you want?</p>



<a name="282257020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/unification%20assignment/near/282257020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Fabian Glöckle <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/unification.20assignment.html#282257020">(May 13 2022 at 14:45)</a>:</h4>
<p>maybe :D<br>
I am in a <code>tactic expr</code>, so how would I set the main goal?</p>



<a name="282257560"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/unification%20assignment/near/282257560" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Fabian Glöckle <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/unification.20assignment.html#282257560">(May 13 2022 at 14:48)</a>:</h4>
<p>Ah, <code>tactic.change target ff</code> seems to be there for that</p>



<a name="282258457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/unification%20assignment/near/282258457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Fabian Glöckle <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/unification.20assignment.html#282258457">(May 13 2022 at 14:54)</a>:</h4>
<p>No, but then I'd get <code>@id true ...</code> in my proof term with <code>tactic.result</code></p>



<a name="282258765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/unification%20assignment/near/282258765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Fabian Glöckle <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/unification.20assignment.html#282258765">(May 13 2022 at 14:56)</a>:</h4>
<p>So <code>tactic.set_goals</code> maybe</p>



<a name="282261941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/unification%20assignment/near/282261941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/unification.20assignment.html#282261941">(May 13 2022 at 15:18)</a>:</h4>
<p>If you just want to set the goal (to an mvar you already have lying around), <code>set_goals</code>.</p>
<p><code>change target</code> requires that the main goal is defeq to <code>target</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>