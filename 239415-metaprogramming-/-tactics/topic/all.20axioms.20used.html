---
layout: archive
title: Zulip Chat Archive
permalink: /stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/index.html">metaprogramming / tactics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html">all axioms used</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="270043300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270043300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270043300">(Jan 31 2022 at 14:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="115715">Jason Rute</span> <a href="#narrow/stream/239415-metaprogramming-.2F.20tactics/topic/Check.20for.20sorry.20in.20tactic.20proof/near/241913279">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="116045">Jesse Michael Han</span> suggested that we could list all the axioms used.  That should be a general solution for this sort of thing.  (I assume a constant is considered an axiom, right?)  However, I donâ€™t know if there is currently a tactic which will tell you what axioms are used in an expression.  Does anyone know if there is and if not what obstacles exist in making one?</p>
</blockquote>
<p>What is the current state of such a tactic?</p>



<a name="270043957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270043957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270043957">(Jan 31 2022 at 14:57)</a>:</h4>
<p>It's not exactly a tactic, but <code>#print axioms X</code> will show you axioms used by the top-level declaration (e.g. definition/lemma) <code>X</code></p>



<a name="270044174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270044174" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270044174">(Jan 31 2022 at 14:59)</a>:</h4>
<p>Thanks, does this do <code>const</code> also?</p>



<a name="270045236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270045236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270045236">(Jan 31 2022 at 15:05)</a>:</h4>
<p>I should probably mention the context: I hand out an open-ended Lean assignment of the form "State and prove X". This might come with a library of axioms that make the problem reasonable. </p>
<p>Given the completed assignment, I would like to </p>
<ul>
<li>scan for the construction of a term of the correct type</li>
<li>have Lean sign off on the proof (ie no <code>sorry</code> warnings or errors)</li>
<li>and filter any global constants to make sure only the allowed ones are in scope</li>
</ul>



<a name="270045504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270045504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270045504">(Jan 31 2022 at 15:06)</a>:</h4>
<p>I think you mean does it also track <code>constant</code>s that are used? Then yes.</p>



<a name="270045598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270045598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270045598">(Jan 31 2022 at 15:07)</a>:</h4>
<p>Great!</p>



<a name="270045656"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270045656" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270045656">(Jan 31 2022 at 15:07)</a>:</h4>
<p>Right, I think it's for exactly this kind of situation.<br>
You might check out the setup on codewars (there's a stream of the same name here, but not active lately).</p>



<a name="270045722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270045722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270045722">(Jan 31 2022 at 15:08)</a>:</h4>
<p>I scanned through that but perhaps I should do so again.</p>



<a name="270045764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270045764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270045764">(Jan 31 2022 at 15:08)</a>:</h4>
<p>Thanks.</p>



<a name="270045974"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270045974" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270045974">(Jan 31 2022 at 15:09)</a>:</h4>
<p><a href="https://github.com/codewars/codewars-runner-cli/issues/773">https://github.com/codewars/codewars-runner-cli/issues/773</a> and <a href="https://github.com/maxhaslbeck/proving-contest-backends/blob/master/Lean/grader.py">https://github.com/maxhaslbeck/proving-contest-backends/blob/master/Lean/grader.py</a> might be helpful</p>



<a name="270045994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270045994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270045994">(Jan 31 2022 at 15:09)</a>:</h4>
<p>Maybe also get in touch with Donald Sebastian Leung who I think did most of the implementation work for that.</p>



<a name="270046738"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270046738" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270046738">(Jan 31 2022 at 15:13)</a>:</h4>
<p>Thanks to both of you. One more question: I can parse the output of <code>#print axioms X</code> directly in Lean, right? I get the sense that it is easier to farm the task out something else though.</p>



<a name="270046979"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270046979" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270046979">(Jan 31 2022 at 15:15)</a>:</h4>
<p>No, it get's printed to stdout or something. I don't think you can grab that output within Lean itself.</p>



<a name="270046993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270046993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270046993">(Jan 31 2022 at 15:15)</a>:</h4>
<p>Right, it would be a bit tricky to parse the output in an automated way, so worth looking at prior art.</p>



<a name="270047079"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270047079" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270047079">(Jan 31 2022 at 15:15)</a>:</h4>
<p>Ah ok.</p>



<a name="270047098"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270047098" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270047098">(Jan 31 2022 at 15:15)</a>:</h4>
<p><del>But Lean 4 right?</del> More precisely, this will be/is possible in Lean 4 correct?</p>



<a name="270047946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270047946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270047946">(Jan 31 2022 at 15:21)</a>:</h4>
<p>I will drop a <a href="https://github.com/DonaldKellett/CW-Lean3-Examples">link</a> to the implementation output of the Codewars discussion for ease of reference (especially for future me).</p>



<a name="270048915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270048915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270048915">(Jan 31 2022 at 15:27)</a>:</h4>
<p>Wow, that's quite a helpful link!</p>



<a name="270049084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270049084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270049084">(Jan 31 2022 at 15:28)</a>:</h4>
<p>Everything should be easier in Lean 4 indeed, here is the lean 4 print axioms command where you can call <code>collect</code> yourself <a href="https://github.com/leanprover/lean4/blob/89edc184fb7de86c4d9edb01f73aea95e6cc7f9d/src/Lean/Elab/Print.lean#L82">https://github.com/leanprover/lean4/blob/89edc184fb7de86c4d9edb01f73aea95e6cc7f9d/src/Lean/Elab/Print.lean#L82</a></p>



<a name="270049619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/all%20axioms%20used/near/270049619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Matthew Ballard <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/all.20axioms.20used.html#270049619">(Jan 31 2022 at 15:31)</a>:</h4>
<p>Sweet.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>