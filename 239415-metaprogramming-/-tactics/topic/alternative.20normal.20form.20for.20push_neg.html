---
layout: archive
title: Zulip Chat Archive
permalink: /stream/239415-metaprogramming-/-tactics/topic/alternative.20normal.20form.20for.20push_neg.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/index.html">metaprogramming / tactics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/alternative.20normal.20form.20for.20push_neg.html">alternative normal form for push_neg</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="271666411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/alternative%20normal%20form%20for%20push_neg/near/271666411" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/alternative.20normal.20form.20for.20push_neg.html#271666411">(Feb 12 2022 at 03:30)</a>:</h4>
<p>Would it be possible to have some global (within a file, or for all files downstream of a certain file) setting which changes <code>push_neg</code> and <code>contrapose!</code> to use a different logical normal form?  In the current implementation <code>¬ (p ∧ q)</code> gets normalized to <code>p → ¬ q</code> (see <a href="https://github.com/leanprover-community/mathlib/blob/227293b543e79dd0f794d1c77cab8fdc3ba378d5/src/tactic/push_neg.lean#L52">here</a> in source) and for teaching I'd love to permanently set it so that this is instead normalized to <code>¬ p ∨ ¬ q</code>.</p>
<p>I can think of a few different mechanisms -- maybe it could be something you arrange with a flag in <code>set_option</code>?  Maybe one could do something with <code>local attribute</code>?</p>



<a name="271679373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/alternative%20normal%20form%20for%20push_neg/near/271679373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/alternative.20normal.20form.20for.20push_neg.html#271679373">(Feb 12 2022 at 09:14)</a>:</h4>
<p>Note that what you ask was the original behavior which was changed in <a href="https://github.com/leanprover-community/mathlib/pull/3362">https://github.com/leanprover-community/mathlib/pull/3362</a></p>



<a name="271679439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/alternative%20normal%20form%20for%20push_neg/near/271679439" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/alternative.20normal.20form.20for.20push_neg.html#271679439">(Feb 12 2022 at 09:16)</a>:</h4>
<p>It should be pretty easy to choose this with an option</p>



<a name="300043027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/alternative%20normal%20form%20for%20push_neg/near/300043027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/alternative.20normal.20form.20for.20push_neg.html#300043027">(Sep 21 2022 at 21:34)</a>:</h4>
<p>I finally got around to implementing this, in <a href="https://github.com/leanprover-community/mathlib/pull/16586">#16586</a>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>