---
layout: archive
title: Zulip Chat Archive
permalink: /stream/239415-metaprogramming-/-tactics/topic/.60simp.60.20with.20custom.20congruence.20lemmas.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/index.html">metaprogramming / tactics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/.60simp.60.20with.20custom.20congruence.20lemmas.html">`simp` with custom congruence lemmas</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="222841281"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/%60simp%60%20with%20custom%20congruence%20lemmas/near/222841281" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/.60simp.60.20with.20custom.20congruence.20lemmas.html#222841281">(Jan 15 2021 at 10:32)</a>:</h4>
<p>I don't really understand how congruence lemmas work in <code>simp</code>, but would it be possible/sensible to use a smaller set of congruence lemmas for <code>simp</code>, that were for example only simplifying group expressions without going into my "atoms" at all. e.g., I would only have two congruence lemmas <code>a = b -&gt; c = d -&gt; a * c = b * d</code> and <code>a = b -&gt; a⁻¹ = b⁻¹</code>, and then I wouldn't go deeper than I wanted to with my simplification.</p>



<a name="222841933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/%60simp%60%20with%20custom%20congruence%20lemmas/near/222841933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/.60simp.60.20with.20custom.20congruence.20lemmas.html#222841933">(Jan 15 2021 at 10:40)</a>:</h4>
<p>As far as I am aware, there is no such option in simp. It always uses <code>mk_congr_lemma</code> to build a congruence lemma unless you give it an alternative using <code>@[congr]</code></p>



<a name="222842070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/%60simp%60%20with%20custom%20congruence%20lemmas/near/222842070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/.60simp.60.20with.20custom.20congruence.20lemmas.html#222842070">(Jan 15 2021 at 10:42)</a>:</h4>
<p>You can use the <code>pre</code> hook in <code>ext_simplify_core</code> to prevent recursion into the "non-group" parts.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>