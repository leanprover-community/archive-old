---
layout: archive
title: Zulip Chat Archive
permalink: /stream/239415-metaprogramming-/-tactics/topic/Capturing.20metavariable.20assignment.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/index.html">metaprogramming / tactics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/Capturing.20metavariable.20assignment.html">Capturing metavariable assignment</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="238301930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/Capturing%20metavariable%20assignment/near/238301930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/Capturing.20metavariable.20assignment.html#238301930">(May 11 2021 at 12:58)</a>:</h4>
<p>For the proof search tactic I'm writing, I'd like to be able to capture and restore the current metavariable assignment. Specifically, I want to apply a tactic to a goal, do something with the produced subgoals, then later on backtrack to the state before the tactic was run. This backtracking should reset not only the goals but also any metavariables that were assigned by the tactic. Can I achieve this by just saving the <code>tactic_state</code>?</p>



<a name="238302038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/Capturing%20metavariable%20assignment/near/238302038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/Capturing.20metavariable.20assignment.html#238302038">(May 11 2021 at 12:59)</a>:</h4>
<p>Yes.</p>



<a name="238302382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/Capturing%20metavariable%20assignment/near/238302382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/Capturing.20metavariable.20assignment.html#238302382">(May 11 2021 at 13:01)</a>:</h4>
<p>Wonderful, thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>