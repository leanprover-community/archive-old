---
layout: archive
title: Zulip Chat Archive
permalink: /stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/index.html">metaprogramming / tactics</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html">current file name</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="288646559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/current%20file%20name/near/288646559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html#288646559">(Jul 06 2022 at 09:52)</a>:</h4>
<p>Is there any way to get the name / path of the current file?</p>



<a name="288658606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/current%20file%20name/near/288658606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Bart Michels <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html#288658606">(Jul 06 2022 at 11:56)</a>:</h4>
<p>Maybe this line or a similar <code>@[extern]</code> declaration? <a href="https://github.com/leanprover/lean4/blob/fc7c1d105390dbc47e2ff36d4d2dd3b60defe48e/src/Init/System/IO.lean#L293">https://github.com/leanprover/lean4/blob/fc7c1d105390dbc47e2ff36d4d2dd3b60defe48e/src/Init/System/IO.lean#L293</a></p>



<a name="288661437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/current%20file%20name/near/288661437" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html#288661437">(Jul 06 2022 at 12:21)</a>:</h4>
<p>Ah sorry, I'm asking about Lean 3</p>



<a name="288680217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/current%20file%20name/near/288680217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html#288680217">(Jul 06 2022 at 14:38)</a>:</h4>
<p>No such thing exists in general, lean works perfectly fine in an unsaved buffer on vscode for example, what do you need it for?</p>



<a name="288681263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/current%20file%20name/near/288681263" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html#288681263">(Jul 06 2022 at 14:46)</a>:</h4>
<p>I want to ask "is this file part of my current leanpkg project"</p>



<a name="288681323"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/current%20file%20name/near/288681323" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html#288681323">(Jul 06 2022 at 14:47)</a>:</h4>
<p>Or more precisely "does this filename <code>string</code> I have come from the same <code>leanpkg</code> project as the metaprogram asking the questions"</p>



<a name="288682597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/current%20file%20name/near/288682597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html#288682597">(Jul 06 2022 at 14:55)</a>:</h4>
<p>Maybe you already know about this, but there is <a href="https://leanprover-community.github.io/mathlib_docs/find/environment.in_current_file">docs#environment.in_current_file</a> (and <a href="https://leanprover-community.github.io/mathlib_docs/find/declaration.in_current_file">docs#declaration.in_current_file</a>), that returns <code>none</code> if the declaration is not in an <em>imported</em> file.  If you know that your declaration is either imported or in the current file, having <code>none</code> means that it is in the current file.</p>
<p>If I understand correctly, the commands read the <code>olean</code> files to determine the answer.</p>



<a name="288684429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/current%20file%20name/near/288684429" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html#288684429">(Jul 06 2022 at 15:06)</a>:</h4>
<p>Yeah, that was the closest thing I found</p>



<a name="288684548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/current%20file%20name/near/288684548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html#288684548">(Jul 06 2022 at 15:07)</a>:</h4>
<p>But as an example, what if I want to exclude all declarations in a directory and not just in a particular file?</p>



<a name="288708912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/239415-metaprogramming%20/%20tactics/topic/current%20file%20name/near/288708912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Damiano Testa <a href="https://leanprover-community.github.io/archive/stream/239415-metaprogramming-/-tactics/topic/current.20file.20name.html#288708912">(Jul 06 2022 at 18:10)</a>:</h4>
<p>Is the issue that you want to exclude all declarations in the same folder as the one in a given file?  This would be easy if you knew the path beforehand, right?  E.g. if you were working in an "import all" file?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>