---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html">data.fin.vec_notation mathlib4#1741</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="322668292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322668292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322668292">(Jan 21 2023 at 05:21)</a>:</h4>
<p>I started this PR, but I need help with the notation.</p>



<a name="322681805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322681805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322681805">(Jan 21 2023 at 08:26)</a>:</h4>
<p>There's some stuff left about:</p>
<ul>
<li>a <code>Repr</code> instance</li>
<li>unsafe defs</li>
<li>bit0/bit1 stuff</li>
</ul>



<a name="322681812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322681812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322681812">(Jan 21 2023 at 08:26)</a>:</h4>
<p>Help appreciated!</p>



<a name="322685760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322685760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322685760">(Jan 21 2023 at 08:59)</a>:</h4>
<p>I can maybe take a look at the repr instance</p>



<a name="322689853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322689853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322689853">(Jan 21 2023 at 09:31)</a>:</h4>
<p>Done</p>



<a name="322690068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322690068" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322690068">(Jan 21 2023 at 09:32)</a>:</h4>
<p>I think it's probably reasonable to comment out the two unsafe instances for now; I think <code>has_reflect</code> (now <a href="https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.ToExpr#doc">docs4#Lean.ToExpr</a>) has been made redundant somehow by Qq, although I don't really understand why</p>



<a name="322691027"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322691027" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322691027">(Jan 21 2023 at 09:38)</a>:</h4>
<p>What about the <code>to_pexpr</code> stuff?</p>



<a name="322694496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322694496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322694496">(Jan 21 2023 at 10:03)</a>:</h4>
<p>This was all prework for my mathlib3 meta matrix PR</p>



<a name="322694619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322694619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322694619">(Jan 21 2023 at 10:04)</a>:</h4>
<p>So I think commenting it out with a porting note and maybe a <code>TODO(eric-wieser)</code> is fine</p>



<a name="322695045"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322695045" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322695045">(Jan 21 2023 at 10:08)</a>:</h4>
<p>I suspect the replacement is a function from <code>fin n → Q(α)</code> to <code>Q(fin n → α)</code>; maybe <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> can comment on what that would look like.</p>



<a name="322695378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322695378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322695378">(Jan 21 2023 at 10:10)</a>:</h4>
<p>(but no need to hold up the PR for that)</p>



<a name="322696886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322696886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322696886">(Jan 21 2023 at 10:21)</a>:</h4>
<p>done</p>



<a name="322696960"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/322696960" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#322696960">(Jan 21 2023 at 10:22)</a>:</h4>
<p>The only stuff remaining is the <code>bit0</code>/<code>bit1</code> warnings</p>



<a name="323033458"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/323033458" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#323033458">(Jan 23 2023 at 14:27)</a>:</h4>
<p>Who's gonna merge this?</p>



<a name="323033764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/323033764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#323033764">(Jan 23 2023 at 14:28)</a>:</h4>
<p>Should we do the backport first?</p>



<a name="323033812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/323033812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#323033812">(Jan 23 2023 at 14:28)</a>:</h4>
<p>Otherwise we'll have porting notes that refer to something that doesn't exist any more, which is a bit confusing</p>



<a name="323033880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/323033880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#323033880">(Jan 23 2023 at 14:29)</a>:</h4>
<p>I think the API change isn't big enough to require a backport</p>



<a name="323033909"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/323033909" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#323033909">(Jan 23 2023 at 14:29)</a>:</h4>
<p>Or at least, it doesn't need to hold up the port</p>



<a name="323066131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/323066131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#323066131">(Jan 23 2023 at 16:40)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> I reverted the change, but now I'm not sure if I should merge it myself :)</p>



<a name="323066966"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/323066966" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#323066966">(Jan 23 2023 at 16:44)</a>:</h4>
<p>I think, it's OK for you to merge it.</p>



<a name="323067139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.fin.vec_notation%20mathlib4%231741/near/323067139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Efin.2Evec_notation.20mathlib4.231741.html#323067139">(Jan 23 2023 at 16:45)</a>:</h4>
<p>Oh, bors doesn't think I can anyway</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>