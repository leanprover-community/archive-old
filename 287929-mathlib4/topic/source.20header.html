---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/source.20header.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html">source header</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="316984981"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/316984981" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#316984981">(Dec 20 2022 at 16:08)</a>:</h4>
<p><code>group_theory.group_action.opposite</code> is also missing a header. But I need to catch a train</p>



<a name="317001243"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/317001243" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#317001243">(Dec 20 2022 at 17:31)</a>:</h4>
<p>Huh? It does have a source header.</p>



<a name="317001995"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/317001995" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#317001995">(Dec 20 2022 at 17:35)</a>:</h4>
<p>I have no clue why it shows up on <a href="https://math.commelin.net/files/port_status.html">#port-status</a>.</p>



<a name="317004295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/317004295" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#317004295">(Dec 20 2022 at 17:47)</a>:</h4>
<p>Reid spotted the error: <code>module</code> was missing in the header.<br>
Here's a fix: <a href="https://github.com/leanprover-community/mathlib4/pull/1127">https://github.com/leanprover-community/mathlib4/pull/1127</a></p>



<a name="317005086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/317005086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#317005086">(Dec 20 2022 at 17:51)</a>:</h4>
<p>Was this header written by hand?</p>



<a name="317005915"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/317005915" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#317005915">(Dec 20 2022 at 17:55)</a>:</h4>
<p>Yeah, it was from an older PR</p>



<a name="319863616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319863616" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319863616">(Jan 06 2023 at 21:05)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/pull/1052">mathlib4#1052</a> was merged 6 hours ago but still shows up on <a href="https://math.commelin.net/files/port_status.html">#port-status</a>, seemingly because Johan's bot didn't get to it at<br>
<a href="https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status">https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status</a><br>
This PR was opened a long time ago (Dec 15) so I wondered if the problem is that it was missing a source header, but it does seem to have one.</p>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> <span class="user-mention" data-user-id="110032">@Reid Barton</span> any ideas?</p>



<a name="319869161"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319869161" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319869161">(Jan 06 2023 at 21:51)</a>:</h4>
<p>Maybe because it is listed at <a href="https://github.com/leanprover-community/mathlib4/wiki/port-comments">https://github.com/leanprover-community/mathlib4/wiki/port-comments</a>?<br>
I don't see anything else wrong off-hand</p>



<a name="319869205"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319869205" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319869205">(Jan 06 2023 at 21:51)</a>:</h4>
<p>I'll try deleting that.</p>



<a name="319869311"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319869311" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319869311">(Jan 06 2023 at 21:52)</a>:</h4>
<p>looks like that line has been there for at least a few days</p>



<a name="319869652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319869652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319869652">(Jan 06 2023 at 21:55)</a>:</h4>
<p>Maybe relevant: this is one of the files which had an ad hoc port.</p>



<a name="319869821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319869821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319869821">(Jan 06 2023 at 21:56)</a>:</h4>
<p>That should probably be okay as long as the source header was added correctly, which it appears to be. If it's still not working tomorrow I'll take a closer look</p>



<a name="319871191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319871191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319871191">(Jan 06 2023 at 22:06)</a>:</h4>
<p>Maybe the problem is that<br>
<a href="https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status">https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status</a><br>
is not being updated at all.  Last time that happened<br>
<a href="#narrow/stream/287929-mathlib4/topic/port_status.20not.20picking.20up.20a.20PR/near/319317052">https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port_status.20not.20picking.20up.20a.20PR/near/319317052</a><br>
the problem was that the script was being run from <a href="https://github.com/leanprover-community/mathlib4/pull/1108">mathlib4#1108</a>, with associated weirdness.</p>
<p>That PR was merged this morning so maybe there's a broken reference somewhere to the deleted branch <code>port-status-2</code>?  <span class="user-mention" data-user-id="112680">@Johan Commelin</span></p>



<a name="319904810"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319904810" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319904810">(Jan 07 2023 at 04:54)</a>:</h4>
<p>I already fixed that problem, by switching to <code>master</code>. The script ran several times yesterday.</p>



<a name="319904825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319904825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319904825">(Jan 07 2023 at 04:54)</a>:</h4>
<p>This time the problems is that <code>assert commit is not None</code> is triggered on <code>combinatorics.quiver.basic</code></p>



<a name="319904832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319904832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319904832">(Jan 07 2023 at 04:54)</a>:</h4>
<p>I do not yet understand why. That file is ported, and has a normal looking source header.</p>



<a name="319905271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319905271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319905271">(Jan 07 2023 at 05:02)</a>:</h4>
<p>Fixed in <a href="https://github.com/leanprover-community/mathlib4/pull/1400">mathlib4#1400</a>. There was a spurious space after the commit hash in the source header.</p>



<a name="319905348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319905348" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319905348">(Jan 07 2023 at 05:03)</a>:</h4>
<p>I'm going to make the regex that matches the hash a bit more relaxed.</p>



<a name="319905851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/source%20header/near/319905851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/source.20header.html#319905851">(Jan 07 2023 at 05:09)</a>:</h4>
<p><a href="https://math.commelin.net/files/port_status.html">#port-status</a> is now up to date again</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>