---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/Mathlib.2FLean.2F.20vs.20Mathlib.2FUtil.2F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mathlib.2FLean.2F.20vs.20Mathlib.2FUtil.2F.html">Mathlib/Lean/ vs Mathlib/Util/</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="290976103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mathlib/Lean/%20vs%20Mathlib/Util//near/290976103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mathlib.2FLean.2F.20vs.20Mathlib.2FUtil.2F.html#290976103">(Jul 27 2022 at 01:18)</a>:</h4>
<p>Does anyone have a good way to formulate what belongs in the <code>Mathlib/Lean</code> and <code>Mathlib/Util/</code> directories? I think it would be good to have this straight before we jumble things up too much. :-)</p>
<p>My attempt:</p>
<ul>
<li><code>Mathlib/Lean/</code>: should contain helper functions which live in the <code>Lean</code> namespace, and add functionality (or merely dot-notation) to things defined in core Lean 4. In some sense this is a <code>for_core</code> directory, containing only definitions which are reasonable candidates for moving to the core library.</li>
<li><code>Mathlib/Util/</code>: user facing commands e.g. <code>library_note</code>, <code>whatsnew</code>, and <code>#time</code>, <em>but also</em> random meta programming tricks, e.g. <code>MemoFix.lean</code> and <code>TermUnsafe.lean</code>.</li>
<li><code>Mathlib/Tactics/</code>: tactics, with as much as possible of the "low-level" stuff that belongs in other directories factored out into those.</li>
</ul>
<p>Corrections/suggestions welcome! I can write some <code>README</code>s to reflect any consensus achieved.</p>



<a name="290976862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mathlib/Lean/%20vs%20Mathlib/Util//near/290976862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mathlib.2FLean.2F.20vs.20Mathlib.2FUtil.2F.html#290976862">(Jul 27 2022 at 01:29)</a>:</h4>
<p>I don't know if it is a useful distinction to separate term/tactic/command things in different directories. Often a single file will manifest as things in multiple categories simultaneously, and they all have a fairly similar metaprogramming interface</p>



<a name="290976935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mathlib/Lean/%20vs%20Mathlib/Util//near/290976935" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mathlib.2FLean.2F.20vs.20Mathlib.2FUtil.2F.html#290976935">(Jul 27 2022 at 01:30)</a>:</h4>
<p>that is, I would be inclined to put user-facing commands in <code>Tactics</code> as well as literal tactics</p>



<a name="290976994"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mathlib/Lean/%20vs%20Mathlib/Util//near/290976994" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mathlib.2FLean.2F.20vs.20Mathlib.2FUtil.2F.html#290976994">(Jul 27 2022 at 01:31)</a>:</h4>
<p><code>Util</code> is more for tactics that are not intended for the usual proving stuff but are either meta-programming tools like <code>TermUnsafe</code> and <code>MemoFix</code> or debugging commands like <code>#time</code></p>



<a name="290977142"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mathlib/Lean/%20vs%20Mathlib/Util//near/290977142" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mathlib.2FLean.2F.20vs.20Mathlib.2FUtil.2F.html#290977142">(Jul 27 2022 at 01:33)</a>:</h4>
<p><code>library_note</code> is a bit borderline, it's primarily about mathlib organization itself which gives it a bit of "meta" feel, but we also expect it to be used throughout the library</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>