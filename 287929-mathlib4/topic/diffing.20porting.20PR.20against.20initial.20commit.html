---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html">diffing porting PR against initial commit</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="316968032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316968032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316968032">(Dec 20 2022 at 14:51)</a>:</h4>
<p>Giit noob question. I would like to diff a mathlib4 porting PR against the initial "non-master" commit to the branch, which I'm hoping is a commit of the autoported file. Right now I just do <code>diff Mathlib/Path/To/File.lean ../mathlib3port/Mathbin/Path/To/File.lean</code> and hope that I pulled mathlib3port at approximately the right time. Assuming the initial commit on the branch really is just a commit of the autoported file, and my HEAD is on <code>origin/the-relevant-branch</code>, what's a better way to do this? I know <code>git diff</code> something something but do I have to manually figure out the commit hashes and paste them in or is there a short cut?</p>



<a name="316968216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316968216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316968216">(Dec 20 2022 at 14:51)</a>:</h4>
<p>Aah, is <code>git diff [commit hash of initial commit on the branch]</code> what I want?</p>



<a name="316969026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316969026" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316969026">(Dec 20 2022 at 14:55)</a>:</h4>
<p>Unless the commits are tagged, you will need the commit hashes. The good news is that you don't need the full hash. the first 7 or 8 characters suffice. You can get them from <code>git log</code></p>



<a name="316969422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316969422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316969422">(Dec 20 2022 at 14:57)</a>:</h4>
<p>If you only provide one hash, then you are performing a <code>diff</code> w.r.t your current staging area.</p>



<a name="316970529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316970529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316970529">(Dec 20 2022 at 15:02)</a>:</h4>
<p>Thanks!</p>



<a name="316973753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316973753" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316973753">(Dec 20 2022 at 15:16)</a>:</h4>
<p>I think people who understand math find this brief tutorial useful : <a href="https://eagain.net/articles/git-for-computer-scientists/">https://eagain.net/articles/git-for-computer-scientists/</a></p>



<a name="316974021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316974021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316974021">(Dec 20 2022 at 15:17)</a>:</h4>
<p>The key point is that names are like post its. There are a handful of them. If you don't have a post it, you need to reach a node by its hash.</p>



<a name="316977807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316977807" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316977807">(Dec 20 2022 at 15:35)</a>:</h4>
<p>You can also git diff branch1 branch2</p>



<a name="316977871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316977871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316977871">(Dec 20 2022 at 15:35)</a>:</h4>
<p>For the "leading" commit of that branch</p>



<a name="316978478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316978478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316978478">(Dec 20 2022 at 15:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="308899">Yakov Pechersky</span> <a href="#narrow/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit/near/316977871">said</a>:</p>
<blockquote>
<p>For the "leading" commit of that branch</p>
</blockquote>
<p>My understanding is that this only serves the purpose Kevin describes if no commits have been made on that branch beyond the initial commit with the autoported file.</p>



<a name="316978659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/diffing%20porting%20PR%20against%20initial%20commit/near/316978659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/diffing.20porting.20PR.20against.20initial.20commit.html#316978659">(Dec 20 2022 at 15:39)</a>:</h4>
<p>OTOH, is it a good idea to tag this initial commit? Perhaps reviewers might find it useful.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>