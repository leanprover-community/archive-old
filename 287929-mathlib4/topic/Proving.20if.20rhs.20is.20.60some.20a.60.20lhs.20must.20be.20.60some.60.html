---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html">Proving if rhs is `some a` lhs must be `some`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="319303754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319303754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319303754">(Jan 04 2023 at 00:25)</a>:</h4>
<p>I have</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">h</span> <span class="o">:</span> <span class="o">(</span><span class="k">match</span> <span class="n">f</span> <span class="n">b</span> <span class="k">with</span>
  <span class="bp">|</span> <span class="n">Sum.inl</span> <span class="n">a</span> <span class="bp">=&gt;</span> <span class="n">some</span> <span class="n">a</span>
  <span class="bp">|</span> <span class="n">Sum.inr</span> <span class="n">val</span> <span class="bp">=&gt;</span> <span class="n">none</span><span class="o">)</span> <span class="bp">=</span>
  <span class="n">some</span> <span class="n">a'</span>
</code></pre></div>
<p>that I'd like to reduce to <code>some a = some a'</code></p>
<p>but I haven't found the lemmata that get me there...</p>



<a name="319304465"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319304465" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319304465">(Jan 04 2023 at 00:33)</a>:</h4>
<p>Do cases on f b</p>



<a name="319304538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319304538" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319304538">(Jan 04 2023 at 00:34)</a>:</h4>
<p>Or maybe try cases on h</p>



<a name="319352598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319352598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319352598">(Jan 04 2023 at 09:44)</a>:</h4>
<p><code>split at h</code> should work too</p>



<a name="319444179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319444179" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319444179">(Jan 04 2023 at 18:15)</a>:</h4>
<p>Hmm. I have an <code>f b</code> in both hypothesis and goal -- is there a way to make Lean 4 recognize that in the cases or splits? Otherwise, I get the goal and hypothesis with different names and run into a corner...</p>



<a name="319616514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319616514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319616514">(Jan 05 2023 at 16:04)</a>:</h4>
<p>maybe <code>(generalizing := true)</code> would help? <a href="#narrow/stream/270676-lean4/topic/Reusing.20knowledge.20from.20a.20pattern.20match/near/242485680">https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Reusing.20knowledge.20from.20a.20pattern.20match/near/242485680</a></p>



<a name="319616847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319616847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319616847">(Jan 05 2023 at 16:05)</a>:</h4>
<p><a href="https://leanprover-community.github.io/mwe.html">#mwe</a> ?</p>



<a name="319625132"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319625132" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319625132">(Jan 05 2023 at 16:44)</a>:</h4>
<p>Indeed -- I'm working on hacking it out from the middle of the proof.</p>



<a name="319629335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319629335" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319629335">(Jan 05 2023 at 17:04)</a>:</h4>
<p>For a question such as this, any working example should be fine.</p>



<a name="319636559"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319636559" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319636559">(Jan 05 2023 at 17:38)</a>:</h4>
<p>I think this does it:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">Mathlib.Data.Sum.Basic</span>

<span class="kd">def</span> <span class="n">foo</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">Sum</span> <span class="n">α</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="n">Sum</span> <span class="n">α</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">Option</span> <span class="n">α</span> <span class="bp">×</span> <span class="n">Sum</span> <span class="n">α</span> <span class="n">β</span>
  <span class="bp">|</span> <span class="n">Sum.inl</span> <span class="n">a</span> <span class="bp">=&gt;</span> <span class="o">(</span><span class="n">some</span> <span class="n">a</span><span class="o">,</span> <span class="n">Sum.inl</span> <span class="n">a</span><span class="o">)</span>
  <span class="bp">|</span> <span class="n">Sum.inr</span> <span class="n">b</span> <span class="bp">=&gt;</span>
    <span class="o">(</span><span class="k">match</span> <span class="n">f</span> <span class="n">b</span> <span class="k">with</span>
      <span class="bp">|</span> <span class="n">Sum.inl</span> <span class="n">a</span> <span class="bp">=&gt;</span> <span class="n">some</span> <span class="n">a</span>
      <span class="bp">|</span> <span class="n">Sum.inr</span> <span class="n">_</span> <span class="bp">=&gt;</span> <span class="n">none</span><span class="o">,</span>
      <span class="n">f</span> <span class="n">b</span><span class="o">)</span>

<span class="kd">theorem</span> <span class="n">bar</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="o">(</span><span class="n">foo</span> <span class="n">f</span> <span class="o">(</span><span class="n">Sum.inr</span> <span class="n">b</span><span class="o">))</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">=</span> <span class="n">some</span> <span class="n">a'</span><span class="o">)</span> <span class="o">:</span>
      <span class="o">(</span><span class="n">foo</span> <span class="n">f</span> <span class="o">(</span><span class="n">foo</span> <span class="n">f</span> <span class="o">(</span><span class="n">Sum.inr</span> <span class="n">b</span><span class="o">))</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">=</span> <span class="n">some</span> <span class="n">a'</span> <span class="o">:=</span> <span class="kd">by</span>
    <span class="n">dsimp</span> <span class="o">[</span><span class="n">foo</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*</span>
    <span class="gr">sorry</span>
</code></pre></div>



<a name="319637711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319637711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319637711">(Jan 05 2023 at 17:44)</a>:</h4>
<p>Tactic state is:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">α</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">u</span>
<span class="n">β</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">v</span>
<span class="n">γ</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">w</span>
<span class="n">β</span><span class="bp">✝</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">u_1</span>
<span class="n">α</span><span class="bp">✝</span><span class="o">:</span> <span class="kt">Type</span> <span class="n">u_2</span>
<span class="n">f</span><span class="o">:</span> <span class="n">β</span><span class="bp">✝</span> <span class="bp">→</span> <span class="n">α</span><span class="bp">✝</span> <span class="bp">⊕</span> <span class="n">β</span><span class="bp">✝</span>
<span class="n">b</span><span class="o">:</span> <span class="n">β</span><span class="bp">✝</span>
<span class="n">a'</span><span class="o">:</span> <span class="n">α</span><span class="bp">✝</span>
<span class="n">h</span><span class="o">:</span> <span class="o">(</span><span class="k">match</span> <span class="n">f</span> <span class="n">b</span> <span class="k">with</span>
  <span class="bp">|</span> <span class="n">Sum.inl</span> <span class="n">a</span> <span class="bp">=&gt;</span> <span class="n">some</span> <span class="n">a</span>
  <span class="bp">|</span> <span class="n">Sum.inr</span> <span class="n">val</span> <span class="bp">=&gt;</span> <span class="n">none</span><span class="o">)</span> <span class="bp">=</span>
  <span class="n">some</span> <span class="n">a'</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="k">match</span> <span class="n">f</span> <span class="n">b</span> <span class="k">with</span>
    <span class="bp">|</span> <span class="n">Sum.inl</span> <span class="n">a</span> <span class="bp">=&gt;</span> <span class="o">(</span><span class="n">some</span> <span class="n">a</span><span class="o">,</span> <span class="n">Sum.inl</span> <span class="n">a</span><span class="o">)</span>
    <span class="bp">|</span> <span class="n">Sum.inr</span> <span class="n">b</span> <span class="bp">=&gt;</span>
      <span class="o">(</span><span class="k">match</span> <span class="n">f</span> <span class="n">b</span> <span class="k">with</span>
        <span class="bp">|</span> <span class="n">Sum.inl</span> <span class="n">a</span> <span class="bp">=&gt;</span> <span class="n">some</span> <span class="n">a</span>
        <span class="bp">|</span> <span class="n">Sum.inr</span> <span class="n">val</span> <span class="bp">=&gt;</span> <span class="n">none</span><span class="o">,</span>
        <span class="n">f</span> <span class="n">b</span><span class="o">))</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">=</span>
  <span class="n">some</span> <span class="n">a'</span>
</code></pre></div>
<p>Most of the moves I try get me to corners where I have the goal as <code>some a_dagger = none</code> where it logically should only be in that state if <code>h</code> is a contradiction.</p>



<a name="319638578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319638578" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319638578">(Jan 05 2023 at 17:48)</a>:</h4>
<p>That doesn't look solvable, the inner <code>f b</code> uses a different <code>b</code></p>



<a name="319639496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319639496" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319639496">(Jan 05 2023 at 17:53)</a>:</h4>
<p>When I hover over the goal state, they are all <code>f : β✝ → α✝ ⊕ β✝</code></p>



<a name="319639654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319639654" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319639654">(Jan 05 2023 at 17:54)</a>:</h4>
<p>and <code>b : β✝</code></p>



<a name="319639873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319639873" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319639873">(Jan 05 2023 at 17:55)</a>:</h4>
<p>Everything right up to this point is straight out of the mathport output....</p>



<a name="319641151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319641151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319641151">(Jan 05 2023 at 18:01)</a>:</h4>
<p>What does appear odd is that the <code>a</code>s are different between <code>Sum.inl a</code> and <code>some a</code> but again I haven't changed anything here out of the port.</p>



<a name="319684887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319684887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319684887">(Jan 05 2023 at 22:34)</a>:</h4>
<p>got it...</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">Mathlib.Data.Sum.Basic</span>

<span class="kd">def</span> <span class="n">foo</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">Sum</span> <span class="n">α</span> <span class="n">β</span><span class="o">)</span> <span class="o">:</span> <span class="n">Sum</span> <span class="n">α</span> <span class="n">β</span> <span class="bp">→</span> <span class="n">Option</span> <span class="n">α</span> <span class="bp">×</span> <span class="n">Sum</span> <span class="n">α</span> <span class="n">β</span>
  <span class="bp">|</span> <span class="n">Sum.inl</span> <span class="n">a</span> <span class="bp">=&gt;</span> <span class="o">(</span><span class="n">some</span> <span class="n">a</span><span class="o">,</span> <span class="n">Sum.inl</span> <span class="n">a</span><span class="o">)</span>
  <span class="bp">|</span> <span class="n">Sum.inr</span> <span class="n">b</span> <span class="bp">=&gt;</span>
    <span class="o">(</span><span class="k">match</span> <span class="n">f</span> <span class="n">b</span> <span class="k">with</span>
      <span class="bp">|</span> <span class="n">Sum.inl</span> <span class="n">a</span> <span class="bp">=&gt;</span> <span class="n">some</span> <span class="n">a</span>
      <span class="bp">|</span> <span class="n">Sum.inr</span> <span class="n">_</span> <span class="bp">=&gt;</span> <span class="n">none</span><span class="o">,</span>
      <span class="n">f</span> <span class="n">b</span><span class="o">)</span>

<span class="kd">theorem</span> <span class="n">bar</span> <span class="o">(</span><span class="n">h</span><span class="o">:</span> <span class="o">(</span><span class="n">foo</span> <span class="n">f</span> <span class="o">(</span><span class="n">Sum.inr</span> <span class="n">b</span><span class="o">))</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">=</span> <span class="n">some</span> <span class="n">a'</span><span class="o">)</span> <span class="o">:</span>
      <span class="o">(</span><span class="n">foo</span> <span class="n">f</span> <span class="o">(</span><span class="n">foo</span> <span class="n">f</span> <span class="o">(</span><span class="n">Sum.inr</span> <span class="n">b</span><span class="o">))</span><span class="bp">.</span><span class="n">snd</span><span class="o">)</span><span class="bp">.</span><span class="n">fst</span> <span class="bp">=</span> <span class="n">some</span> <span class="n">a'</span> <span class="o">:=</span> <span class="kd">by</span>
    <span class="n">dsimp</span> <span class="o">[</span><span class="n">foo</span><span class="o">]</span> <span class="n">at</span> <span class="bp">*</span>
    <span class="n">revert</span> <span class="n">h</span>
    <span class="n">cases'</span> <span class="n">f</span> <span class="n">b</span> <span class="k">with</span> <span class="n">a</span> <span class="n">b'</span> <span class="bp">&lt;;&gt;</span> <span class="n">dsimp</span> <span class="bp">&lt;;&gt;</span> <span class="n">intro</span> <span class="n">h</span>
    <span class="bp">·</span> <span class="n">rw</span> <span class="o">[</span><span class="bp">←</span> <span class="n">h</span><span class="o">]</span>
    <span class="bp">·</span> <span class="n">contradiction</span>
</code></pre></div>



<a name="319763105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319763105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319763105">(Jan 06 2023 at 11:32)</a>:</h4>
<p>Oh I guess I misread the goal</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code>    <span class="n">unfold</span> <span class="n">foo</span> <span class="n">at</span> <span class="bp">*</span>
    <span class="n">split</span> <span class="bp">&lt;;&gt;</span> <span class="n">simp_all</span>
</code></pre></div>



<a name="319841781"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319841781" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319841781">(Jan 06 2023 at 18:53)</a>:</h4>
<p>Cool - is there a deep reason why I had to <code>revert</code> to use <code>cases</code> properly above, but <code>split</code> works fine?</p>
<p>Also: any reason to prefer <code>unfold foo at *</code> vs <code>dsimp [foo] at *</code>?</p>



<a name="319927670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319927670" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319927670">(Jan 07 2023 at 09:43)</a>:</h4>
<p><code>split</code> introduces an extra hypothesis, the same works with <code>cases</code> as well</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">by</span>
    <span class="n">cases</span> <span class="n">h'</span> <span class="o">:</span> <span class="n">f</span> <span class="n">b</span> <span class="bp">&lt;;&gt;</span> <span class="n">simp_all</span><span class="bp">!</span>
</code></pre></div>



<a name="319927705"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Proving%20if%20rhs%20is%20%60some%20a%60%20lhs%20must%20be%20%60some%60/near/319927705" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60.html#319927705">(Jan 07 2023 at 09:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="542196">Arien Malec</span> <a href="#narrow/stream/287929-mathlib4/topic/Proving.20if.20rhs.20is.20.60some.20a.60.20lhs.20must.20be.20.60some.60/near/319841781">said</a>:</p>
<blockquote>
<p>Also: any reason to prefer <code>unfold foo at *</code> vs <code>dsimp [foo] at *</code>?</p>
</blockquote>
<p>It's one character shorter :)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>