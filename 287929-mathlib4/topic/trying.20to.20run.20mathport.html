---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html">trying to run mathport</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="295640765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295640765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295640765">(Aug 27 2022 at 21:04)</a>:</h4>
<p>I did:</p>
<ol>
<li>clone <a href="https://github.com/leanprover-community/mathport">https://github.com/leanprover-community/mathport</a></li>
<li><code>make mathbin-source</code></li>
<li><code>make lean3-source</code></li>
<li><code>make lean3-predata</code></li>
<li><code>make mathbin-predata</code> (took 45 minutes)</li>
<li><code>make port-lean</code></li>
</ol>
<p>Everything succeeded until the last step, whose output ends with</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">...</span>
<span class="bp">&gt;</span> <span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">dwrensha</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2021-10-28/bin/leanc -c -o ./build/ir/MathportApp.o ./build/ir/MathportApp.c -O3 -DNDEBUG</span>
<span class="bp">&gt;</span> <span class="bp">/</span><span class="n">home</span><span class="bp">/</span><span class="n">dwrensha</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2021-10-28/bin/leanc -o ./build/bin/mathport ./build/ir/Mathport/Binary/TranslateExpr.o ./build/ir/Mathport/Binary/Number.o ./build/ir/Mathport/Binary/TranslateName.o ./build/ir/Mathport/Bridge/Rename.o ./build/ir/Mathport/Syntax/Translate/Tactic/Basic.o ./build/ir/Mathport/Syntax.o ./build/ir/Mathport/Bridge/Path.o ./build/ir/Mathport/Bridge/Config.o ./build/ir/Mathport/Syntax/Translate.o ./build/ir/Mathport/Util/System.o ./build/ir/Mathport/Binary/NDRec.o ./build/ir/Mathport/Binary/Basic.o ./build/ir/Mathport/Syntax/Translate/Basic.o ./build/ir/Mathport/Util/Json.o ./build/ir/Mathport/Util/Parse.o ./build/ir/Mathport/Binary/Apply.o ./build/ir/Mathport/Syntax/Translate/Tactic.o ./build/ir/Mathport/Binary.o ./build/ir/Mathport/Syntax/Translate/Tactic/Mathlib.o ./build/ir/Mathport/Util/String.o ./build/ir/Mathport/Util/Name.o ./build/ir/Mathport/Syntax/Translate/Parser.o ./build/ir/Mathport/Binary/Decode.o ./build/ir/Mathport/Syntax/Data4.o ./build/ir/Mathport.o ./build/ir/Mathport/Binary/EnvModification.o ./build/ir/Mathport/Util/While.o ./build/ir/Mathport/Syntax/Parse.o ./build/ir/Mathport/Syntax/Translate/Notation.o ./build/ir/Mathport/Util/Misc.o ./build/ir/Mathport/Syntax/Translate/Attributes.o ./build/ir/Mathport/Util/Import.o ./build/ir/Mathport/Binary/Heterogenize.o ./build/ir/MathportApp.o ./build/ir/Mathport/Syntax/Translate/Tactic/Lean3.o ./build/ir/Mathport/Binary/ParseTLean.o ./build/ir/Mathport/Syntax/AST3.o ./lean_packages/mathlib/./build/lib/libMathlib.a -rdynamic</span>
<span class="n">LEAN_PATH</span><span class="bp">=./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">./</span><span class="n">Lib4</span><span class="bp">/</span><span class="n">leanbin</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span> <span class="bp">./</span><span class="n">build</span><span class="bp">/</span><span class="n">bin</span><span class="bp">/</span><span class="n">mathport</span> <span class="n">config.json</span> <span class="n">Leanbin</span><span class="o">::</span><span class="n">all</span> <span class="bp">&gt;&gt;</span> <span class="n">Logs</span><span class="bp">/</span><span class="n">mathport.out</span> <span class="mi">2</span><span class="bp">&gt;</span> <span class="n">Logs</span><span class="bp">/</span><span class="n">mathport.err</span>
<span class="n">make</span><span class="o">:</span> <span class="bp">***</span> <span class="o">[</span><span class="n">Makefile</span><span class="o">:</span><span class="mi">90</span><span class="o">:</span> <span class="n">port</span><span class="bp">-</span><span class="n">lean</span><span class="o">]</span> <span class="n">Error</span> <span class="mi">1</span>
</code></pre></div>



<a name="295640791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295640791" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295640791">(Aug 27 2022 at 21:05)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">$</span> <span class="n">cat</span> <span class="n">Logs</span><span class="bp">/</span><span class="n">mathport.err</span>
<span class="n">uncaught</span> <span class="n">exception</span><span class="o">:</span> <span class="n">failed</span> <span class="n">to</span> <span class="kn">import</span> <span class="n">environment</span> <span class="n">for</span> <span class="n">Leanbin</span><span class="o">:</span><span class="n">Init.Logic</span> <span class="k">with</span> <span class="n">imports</span> <span class="o">[</span><span class="n">Leanbin.Init.Core</span><span class="o">]:</span> <span class="n">unknown</span> <span class="n">package</span> <span class="bp">'</span><span class="n">Leanbin'</span>
</code></pre></div>



<a name="295640798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295640798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295640798">(Aug 27 2022 at 21:05)</a>:</h4>
<p>what am I doing wrong?</p>



<a name="295713293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295713293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295713293">(Aug 28 2022 at 13:56)</a>:</h4>
<p>We should remove the <code>port-lean</code> target.</p>



<a name="295713554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295713554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295713554">(Aug 28 2022 at 13:58)</a>:</h4>
<p>Just run</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>./build/bin/mathport --make config.json Leanbin::all
</code></pre></div>



<a name="295713640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295713640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295713640">(Aug 28 2022 at 13:59)</a>:</h4>
<p>Btw there's also a <code>download-predata.sh</code> script if you don't want to wait 45 minutes.</p>



<a name="295716642"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295716642" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295716642">(Aug 28 2022 at 14:29)</a>:</h4>
<p>I think the <code>--make</code> flag does not exist?</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">$</span> <span class="bp">./</span><span class="n">build</span><span class="bp">/</span><span class="n">bin</span><span class="bp">/</span><span class="n">mathport</span> <span class="c1">--make config.json Leanbin::all</span>
<span class="n">uncaught</span> <span class="n">exception</span><span class="o">:</span> <span class="n">no</span> <span class="n">such</span> <span class="n">file</span> <span class="n">or</span> <span class="n">directory</span> <span class="o">(</span><span class="n">error</span> <span class="n">code</span><span class="o">:</span> <span class="mi">2</span><span class="o">)</span>
  <span class="n">file</span><span class="o">:</span> <span class="c1">--make</span>
</code></pre></div>



<a name="295716728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295716728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295716728">(Aug 28 2022 at 14:30)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">$</span> <span class="bp">./</span><span class="n">build</span><span class="bp">/</span><span class="n">bin</span><span class="bp">/</span><span class="n">mathport</span> <span class="n">config.json</span> <span class="n">Leanbin</span><span class="o">::</span><span class="n">all</span>
<span class="bp">...</span>
<span class="o">[</span><span class="n">visit</span><span class="o">]</span> <span class="o">{</span> <span class="n">package</span> <span class="o">:=</span> <span class="s2">"Leanbin"</span><span class="o">,</span> <span class="n">mod3</span> <span class="o">:=</span> <span class="bp">`</span><span class="n">init.default</span> <span class="o">}</span>
<span class="o">[</span><span class="n">visit</span><span class="o">]</span> <span class="o">{</span> <span class="n">package</span> <span class="o">:=</span> <span class="s2">"Leanbin"</span><span class="o">,</span> <span class="n">mod3</span> <span class="o">:=</span> <span class="bp">`</span><span class="n">tools.debugger.util</span> <span class="o">}</span>
<span class="o">[</span><span class="n">visit</span><span class="o">]</span> <span class="o">{</span> <span class="n">package</span> <span class="o">:=</span> <span class="s2">"Leanbin"</span><span class="o">,</span> <span class="n">mod3</span> <span class="o">:=</span> <span class="bp">`</span><span class="n">tools.debugger.cli</span> <span class="o">}</span>
<span class="o">[</span><span class="n">visit</span><span class="o">]</span> <span class="o">{</span> <span class="n">package</span> <span class="o">:=</span> <span class="s2">"Leanbin"</span><span class="o">,</span> <span class="n">mod3</span> <span class="o">:=</span> <span class="bp">`</span><span class="n">tools.debugger.util</span> <span class="o">}</span>
<span class="n">uncaught</span> <span class="n">exception</span><span class="o">:</span> <span class="n">failed</span> <span class="n">to</span> <span class="kn">import</span> <span class="n">environment</span> <span class="n">for</span> <span class="n">Leanbin</span><span class="o">:</span><span class="n">Init.Logic</span> <span class="k">with</span> <span class="n">imports</span> <span class="o">[</span><span class="n">Leanbin.Init.Core</span><span class="o">]:</span> <span class="n">unknown</span> <span class="n">package</span> <span class="bp">'</span><span class="n">Leanbin'</span>
</code></pre></div>



<a name="295718663"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295718663" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295718663">(Aug 28 2022 at 14:49)</a>:</h4>
<p>Do you have the latest version of <code>mathport</code>?</p>



<a name="295720274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295720274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295720274">(Aug 28 2022 at 15:04)</a>:</h4>
<p>heh, good point. I seem to still be pointed at <a href="https://github.com/dselsam/mathport.git">https://github.com/dselsam/mathport.git</a></p>



<a name="295720280"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295720280" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295720280">(Aug 28 2022 at 15:04)</a>:</h4>
<p><span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="295720676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295720676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295720676">(Aug 28 2022 at 15:08)</a>:</h4>
<p>Updated my remote to be <a href="https://github.com/leanprover-community/mathport">https://github.com/leanprover-community/mathport</a></p>



<a name="295720701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295720701" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295720701">(Aug 28 2022 at 15:09)</a>:</h4>
<p>repulled, did <code>git clean -xffd</code>, and launched a new build...</p>



<a name="295730679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/295730679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#295730679">(Aug 28 2022 at 16:42)</a>:</h4>
<p>success!</p>



<a name="297934625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297934625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297934625">(Sep 09 2022 at 09:29)</a>:</h4>
<p>I tried to run mathport using GitHub Actions: <a href="https://github.com/abentkamp/mathport/runs/8265032056">https://github.com/abentkamp/mathport/runs/8265032056</a></p>
<p>After two hours of <code>make mathbin-predata</code>,  I get:</p>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>cd sources/mathlib &amp;&amp; lean --make --recursive --ast --tlean src
make: *** [Makefile:75: mathbin-predata] Killed
Error: Process completed with exit code 2.
</code></pre></div>
<p>Any ideas what could cause this?</p>



<a name="297937590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297937590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297937590">(Sep 09 2022 at 09:50)</a>:</h4>
<p>Mathlib is so grandiose that it cannot be be built on standard github actions runners. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="297937636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297937636" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297937636">(Sep 09 2022 at 09:50)</a>:</h4>
<p>(I believe the machine is running out of memory.)</p>



<a name="297938012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297938012" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297938012">(Sep 09 2022 at 09:53)</a>:</h4>
<p>You should use the <code>download-predata</code> script to get the mathlib build handcrafted by artisan servers in Pittsburgh.  (You removed that part in the CI scripts on your branch.)</p>



<a name="297950691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297950691" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297950691">(Sep 09 2022 at 11:19)</a>:</h4>
<p>Hm, I'd like to be able to port my own material, so using <code>download-predata</code> is not an option I think.</p>



<a name="297950757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297950757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297950757">(Sep 09 2022 at 11:19)</a>:</h4>
<p>Also, I've just tried it on my own machine and I am still running into the same problem. How much memory do I need for this?</p>



<a name="297951693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297951693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297951693">(Sep 09 2022 at 11:27)</a>:</h4>
<p>Ok, I see that one needs a lot of memory. I restarted the process while observing the memory status and I can already see it filling up really fast :-)</p>



<a name="297956804"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297956804" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297956804">(Sep 09 2022 at 12:01)</a>:</h4>
<blockquote>
<p>Hm, I'd like to be able to port my own material, so using <code>download-predata</code> is not an option I think.</p>
</blockquote>
<p>This depends.. is your stuff in mathlib?</p>



<a name="297958586"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297958586" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297958586">(Sep 09 2022 at 12:12)</a>:</h4>
<p>No. Not yet at least :-)</p>



<a name="297963242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297963242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297963242">(Sep 09 2022 at 12:38)</a>:</h4>
<p>Would it be an option to port lean + mathlib + a third project while reusing the existing predata for mathlib? I have no idea how to set this up though.</p>



<a name="297963737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297963737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297963737">(Sep 09 2022 at 12:41)</a>:</h4>
<p>Yes, that should be possible as long as your project works with one of the mathlib versions on <a href="https://github.com/leanprover-community/mathport/releases">https://github.com/leanprover-community/mathport/releases</a></p>



<a name="297964192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297964192" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297964192">(Sep 09 2022 at 12:44)</a>:</h4>
<p>ok, I'll try that then.</p>



<a name="297964382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297964382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297964382">(Sep 09 2022 at 12:45)</a>:</h4>
<p>As for how to set that up:</p>
<ol>
<li>Copy&amp;paste the <code>mathbin-predata</code>/<code>port-mathbin</code> targets in the makefile to <code>myproject-predata</code>/<code>port-myproject</code>.</li>
<li>Add your <code>myproject</code> to <code>config.json</code> in all the required places.</li>
<li>Run <code>./download-predata.sh predata-nightly-YYYY-MM-DD</code> where <code>YYYY-MM-DD</code> is the mathlib version your project works with.  Or alternatively <code>./download-release.sh nightly-YYYY-MM-DD</code> if you also want the ported oleans.</li>
<li>Run <code>make myproject-predata</code></li>
<li>Run <code>make port-myproject</code></li>
</ol>



<a name="297971369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297971369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297971369">(Sep 09 2022 at 13:22)</a>:</h4>
<p>Thanks a lot, it works!</p>
<p>What's the best way to import the binport into a Lean4 project now?</p>



<a name="297972844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297972844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297972844">(Sep 09 2022 at 13:29)</a>:</h4>
<p>Oh, you mean with the files you've just ported?  Good question.  I think you need to copy&amp;paste <code>mathlib3port</code>.</p>



<a name="297972899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/trying%20to%20run%20mathport/near/297972899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/trying.20to.20run.20mathport.html#297972899">(Sep 09 2022 at 13:29)</a>:</h4>
<p>Ok :-)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>