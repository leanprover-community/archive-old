---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html">data.nat.prime #1156</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="317245109"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317245109" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317245109">(Dec 21 2022 at 20:40)</a>:</h4>
<p>I'm done for today in case someone wants to work on it</p>



<a name="317246361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317246361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317246361">(Dec 21 2022 at 20:48)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/pull/1156">mathlib4#1156</a></p>



<a name="317247846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317247846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317247846">(Dec 21 2022 at 20:56)</a>:</h4>
<p>I'll take on the sorry in Data.Nat.Sqrt</p>



<a name="317299722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317299722" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317299722">(Dec 22 2022 at 07:09)</a>:</h4>
<p>The PR has cleared CI and is ready for review.</p>



<a name="317305580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317305580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317305580">(Dec 22 2022 at 08:01)</a>:</h4>
<p>I think <code>Data.Nat.Sqrt</code> still needs some cleaning up.</p>



<a name="317305600"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317305600" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317305600">(Dec 22 2022 at 08:01)</a>:</h4>
<p>I don't think <code>AM_GM</code> should stay in that file, etc...</p>



<a name="317305615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317305615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317305615">(Dec 22 2022 at 08:01)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> what is the philosophy here?</p>



<a name="317305681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317305681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317305681">(Dec 22 2022 at 08:02)</a>:</h4>
<p>Should we move things to other files? Or leave a <code>-- porting note: move this</code>?</p>



<a name="317305800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317305800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317305800">(Dec 22 2022 at 08:03)</a>:</h4>
<p>How about a new file, which doesn't correspond to anything in mathlib3, that contains the "new work" that had to be done to put the pieces back together again in the "directly ported" files?</p>



<a name="317305861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317305861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317305861">(Dec 22 2022 at 08:04)</a>:</h4>
<p>(Thinking that this minimises discrepancies with the mathlib3 files, for ease of understanding what's happened later / verifying everything is in place.)</p>



<a name="317306039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317306039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317306039">(Dec 22 2022 at 08:05)</a>:</h4>
<p>In other words: <code>Data/Nat/Sqrt_for_mathlib.lean</code>? <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="317307103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317307103" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317307103">(Dec 22 2022 at 08:13)</a>:</h4>
<p><span class="user-mention" data-user-id="303675">@Anand Rao</span> Do you want to finish this PR? If you have no time, then let me know and I can do it.</p>



<a name="317308380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317308380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anand Rao <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317308380">(Dec 22 2022 at 08:22)</a>:</h4>
<p>Yes, I can try polishing the new proofs and clearing out the unused lemmas.</p>



<a name="317323215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317323215" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anand Rao <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317323215">(Dec 22 2022 at 09:54)</a>:</h4>
<p>I have taken the approach of creating two auxilliary files for <code>Data.Nat.Sqrt</code>:</p>
<ul>
<li><code>Data.Nat.ForSqrtEssential</code> contains two general lemmas about natural numbers (including the AM-GM inequality) and two facts about the <code>sqrt.iter</code> function (which could be moved to <code>Std.Data.Nat.Basic</code>)</li>
<li><code>Data.Nat.ForSqrtNonEssential</code> contains a few lemmas that we proved while porting the file but never ended up using. Some of these might be useful to have in <code>Mathlib</code> or <code>Std</code> (specifically <code>div_mul_div_le</code> and <code>iter_fp_bound</code>), but the rest can be discarded.</li>
</ul>



<a name="317323880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317323880" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317323880">(Dec 22 2022 at 09:58)</a>:</h4>
<p><span class="user-mention" data-user-id="303675">@Anand Rao</span> I think we shouldn't put the <code>NonEssential</code> file in mathlib.</p>



<a name="317324201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317324201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anand Rao <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317324201">(Dec 22 2022 at 10:00)</a>:</h4>
<p>I'll remove it then. What do you suggest we do with the lemmas <code>div_mul_div_le</code> and <code>iter_fp_bound</code>? Should I merge the two auxilliary files, keeping only the potentially useful lemmas?</p>



<a name="317325157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317325157" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anand Rao <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317325157">(Dec 22 2022 at 10:05)</a>:</h4>
<p>I have removed the <code>NonEssential</code> file. There is now just one file - <code>ForSqrt</code>.</p>



<a name="317408170"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.nat.prime%20%231156/near/317408170" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Enat.2Eprime.20.231156.html#317408170">(Dec 22 2022 at 16:49)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/pull/1156">mathlib4#1156</a> is ready for review</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>