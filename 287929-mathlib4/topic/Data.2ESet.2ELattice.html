---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html">Data.Set.Lattice</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="317124508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317124508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Chris Hughes <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317124508">(Dec 21 2022 at 10:22)</a>:</h4>
<p>An issue came up in this file. One is that the simp attribute on <code>unionᵢ_interᵢ_ge_nat_add</code> triggered the linter <code>Left-hand side does not simplify, when using the simp lemma on itself. This usually means that it will never apply.</code> However, it does seem to apply when used on itself. Maybe a linter bug?</p>



<a name="317124806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317124806" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317124806">(Dec 21 2022 at 10:24)</a>:</h4>
<p>This sounds similar to <a href="#narrow/stream/287929-mathlib4/topic/complete_lattice.20and.20has_sup/near/316497982">https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/complete_lattice.20and.20has_sup/near/316497982</a></p>



<a name="317138579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317138579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317138579">(Dec 21 2022 at 11:39)</a>:</h4>
<p>And as Eric points out, both this example and the other example have <code>ge</code> in.</p>



<a name="317184097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317184097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317184097">(Dec 21 2022 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="110044">@Chris Hughes</span> your example is <a href="#narrow/stream/287929-mathlib4/topic/complete_lattice.20and.20has_sup/near/317183548">essentially the same lemma as Patrick's</a> and in that thread Gabriel is suggesting that it's a bad simp lemma for other reasons; you'll understand them better than I do and if they also apply in your case then you can just remove the simp, add a porting note and at least you're unblocked, even though we don't actually understand what's going on.</p>



<a name="317188321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317188321" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317188321">(Dec 21 2022 at 15:43)</a>:</h4>
<p>I've recorded the issue <a href="https://github.com/leanprover/std4/issues/71">here</a> but clearly the short term solution is just to remove the <code>simp</code> and move on.</p>



<a name="317202276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317202276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317202276">(Dec 21 2022 at 16:49)</a>:</h4>
<p>Note that the forward-port at <a href="https://github.com/leanprover-community/mathlib4/pull/1109">mathlib4#1109</a> will conflict with the port of this file; which takes priority here? Do we make the forward-porter redo the forward-port, or make the porter redo the port?</p>



<a name="317204054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317204054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317204054">(Dec 21 2022 at 16:58)</a>:</h4>
<p>This is really a mess. I think that each day brings us closer to the day where touching a mathlib3 file this already ported will simply be totally forbidden (maybe with some very rare exceptions discussed among maintainers).</p>



<a name="317204156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317204156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317204156">(Dec 21 2022 at 16:58)</a>:</h4>
<p>I think probably things that touch a mix of ported and partially-ported files are the really nasty cases</p>



<a name="317204225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317204225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317204225">(Dec 21 2022 at 16:59)</a>:</h4>
<p>I'm not sure what bors is doing with <a href="https://github.com/leanprover-community/mathlib/pull/1109">#1109</a> anyway.</p>



<a name="317204328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317204328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317204328">(Dec 21 2022 at 16:59)</a>:</h4>
<p>If you mean the mathlib3 version of <a href="https://github.com/leanprover-community/mathlib4/pull/1109">mathlib4#1109</a>, it's about 20 minutes from hitting master</p>



<a name="317204565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317204565" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317204565">(Dec 21 2022 at 17:00)</a>:</h4>
<p>Yes, I meant <a href="https://github.com/leanprover-community/mathlib/pull/17882">#17882</a>, sorry.</p>



<a name="317204702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317204702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317204702">(Dec 21 2022 at 17:01)</a>:</h4>
<p>Ideally the porting warning bot would detect files with in-progress ports too</p>



<a name="317234237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Data.Set.Lattice/near/317234237" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yuyang Zhao <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Data.2ESet.2ELattice.html#317234237">(Dec 21 2022 at 19:33)</a>:</h4>
<p>Just merge <a href="https://github.com/leanprover-community/mathlib4/pull/1121">mathlib4#1121</a> first. It's easy to deal with the conflict.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>