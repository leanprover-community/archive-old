---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/mathport.20runs.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html">mathport runs</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="320642482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320642482" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320642482">(Jan 11 2023 at 08:33)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span>  can we easily run mathport on the "shoreline" of the rising tide?</p>



<a name="320642631"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320642631" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320642631">(Jan 11 2023 at 08:33)</a>:</h4>
<p>If that's not to hard, I think it would be helpful to run it every hour</p>



<a name="320673667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320673667" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320673667">(Jan 11 2023 at 11:24)</a>:</h4>
<p>hm, that will get awkward because then you have a bunch of partial mathport runs so it's not obvious what to download to make sure you don't get weird errors due to mismatching oleans</p>



<a name="320674037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320674037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320674037">(Jan 11 2023 at 11:26)</a>:</h4>
<p>Could there be a <code>Oneshot</code> directory frequently publishes oneshot-ports of the shoreline?</p>



<a name="320674127"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320674127" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320674127">(Jan 11 2023 at 11:26)</a>:</h4>
<p><code>Oneshot</code> can be used in that way, right?</p>



<a name="320674361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320674361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320674361">(Jan 11 2023 at 11:28)</a>:</h4>
<p>I think I'm just hoping that mathport can use some "cache" from previous runs, or something. Having hourly output would be really useful at times.</p>



<a name="320675030"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320675030" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320675030">(Jan 11 2023 at 11:31)</a>:</h4>
<p>TBH that's not really my expertise. It sounds doable in principle, most of the things are being cached, but wrangling the github actions sounds like something I will pray for someone else to pick up ;P</p>



<a name="320762107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320762107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320762107">(Jan 11 2023 at 17:54)</a>:</h4>
<blockquote>
<p>on the "shoreline" of the rising tide?</p>
</blockquote>
<p>I live at the sea, but I can't make any sense of this analogy.  Can you be a bit more specific please?</p>



<a name="320762606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320762606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320762606">(Jan 11 2023 at 17:57)</a>:</h4>
<blockquote>
<p>If that's not to hard, I think it would be helpful to run it every hour</p>
</blockquote>
<p>We could certainly run mathport more than twice a day <em>for the same mathlib3 commit</em>, that is, only picking up changes from mathlib4.  The mathport run takes a bit less than an hour.  How about once every two hours?</p>



<a name="320762801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320762801" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320762801">(Jan 11 2023 at 17:58)</a>:</h4>
<p>Picking up changes from mathlib3 more frequently is not really in the cards, it takes a couple of hours to build (and we can't use the caches because we need to generate tlean&amp;ast files).</p>



<a name="320763936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320763936" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320763936">(Jan 11 2023 at 18:03)</a>:</h4>
<p>Already, picking up new <code>#align</code>s from mathlib4 would be really useful.</p>



<a name="320764129"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320764129" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320764129">(Jan 11 2023 at 18:04)</a>:</h4>
<p>Re "shoreline": I just mean the files that are ready to be ported (or maybe are 1 step away from ready to be ported)</p>



<a name="320780447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320780447" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320780447">(Jan 11 2023 at 19:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110043">Gabriel Ebner</span> <a href="#narrow/stream/287929-mathlib4/topic/mathport.20runs/near/320762801">said</a>:</p>
<blockquote>
<p>Picking up changes from mathlib3 more frequently is not really in the cards, it takes a couple of hours to build (and we can't use the caches because we need to generate tlean&amp;ast files).</p>
</blockquote>
<p>Could we make the mathlib3 CI build and store these too? Or is it not worth it?</p>



<a name="320780927"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320780927" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320780927">(Jan 11 2023 at 19:30)</a>:</h4>
<p>I don't think it's really worth it at this point.  mathlib3 development is slowing down anyhow.</p>



<a name="320781896"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320781896" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320781896">(Jan 11 2023 at 19:34)</a>:</h4>
<p>Where does the current CI run from?</p>



<a name="320782962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320782962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320782962">(Jan 11 2023 at 19:40)</a>:</h4>
<p>I'm not sure I understand the question.</p>



<a name="320783055"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320783055" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320783055">(Jan 11 2023 at 19:41)</a>:</h4>
<p>Where do I navigate to on GitHub to see the runs?</p>



<a name="320783086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320783086" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320783086">(Jan 11 2023 at 19:41)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathport/actions">https://github.com/leanprover-community/mathport/actions</a></p>



<a name="320783234"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320783234" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320783234">(Jan 11 2023 at 19:42)</a>:</h4>
<p>update = bump mathlib4 dependency<br>
mathport = run mathport and push to mathlib3port<br>
predata = build mathlib3</p>



<a name="320783246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20runs/near/320783246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20runs.html#320783246">(Jan 11 2023 at 19:42)</a>:</h4>
<p>Thanks!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>