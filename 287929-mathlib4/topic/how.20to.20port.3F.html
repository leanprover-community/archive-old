---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/how.20to.20port.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html">how to port?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="322406954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322406954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322406954">(Jan 20 2023 at 00:30)</a>:</h4>
<p>Sorry, I'm entirely clueless here. I want to port this relatively simple PR <a href="https://github.com/leanprover-community/mathlib/pull/18236">#18236</a> over to Mathlib 4. I've downloaded the mathlib4 and mathlib3port repos, but other than that, I have no idea what to do.</p>



<a name="322406972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322406972" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322406972">(Jan 20 2023 at 00:30)</a>:</h4>
<p>Is there some sort of guide I'm not seeing?</p>



<a name="322407036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322407036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322407036">(Jan 20 2023 at 00:31)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status">#port-wiki</a></p>



<a name="322407063"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322407063" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322407063">(Jan 20 2023 at 00:31)</a>:</h4>
<p>I think the conclusion of the meeting was that open mathlib3 PRs should only be ported after they're merged and mathlib3port has been updated with their contents</p>



<a name="322407080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322407080" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322407080">(Jan 20 2023 at 00:31)</a>:</h4>
<p>Is that now discussed on the wiki?</p>



<a name="322407081"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322407081" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322407081">(Jan 20 2023 at 00:31)</a>:</h4>
<p>...that did not link where I expected</p>



<a name="322407164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322407164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322407164">(Jan 20 2023 at 00:32)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/wiki/Porting-wiki">https://github.com/leanprover-community/mathlib4/wiki/Porting-wiki</a></p>



<a name="322407211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322407211" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322407211">(Jan 20 2023 at 00:32)</a>:</h4>
<p>Ah thanks</p>



<a name="322407315"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322407315" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322407315">(Jan 20 2023 at 00:33)</a>:</h4>
<p>So then, I just wait for the PR to be merged, then I do the procedure on the wiki</p>



<a name="322407327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322407327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322407327">(Jan 20 2023 at 00:34)</a>:</h4>
<p>So far the two reasonable takes I've seen on forward ports are:</p>
<ul>
<li>Do nothing and promise to come back to it later</li>
<li>Create a mathlib4 PR with an empty commit (<code>git commit --allow-empty</code>), and update it later once mathlib3port is ready  to help you.</li>
</ul>
<p>and the two less reasonable ones:</p>
<ul>
<li>Run mathport one-shot on the PR files. This is hard to set up in practice</li>
<li>Port everything manually before the mathlib3 PR is merged. This is a waste of your time, and also increases the risk of mistakes.</li>
</ul>



<a name="322407407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322407407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322407407">(Jan 20 2023 at 00:34)</a>:</h4>
<p>There is apparently <a href="https://github.com/leanprover-community/mathlib4/wiki">#port-guide</a>, <a href="https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status">#port-wiki</a>, <a href="https://math.commelin.net/files/port_status.html">#port-status</a> and the names don't all seem to match the links</p>



<a name="322427588"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322427588" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322427588">(Jan 20 2023 at 04:42)</a>:</h4>
<p>Hm, wait. So am I supposed to use mathport for these synchronized files?</p>



<a name="322427608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322427608" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322427608">(Jan 20 2023 at 04:42)</a>:</h4>
<p>Or is the idea that I write the code myself?</p>



<a name="322427618"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322427618" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322427618">(Jan 20 2023 at 04:43)</a>:</h4>
<p>Or do I need to wait for mathport to be able to port that?</p>



<a name="322427622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322427622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322427622">(Jan 20 2023 at 04:43)</a>:</h4>
<p>I don't get it <span aria-label="frown" class="emoji emoji-1f641" role="img" title="frown">:frown:</span></p>



<a name="322428004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322428004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322428004">(Jan 20 2023 at 04:49)</a>:</h4>
<p><span class="user-mention" data-user-id="459227">@Violeta Hernández</span> Every 2 hrs, mathport builds a new translation of mathlib3.</p>



<a name="322428064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322428064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322428064">(Jan 20 2023 at 04:50)</a>:</h4>
<p>Ah, I wasn't aware of that</p>



<a name="322428070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322428070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322428070">(Jan 20 2023 at 04:50)</a>:</h4>
<p>At that point, you can go to the mathlib3port repo, and navigate to the file that you want to port some decls from</p>



<a name="322428113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322428113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322428113">(Jan 20 2023 at 04:50)</a>:</h4>
<p>And then just copy paste those decls, and commit them in mathlib4. After that, create more commits that fix the errors.</p>



<a name="322428154"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322428154" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322428154">(Jan 20 2023 at 04:51)</a>:</h4>
<p>You are encouraged to create a first commit with "Output of mathport". So that we can review a diff of your changes compared to that baseline.</p>



<a name="322428824"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322428824" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322428824">(Jan 20 2023 at 04:59)</a>:</h4>
<p>You do mean this, right? <a href="https://github.com/leanprover-community/mathlib3port">https://github.com/leanprover-community/mathlib3port</a></p>



<a name="322428839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322428839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322428839">(Jan 20 2023 at 04:59)</a>:</h4>
<p>188 commits seems like too few for "every 2 hours"</p>



<a name="322428853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322428853" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322428853">(Jan 20 2023 at 04:59)</a>:</h4>
<p>(or maybe I just rejoined at the most inconvenient time possible?)</p>



<a name="322429362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322429362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322429362">(Jan 20 2023 at 05:06)</a>:</h4>
<p>Until Jan 10 it was updating twice a day.</p>



<a name="322433786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322433786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322433786">(Jan 20 2023 at 06:04)</a>:</h4>
<p>I thought it updated mathlib 4 every 2 hours and mathlib 3 every 12</p>



<a name="322433849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322433849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322433849">(Jan 20 2023 at 06:05)</a>:</h4>
<p>Ooh, you are right. So if you want to forward port something from ml3, you might need to wait a bit longer</p>



<a name="322541196"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322541196" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322541196">(Jan 20 2023 at 15:29)</a>:</h4>
<p>Mathlib3port is currently tracking a 20 hour old commit</p>



<a name="322543392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322543392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322543392">(Jan 20 2023 at 15:38)</a>:</h4>
<p>Seems more than 12 hours</p>



<a name="322544422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322544422" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322544422">(Jan 20 2023 at 15:42)</a>:</h4>
<p>You would expect the commit to be old by 12 hours + mathport runtime + mathlib3 bors runtime</p>



<a name="322544522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322544522" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322544522">(Jan 20 2023 at 15:43)</a>:</h4>
<p>How old is the commit tracking the 20 hour old commit?</p>



<a name="322545461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322545461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322545461">(Jan 20 2023 at 15:47)</a>:</h4>
<p>The next mathlib commit says it's 17 hours old but I don't know what time that is (i.e. original commit time or bors push time)</p>



<a name="322545595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322545595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322545595">(Jan 20 2023 at 15:47)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib3port/commit/f41e4409e581f573c2367566d0eb6ccebdc651ee">https://github.com/leanprover-community/mathlib3port/commit/f41e4409e581f573c2367566d0eb6ccebdc651ee</a></p>



<a name="322545617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322545617" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322545617">(Jan 20 2023 at 15:47)</a>:</h4>
<p>It's 12 hours old</p>



<a name="322545727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322545727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322545727">(Jan 20 2023 at 15:48)</a>:</h4>
<p>Ah so I see, </p>
<ul>
<li>mathlib 3 is updated 20 hours ago</li>
<li>mathlib3port reads that last PR 12 hours ago</li>
</ul>



<a name="322545795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/how%20to%20port%3F/near/322545795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Violeta Hernández <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/how.20to.20port.3F.html#322545795">(Jan 20 2023 at 15:48)</a>:</h4>
<p>I'm bad at maths it seems</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>