---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html">unique term inhabiting the unit</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="315893169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315893169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Dean Young <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315893169">(Dec 14 2022 at 18:54)</a>:</h4>
<p>I'm looking for answers to these two questions:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">constituent</span>  <span class="o">:</span> <span class="n">Unit</span> <span class="o">:=</span> <span class="bp">?</span>
<span class="kd">def</span> <span class="n">uniqueness</span> <span class="o">:</span> <span class="k">forall</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">Unit</span><span class="o">),</span> <span class="k">forall</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">Unit</span><span class="o">)</span> <span class="o">(</span><span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">?</span>
</code></pre></div>



<a name="315897716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315897716" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315897716">(Dec 14 2022 at 19:17)</a>:</h4>
<p>Right click on the definition of <code>Unit</code> and jump to its definition to see the answers!</p>



<a name="315897842"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315897842" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315897842">(Dec 14 2022 at 19:18)</a>:</h4>
<p>I think even the docstring will answer one of them</p>



<a name="315897906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315897906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315897906">(Dec 14 2022 at 19:18)</a>:</h4>
<p>It's spelt like this by the way:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">constituent</span> <span class="o">:</span> <span class="n">Unit</span> <span class="o">:=</span> <span class="gr">sorry</span>
<span class="kd">def</span> <span class="n">uniqueness</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">Unit</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">Unit</span><span class="o">),</span> <span class="o">(</span><span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span> <span class="gr">sorry</span>
</code></pre></div>
<p>(maybe jumping to definition doesn't work if there are syntax errors everywhere)</p>



<a name="315898206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315898206" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315898206">(Dec 14 2022 at 19:20)</a>:</h4>
<p>Actually the second one isn't immediately obvious from the definition :-( </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">def</span> <span class="n">constituent</span> <span class="o">:</span> <span class="n">Unit</span> <span class="o">:=</span> <span class="n">Unit.unit</span>
<span class="kd">def</span> <span class="n">uniqueness</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">Unit</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">Unit</span><span class="o">),</span> <span class="o">(</span><span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">Subsingleton.elim</span>
</code></pre></div>



<a name="315898300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315898300" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315898300">(Dec 14 2022 at 19:21)</a>:</h4>
<p>the second question is less obvious, the exact answer is <code>PUnit.subsingleton</code> but <code>Subsingleton.elim</code> is the more general version</p>



<a name="315898362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315898362" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315898362">(Dec 14 2022 at 19:21)</a>:</h4>
<p>we should put info about <code>Subsingleton</code> in the <code>Unit</code> docstring</p>



<a name="315898516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315898516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315898516">(Dec 14 2022 at 19:22)</a>:</h4>
<p>The second shouldn't be a def, Kevin <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="315899291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315899291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315899291">(Dec 14 2022 at 19:27)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">Mathlib</span>

<span class="kd">def</span> <span class="n">constituent</span> <span class="o">:</span> <span class="n">Unit</span> <span class="o">:=</span> <span class="n">Unit.unit</span>
<span class="kd">theorem</span> <span class="n">uniqueness</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">Unit</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="n">Unit</span><span class="o">),</span> <span class="o">(</span><span class="n">x</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">library_search</span> <span class="c1">-- works</span>
</code></pre></div>



<a name="315899371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315899371" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315899371">(Dec 14 2022 at 19:27)</a>:</h4>
<p><code>library_search</code> is a useful tool to answer questions of the form "how do I do this thing which is probably in the library"</p>



<a name="315904912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315904912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Kovach <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315904912">(Dec 14 2022 at 20:01)</a>:</h4>
<p>mildly interesting: I tried <code>library_search</code> here and it gave me <code>fun a b ↦ rfl</code>, avoiding the case analysis needed in lean3. can anyone explain why <code>rfl</code> alone works in lean4?</p>



<a name="315906106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315906106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315906106">(Dec 14 2022 at 20:07)</a>:</h4>
<p>I think this might be a weird case of the new structure eta feature that makes <code>Prod.Mk x.1 x.2 = x</code>, but for <code>Unit</code> which has no arguments</p>



<a name="315906928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/unique%20term%20inhabiting%20the%20unit/near/315906928" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Kovach <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/unique.20term.20inhabiting.20the.20unit.html#315906928">(Dec 14 2022 at 20:13)</a>:</h4>
<p>you're right! but actually intentionally supported: <a href="https://github.com/leanprover/lean4/issues/777#issuecomment-977970138">https://github.com/leanprover/lean4/issues/777#issuecomment-977970138</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>