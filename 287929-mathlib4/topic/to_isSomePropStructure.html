---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/to_isSomePropStructure.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/to_isSomePropStructure.html">to_isSomePropStructure</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="319731105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/to_isSomePropStructure/near/319731105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Winston Yin (尹維晨) <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/to_isSomePropStructure.html#319731105">(Jan 06 2023 at 07:34)</a>:</h4>
<p>In the current naming scheme, there's a discrepancy in naming fields/theorems under <code>Prop</code> structures. Say we have three structures: <code>IsFoo</code>, <code>IsFooBar</code> extending <code>IsFoo</code>, and <code>IsBar</code>, all of which are <code>Prop</code>. Automatically we have the field <code>IsFooBar.toIsFoo</code>. Then, we want to state <code>lemma IsFooBar.to_isBar : IsBar</code>. Ah you see, this is a proof, so we need to use lower camel case <code>to_isBar</code>, which looks inconsistent with <code>toIsFoo</code>.</p>
<p>Maybe we don't care at all, but I just wanted to mention it here as I'm porting <code>deprecated.group</code>, and there's a bunch of these...</p>



<a name="319823517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/to_isSomePropStructure/near/319823517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/to_isSomePropStructure.html#319823517">(Jan 06 2023 at 17:14)</a>:</h4>
<p>I don't understand why we want <code>toSomeTypeStructure</code> instead of <code>to_someTypeStructure</code> either.</p>



<a name="319823666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/to_isSomePropStructure/near/319823666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/to_isSomePropStructure.html#319823666">(Jan 06 2023 at 17:15)</a>:</h4>
<p>The <code>to</code> is not part of the structure name, so surely it shouldn't fall into the same part of the name?</p>



<a name="319823855"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/to_isSomePropStructure/near/319823855" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/to_isSomePropStructure.html#319823855">(Jan 06 2023 at 17:16)</a>:</h4>
<p>I think maybe toFoo is what lean comes up with for <code>extends</code>?</p>



<a name="319823885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/to_isSomePropStructure/near/319823885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/to_isSomePropStructure.html#319823885">(Jan 06 2023 at 17:16)</a>:</h4>
<p>Indeed. And for the above reason I think it's bad.</p>



<a name="319824097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/to_isSomePropStructure/near/319824097" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/to_isSomePropStructure.html#319824097">(Jan 06 2023 at 17:17)</a>:</h4>
<p>I think it's valuable to match the extends convention, but I don't really care what convention that ends up being</p>



<a name="319829257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/to_isSomePropStructure/near/319829257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Thomas Murrills <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/to_isSomePropStructure.html#319829257">(Jan 06 2023 at 17:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">Yaël Dillies</span> <a href="#narrow/stream/287929-mathlib4/topic/to_isSomePropStructure/near/319823517">said</a>:</p>
<blockquote>
<p>I don't understand why we want <code>toSomeTypeStructure</code> instead of <code>to_someTypeStructure</code> either.</p>
</blockquote>
<p>For structures which are <code>Type</code>s, I think it should definitely be <code>toSomeTypeStructure</code>; terms valued in a <code>Type</code> should be lower camel case, and underscores shouldn’t appear. For terms, underscores ⇒ proof-like now!</p>
<p>I don’t think it’s the worst thing if we have a special case to match the extends convention, even if it goes against the naming convention. You sort of think of <code>to*</code> names as special actions on structures anyway, and not as something “proof-like”. …well, I do, anyway! :)</p>
<p>Plus, you should be able to guess the name of a projection knowing the types of the involved structures alone even if you don’t know how the diamond works out, so they should all at least be consistent; if we were to change it at all I think it would make sense to do so in core so that every <code>to</code>-projection to a <code>Prop</code> structure like this was named in <code>lower_snakeCase</code>.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>