---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/port.20status.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html">port status</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="313000883"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/313000883" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#313000883">(Nov 30 2022 at 07:30)</a>:</h4>
<p>FYI <a href="https://math.commelin.net/files/port_status.html">https://math.commelin.net/files/port_status.html</a> shows the current output of <code>port_status.py</code> with a little bit of linkification. It is updated automatically every hour.</p>



<a name="313032514"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/313032514" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#313032514">(Nov 30 2022 at 10:58)</a>:</h4>
<p><del>Can you linkify the <code>git diff d6aae1bcbd04b8de2022b9b83a5b5b10e10c777d..HEAD src/data/int/cast/basic.lean</code> to a diff on github?</del> edit: no, I think no such page exists</p>



<a name="313107922"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/313107922" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#313107922">(Nov 30 2022 at 17:07)</a>:</h4>
<p>I've updated the linkifiers so <a href="https://math.commelin.net/files/port_status.html">#port-status</a> points there, and <a href="https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status">#port-wiki</a> points to the wiki page.</p>



<a name="316727524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316727524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316727524">(Dec 19 2022 at 12:21)</a>:</h4>
<p>Please add free-form comments related to porting mathlib3 files to mathlib4 to the following wiki page<br>
<a href="https://github.com/leanprover-community/mathlib4/wiki/port-comments">https://github.com/leanprover-community/mathlib4/wiki/port-comments</a></p>
<p>The <code>port-status.yaml</code> wiki page can still be used to switch status from <code>No</code> to <code>Yes</code> etc... but hopefully that will be done automatically in 3~4 hrs from now.</p>



<a name="316727858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316727858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316727858">(Dec 19 2022 at 12:23)</a>:</h4>
<p>Remarks:</p>
<ol>
<li>This file is hosted on the mathlib4 wiki, instead of mathlib3</li>
<li><span aria-label="notifications" class="emoji emoji-1f514" role="img" title="notifications">:notifications:</span> <span aria-label="warning" class="emoji emoji-26a0" role="img" title="warning">:warning:</span> <img alt=":bourbaki:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/3121/emoji/images/17547.png" title="bourbaki">  Free-form comments that are added to <code>port-status.yaml</code> on the mathlib3 wiki will get lost once a bot starts taking care of that file.</li>
</ol>



<a name="316753970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316753970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316753970">(Dec 19 2022 at 14:18)</a>:</h4>
<p>The old port status wiki page (hosted on the mathlib3 wiki) is now read-only.<br>
(It will be updated automatically by a script, based on the current status of PRs, so that existing tools that depend on this page will continue to work.)</p>
<p>As Johan said above, if you want to add free-form comments about files that don't have PRs yet,<br>
edit <a href="https://github.com/leanprover-community/mathlib4/wiki/port-comments/_edit">https://github.com/leanprover-community/mathlib4/wiki/port-comments/_edit</a> instead.</p>



<a name="316754502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316754502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316754502">(Dec 19 2022 at 14:20)</a>:</h4>
<p>In particular, this means you no longer have to record any information on that page when opening or when merging a PR.</p>



<a name="316754570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316754570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316754570">(Dec 19 2022 at 14:21)</a>:</h4>
<p>Where does the machinery for doing this automatically live now?</p>



<a name="316754679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316754679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316754679">(Dec 19 2022 at 14:21)</a>:</h4>
<p>On my office computer ...</p>



<a name="316755092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316755092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316755092">(Dec 19 2022 at 14:23)</a>:</h4>
<p>I hope your office isn't shutting down for the new year :)</p>



<a name="316755101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316755101" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316755101">(Dec 19 2022 at 14:23)</a>:</h4>
<p>Can we move it to github actions so that it can be community maintained?</p>



<a name="316755294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316755294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316755294">(Dec 19 2022 at 14:24)</a>:</h4>
<p>Either inside <code>mathlib4</code>, or a new <code>mathlib-port-status</code> repo which could also generate static status pages at <code>leanprover-community.github.io/mathlib-port-status</code></p>



<a name="316755410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316755410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316755410">(Dec 19 2022 at 14:24)</a>:</h4>
<p>Sure, but it would first have to attain a more complete form of existence</p>



<a name="316756971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316756971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Anatole Dedecker <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316756971">(Dec 19 2022 at 14:31)</a>:</h4>
<p>Do I understand correctly that we lo longer have to provide any commit-SHA infos anywhere? All instructions about it got removed from the wiki page</p>



<a name="316758231"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316758231" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316758231">(Dec 19 2022 at 14:37)</a>:</h4>
<p>Yes, that's correct (because the information is in the header of the mathlib4 files)</p>



<a name="316760502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316760502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316760502">(Dec 19 2022 at 14:48)</a>:</h4>
<p>What's our workflow for updating mathlib4 files after a mathlib3 PR now?</p>



<a name="316760581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316760581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316760581">(Dec 19 2022 at 14:48)</a>:</h4>
<p>Let say <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> and I both modify different bits of a mathlib3 file that's ported to mathlib4; if we both make PRs to mathlib4 to forward-port our PRs, who updates the SHA, and to what?</p>



<a name="316761217"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316761217" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316761217">(Dec 19 2022 at 14:51)</a>:</h4>
<p>I think the easiest way is:<br>
When making a mathlib3 PR, the author should also make a mathlib4 PR with the corresponding changes, but without modifying the header.<br>
Then, at some (hopefully not too much) later point, someone can notice that the mathlib3 file has been updated since the version specified in the mathlib4 header, look at the changes made to the mathlib3 file since that version, verify that they have also been made on the mathlib4 side (or update the mathlib4 side if not), and then commit a mathlib4 change updating the header.</p>



<a name="316761504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316761504" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316761504">(Dec 19 2022 at 14:53)</a>:</h4>
<p>There was already basically the same kind of process necessary when updating the SHAs on the wiki page (which I think mostly hasn't been happening at all).</p>



<a name="316830911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316830911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316830911">(Dec 19 2022 at 21:02)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> discovered a "bug" in the current set-up. If you create a PR for porting a file that already had a partial-ad-hoc port, then the current system does not recognize this, and does not automatically list that PR in <a href="https://math.commelin.net/files/port_status.html">#port-status</a>. It will also not be taken into account in the progress reports/graphs.<br>
To remedy this, for these edge cases we should manually register the PR at the start of a free-form comment in <a href="https://github.com/leanprover-community/mathlib4/wiki/port-comments/_edit">https://github.com/leanprover-community/mathlib4/wiki/port-comments/_edit</a></p>



<a name="316843717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316843717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316843717">(Dec 19 2022 at 22:34)</a>:</h4>
<p>Something seems to have gone wrong with the yaml file at <a href="https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status">#port-wiki</a>: the bot is renumbering PRs like crazy in <a href="https://github.com/leanprover-community/mathlib/pull/17979">https://github.com/leanprover-community/mathlib/pull/17979</a></p>



<a name="316845912"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316845912" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316845912">(Dec 19 2022 at 22:48)</a>:</h4>
<p>I would guess it's <a href="https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status/_compare/8577bce2719a01b72abfdc8ad3cc035b52f3cdb0...3ece4e229716f87a77b6d8b58d67a2721a8114ba">the removal of the quotes</a></p>



<a name="316850224"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316850224" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316850224">(Dec 19 2022 at 23:23)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span>, you're proposing that <span class="user-mention" data-user-id="110032">@Reid Barton</span> should add triple backticks before and after the comment block at the top of the file?</p>



<a name="316850257"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316850257" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316850257">(Dec 19 2022 at 23:23)</a>:</h4>
<p>Could you remind me why the synchronization-warning bot cares about this?</p>



<a name="316850262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316850262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316850262">(Dec 19 2022 at 23:23)</a>:</h4>
<p>Maybe; or maybe the problem is the single quotes</p>



<a name="316850270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316850270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316850270">(Dec 19 2022 at 23:24)</a>:</h4>
<p>The synchronization bot is just using the mathlibtools API</p>



<a name="316850324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316850324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316850324">(Dec 19 2022 at 23:24)</a>:</h4>
<p>Which it seems is no longer parsing things properly</p>



<a name="316850975"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316850975" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316850975">(Dec 19 2022 at 23:30)</a>:</h4>
<p>Ok, my re-diagnosis is that there is no formatting issue after all; it seems <span class="user-mention" data-user-id="110032">@Reid Barton</span> has somewhat rewritten history and declared that the PRs which ported the files are not the same ones that were previously claimed</p>



<a name="316851040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316851040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316851040">(Dec 19 2022 at 23:30)</a>:</h4>
<p>e.g. that <code>algebra.group.defs</code> was ported in <a href="https://github.com/leanprover-community/mathlib4/pull/4">mathlib4#4</a> not <a href="https://github.com/leanprover-community/mathlib4/pull/457">mathlib4#457</a></p>



<a name="316851077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316851077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316851077">(Dec 19 2022 at 23:31)</a>:</h4>
<p>Which is to say; it's recording the ad-hoc ports not the real ports</p>



<a name="316851123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316851123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316851123">(Dec 19 2022 at 23:31)</a>:</h4>
<p>Not ideal, but not a total disaster?</p>



<a name="316851249"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316851249" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316851249">(Dec 19 2022 at 23:33)</a>:</h4>
<p>Let's refrain from merging <a href="https://github.com/leanprover-community/mathlib/pull/17979">#17979</a> until we're sure this was deliberate</p>



<a name="316851296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316851296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316851296">(Dec 19 2022 at 23:33)</a>:</h4>
<p>I'd argue that if we're going to reference ad-hoc ports in the PR number, there's little point mentioning the PR at all</p>



<a name="316851544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316851544" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316851544">(Dec 19 2022 at 23:36)</a>:</h4>
<p>(some PRs seem to have been <a href="https://github.com/leanprover-community/mathlib/pull/17979/files#r1052730971">dropped entirely</a> too)</p>



<a name="316860291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316860291" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316860291">(Dec 20 2022 at 01:10)</a>:</h4>
<p>Oh yeah it's definitely semi-intentional, that we did not bother to retain the correct PR number in all cases</p>



<a name="316860364"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316860364" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316860364">(Dec 20 2022 at 01:11)</a>:</h4>
<p>I notice that <a href="https://github.com/leanprover-community/mathlib4/pull/1052">mathlib4#1052</a> is not listed as an open PR for <code>logic.equiv.local_equiv</code>; is this deliberate for some reason?</p>



<a name="316860442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316860442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316860442">(Dec 20 2022 at 01:12)</a>:</h4>
<p>This is because the PR doesn't add a file, due to an ad-hoc port</p>



<a name="316860516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316860516" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316860516">(Dec 20 2022 at 01:13)</a>:</h4>
<p>Perhaps we could temporarily solve this by writing a comment in the porting wiki?  (Same for <code>data.rat.defs</code> and <code>data.fin.basic</code>.)</p>



<a name="316860524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316860524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316860524">(Dec 20 2022 at 01:13)</a>:</h4>
<p>I just added a line to <a href="https://github.com/leanprover-community/mathlib4/wiki/port-comments">https://github.com/leanprover-community/mathlib4/wiki/port-comments</a> for it</p>



<a name="316860581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316860581" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316860581">(Dec 20 2022 at 01:14)</a>:</h4>
<p>Yes, please go ahead and add similar lines for those.</p>



<a name="316860595"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316860595" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316860595">(Dec 20 2022 at 01:14)</a>:</h4>
<p>Basically, the ad-hoc ports cause many headaches which we hope will disappear on their own fairly soon.</p>



<a name="316860675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316860675" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316860675">(Dec 20 2022 at 01:15)</a>:</h4>
<p>I didn't realize that the SYNCHRONIZED comments in mathlib3 mention a PR number, or that the bot would try to rewrite an existing comment; probably fixing the latter is easiest</p>



<a name="316860775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316860775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316860775">(Dec 20 2022 at 01:16)</a>:</h4>
<p>A few files like Data.Char mentioned above are missing any PR number because they were not even created by a PR in the first place</p>



<a name="316860987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316860987" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316860987">(Dec 20 2022 at 01:19)</a>:</h4>
<p>Any idea why <a href="https://github.com/leanprover-community/mathlib4/pull/888">mathlib4#888</a> doesn't show up for <code>order.hom.bounded</code>?  Judging from the PR, it doesn't seem to replace an ad-hoc file.</p>



<a name="316861145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316861145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316861145">(Dec 20 2022 at 01:21)</a>:</h4>
<p>That's because it is based on a too-old mathlib3port, and is missing the header information about what mathlib3 module/version it is based on</p>



<a name="316861220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316861220" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316861220">(Dec 20 2022 at 01:22)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/labels/no-source-header">https://github.com/leanprover-community/mathlib4/labels/no-source-header</a><br>
these PRs should have those headers added, and then the label removed</p>



<a name="316864718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316864718" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316864718">(Dec 20 2022 at 02:10)</a>:</h4>
<p>I've add the source headers and removed the labels for all but one:</p>
<p><a href="https://github.com/leanprover-community/mathlib4/issues?q=is%3Aopen+sort%3Aupdated-asc+label%3Ano-source-header+">https://github.com/leanprover-community/mathlib4/issues?q=is%3Aopen+sort%3Aupdated-asc+label%3Ano-source-header+</a></p>
<p>For that one, we need <span class="user-mention" data-user-id="412682">@Moritz Doll</span> to provide a git sha.</p>



<a name="316889369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316889369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316889369">(Dec 20 2022 at 07:32)</a>:</h4>
<p>Should we just teach the bot not to mention a PR number at all, either in the description or the comments?</p>



<a name="316889637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316889637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316889637">(Dec 20 2022 at 07:34)</a>:</h4>
<blockquote>
<p>I didn't realize that the bot would try to rewrite an existing comment; probably fixing [this] is easiest</p>
</blockquote>
<p>This was a deliberate choice, the intent was for the yaml to be the source of truth so that we could correct typos and regenerate the headers. It also means we can change the format without discarding data.</p>



<a name="316893313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316893313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316893313">(Dec 20 2022 at 08:04)</a>:</h4>
<p>Yeah I don't see why it is useful to link to a (closed!) PR at all, really</p>



<a name="316893381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316893381" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316893381">(Dec 20 2022 at 08:05)</a>:</h4>
<p>More useful might be a link to the corresponding <em>file</em>?</p>



<a name="316898395"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316898395" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316898395">(Dec 20 2022 at 08:37)</a>:</h4>
<p>Linking to the closed PR in the commit message is nice because it creates a backlink from the port PR confirming that the marker is in place</p>



<a name="316902102"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316902102" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316902102">(Dec 20 2022 at 08:59)</a>:</h4>
<p>That doesn't really seem terribly relevant, since (by assumption) the PR will have been closed by then anyways</p>



<a name="316955485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316955485" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316955485">(Dec 20 2022 at 13:55)</a>:</h4>
<p>I notice that <code>data.rat.defs</code> is still marked as unported on <a href="https://math.commelin.net/files/port_status.html">#port-status</a>.  Maybe it's because it doesn't have the official header?<br>
<a href="https://github.com/leanprover-community/mathlib4/blob/master/Mathlib/Data/Rat/Defs.lean">https://github.com/leanprover-community/mathlib4/blob/master/Mathlib/Data/Rat/Defs.lean</a></p>



<a name="316955643"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316955643" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316955643">(Dec 20 2022 at 13:56)</a>:</h4>
<p>Oops!</p>



<a name="316955686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316955686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316955686">(Dec 20 2022 at 13:56)</a>:</h4>
<p>I should have caught that while reviewing</p>



<a name="316955730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316955730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316955730">(Dec 20 2022 at 13:56)</a>:</h4>
<p>I really hope that we're out of this transitional phase soon.</p>



<a name="316955795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316955795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316955795">(Dec 20 2022 at 13:56)</a>:</h4>
<p>And to answer your question: yes, the tooling thinks that this is an ad-hoc port, because the header is missing.</p>



<a name="316956438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20status/near/316956438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20status.html#316956438">(Dec 20 2022 at 13:59)</a>:</h4>
<p>Fixed in <a href="https://github.com/leanprover-community/mathlib4/pull/1122">https://github.com/leanprover-community/mathlib4/pull/1122</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>