---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html">Starting a project with Mathlib4 dependency fails...</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="319646175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319646175" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319646175">(Jan 05 2023 at 18:29)</a>:</h4>
<p>I'm trying to create an <a href="https://leanprover-community.github.io/mwe.html">#mwe</a> project, and went through the following process:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">lean</span> <span class="bp">%</span> <span class="n">lake</span> <span class="n">new</span> <span class="n">mwe</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">lean</span> <span class="bp">%</span> <span class="n">cd</span> <span class="n">mwe</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">cat</span> <span class="n">lakefile.lean</span>
<span class="kn">import</span> <span class="n">Lake</span>
<span class="kn">open</span> <span class="n">Lake</span> <span class="n">DSL</span>

<span class="n">package</span> <span class="bp">«</span><span class="n">mwe</span><span class="bp">»</span> <span class="o">{</span>
  <span class="c1">-- add package configuration options here</span>
<span class="o">}</span>

<span class="n">lean_lib</span> <span class="bp">«</span><span class="n">Mwe</span><span class="bp">»</span> <span class="o">{</span>
  <span class="c1">-- add library configuration options here</span>
<span class="o">}</span>

<span class="kd">@[default_target]</span>
<span class="n">lean_exe</span> <span class="bp">«</span><span class="n">mwe</span><span class="bp">»</span> <span class="o">{</span>
  <span class="n">root</span> <span class="o">:=</span> <span class="bp">`</span><span class="n">Main</span>
<span class="o">}</span>

<span class="n">require</span> <span class="n">mathlib</span> <span class="k">from</span> <span class="n">git</span> <span class="s2">"https://github.com/leanprover-community/mathlib4"</span> <span class="bp">@</span> <span class="s2">"master"</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">lake</span> <span class="n">update</span>
<span class="c1">-- Cut but all good</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">lake</span> <span class="n">build</span>
<span class="n">Building</span> <span class="n">Mwe</span>
<span class="n">Compiling</span> <span class="n">Mwe</span>
<span class="n">Building</span> <span class="n">Main</span>
<span class="n">Compiling</span> <span class="n">Main</span>
<span class="n">Linking</span> <span class="n">mwe</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">lake</span> <span class="n">exe</span> <span class="n">cache</span> <span class="n">get</span>
<span class="c1">-- cut but all good</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">cat</span> <span class="n">Mwe.lean</span>
<span class="kn">import</span> <span class="n">Mathlib.Data.Sum.Basic</span>

<span class="kd">def</span> <span class="n">hello</span> <span class="o">:=</span> <span class="s2">"world"</span><span class="bp">%</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">lake</span> <span class="n">build</span>
<span class="c1">-- ...</span>
<span class="n">error</span><span class="o">:</span> <span class="bp">&gt;</span> <span class="n">LEAN_PATH</span><span class="bp">=./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">Qq</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">aesop</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">std</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span> <span class="n">DYLD_LIBRARY_PATH</span><span class="bp">=/</span><span class="n">Users</span><span class="bp">/</span><span class="n">arienmalec</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-03/lib:././lake-packages/mathlib/build/lib /Users/arienmalec/.elan/toolchains/leanprover--lean4---nightly-2022-12-03/bin/lean -DwarningAsError=true ././lake-packages/mathlib/././Mathlib/Data/KVMap.lean -R ././lake-packages/mathlib/./. -o ././lake-packages/mathlib/build/lib/Mathlib/Data/KVMap.olean -i ././lake-packages/mathlib/build/lib/Mathlib/Data/KVMap.ilean -c ././lake-packages/mathlib/build/ir/Mathlib/Data/KVMap.c</span>
<span class="n">error</span><span class="o">:</span> <span class="n">stdout</span><span class="o">:</span>
<span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/././</span><span class="n">Mathlib</span><span class="bp">/</span><span class="n">Data</span><span class="bp">/</span><span class="n">KVMap.lean</span><span class="o">:</span><span class="mi">17</span><span class="o">:</span><span class="mi">31</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">expected</span> <span class="n">token</span>
<span class="n">error</span><span class="o">:</span> <span class="n">external</span> <span class="n">command</span> <span class="bp">`/</span><span class="n">Users</span><span class="bp">/</span><span class="n">arienmalec</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-03/bin/lean` exited with code 1</span>
<span class="bp">-</span> <span class="bp">...</span>
<span class="n">error</span><span class="o">:</span> <span class="bp">&gt;</span> <span class="n">LEAN_PATH</span><span class="bp">=./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">Qq</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">aesop</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">std</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span> <span class="n">DYLD_LIBRARY_PATH</span><span class="bp">=/</span><span class="n">Users</span><span class="bp">/</span><span class="n">arienmalec</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-03/lib:././lake-packages/mathlib/build/lib /Users/arienmalec/.elan/toolchains/leanprover--lean4---nightly-2022-12-03/bin/lean -DwarningAsError=true ././lake-packages/mathlib/././Mathlib/Tactic/Relation/Rfl.lean -R ././lake-packages/mathlib/./. -o ././lake-packages/mathlib/build/lib/Mathlib/Tactic/Relation/Rfl.olean -i ././lake-packages/mathlib/build/lib/Mathlib/Tactic/Relation/Rfl.ilean -c ././lake-packages/mathlib/build/ir/Mathlib/Tactic/Relation/Rfl.c</span>
<span class="n">error</span><span class="o">:</span> <span class="n">stdout</span><span class="o">:</span>
<span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/././</span><span class="n">Mathlib</span><span class="bp">/</span><span class="n">Tactic</span><span class="bp">/</span><span class="n">Relation</span><span class="bp">/</span><span class="n">Rfl.lean</span><span class="o">:</span><span class="mi">23</span><span class="o">:</span><span class="mi">31</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">expected</span> <span class="n">token</span>
<span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/././</span><span class="n">Mathlib</span><span class="bp">/</span><span class="n">Tactic</span><span class="bp">/</span><span class="n">Relation</span><span class="bp">/</span><span class="n">Rfl.lean</span><span class="o">:</span><span class="mi">30</span><span class="o">:</span><span class="mi">25</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">expected</span> <span class="n">token</span>
<span class="n">error</span><span class="o">:</span> <span class="n">external</span> <span class="n">command</span> <span class="bp">`/</span><span class="n">Users</span><span class="bp">/</span><span class="n">arienmalec</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-03/bin/lean` exited with code 1</span>
<span class="bp">-</span> <span class="bp">...</span>
<span class="n">error</span><span class="o">:</span> <span class="bp">&gt;</span> <span class="n">LEAN_PATH</span><span class="bp">=./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">Qq</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">aesop</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">std</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span> <span class="n">DYLD_LIBRARY_PATH</span><span class="bp">=/</span><span class="n">Users</span><span class="bp">/</span><span class="n">arienmalec</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-03/lib:././lake-packages/mathlib/build/lib /Users/arienmalec/.elan/toolchains/leanprover--lean4---nightly-2022-12-03/bin/lean -DwarningAsError=true ././lake-packages/mathlib/././Mathlib/Lean/Meta.lean -R ././lake-packages/mathlib/./. -o ././lake-packages/mathlib/build/lib/Mathlib/Lean/Meta.olean -i ././lake-packages/mathlib/build/lib/Mathlib/Lean/Meta.ilean -c ././lake-packages/mathlib/build/ir/Mathlib/Lean/Meta.c</span>
<span class="n">error</span><span class="o">:</span> <span class="n">stdout</span><span class="o">:</span>
<span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/././</span><span class="n">Mathlib</span><span class="bp">/</span><span class="n">Lean</span><span class="bp">/</span><span class="n">Meta.lean</span><span class="o">:</span><span class="mi">36</span><span class="o">:</span><span class="mi">21</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">expected</span> <span class="n">token</span>
<span class="n">error</span><span class="o">:</span> <span class="n">external</span> <span class="n">command</span> <span class="bp">`/</span><span class="n">Users</span><span class="bp">/</span><span class="n">arienmalec</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-03/bin/lean` exited with code 1</span>
<span class="c1">-- ...</span>
<span class="n">error</span><span class="o">:</span> <span class="bp">&gt;</span> <span class="n">LEAN_PATH</span><span class="bp">=./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">Qq</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">aesop</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">std</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span> <span class="n">DYLD_LIBRARY_PATH</span><span class="bp">=/</span><span class="n">Users</span><span class="bp">/</span><span class="n">arienmalec</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-12-03/lib:././lake-packages/mathlib/build/lib /Users/arienmalec/.elan/toolchains/leanprover--lean4---nightly-2022-12-03/bin/lean -DwarningAsError=true ././lake-packages/mathlib/././Mathlib/Tactic/LeftRight.lean -R ././lake-packages/mathlib/./. -o ././lake-packages/mathlib/build/lib/Mathlib/Tactic/LeftRight.olean -i ././lake-packages/mathlib/build/lib/Mathlib/Tactic/LeftRight.ilean -c ././lake-packages/mathlib/build/ir/Mathlib/Tactic/LeftRight.c</span>
<span class="n">error</span><span class="o">:</span> <span class="n">stdout</span><span class="o">:</span>
<span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/././</span><span class="n">Mathlib</span><span class="bp">/</span><span class="n">Tactic</span><span class="bp">/</span><span class="n">LeftRight.lean</span><span class="o">:</span><span class="mi">15</span><span class="o">:</span><span class="mi">13</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">expected</span> <span class="n">token</span>
<span class="c1">-- lots more like this...</span>
<span class="c1">---</span>
</code></pre></div>
<p>My <code>elan</code> is up to date, yadda yadda.</p>



<a name="319686004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319686004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319686004">(Jan 05 2023 at 22:42)</a>:</h4>
<p>Did <code>lake new mwe</code> give you a lakefile with a mathlib dependency? It doesn't do that for me (I was trying to repro). Or did I misunderstand?</p>



<a name="319692630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319692630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319692630">(Jan 05 2023 at 23:31)</a>:</h4>
<p>I inserted the dependency</p>



<a name="319692736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319692736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319692736">(Jan 05 2023 at 23:32)</a>:</h4>
<p>Sorry- deleted the editing steps</p>



<a name="319703590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319703590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319703590">(Jan 06 2023 at 01:18)</a>:</h4>
<p>Do the lean-toolchains match?</p>



<a name="319708710"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319708710" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319708710">(Jan 06 2023 at 02:21)</a>:</h4>
<p>Match what, I guess? <code>lake</code> is using the toolchain specified in <code>lean-toolchain</code></p>



<a name="319708795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319708795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319708795">(Jan 06 2023 at 02:22)</a>:</h4>
<p>Which is a day behind the toolchain for Mathlib4?</p>



<a name="319708851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319708851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319708851">(Jan 06 2023 at 02:23)</a>:</h4>
<p>A day behind is a day too much. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>  Just copy the <code>lean-toolchain</code> file from mathlib.</p>



<a name="319708859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319708859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319708859">(Jan 06 2023 at 02:23)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">cp</span> <span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">lean</span><span class="bp">-</span><span class="n">toolchain</span> <span class="bp">.</span>
</code></pre></div>



<a name="319708951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319708951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319708951">(Jan 06 2023 at 02:24)</a>:</h4>
<p>If I update the toolchain, I still get errors... How is <code>lake</code> supposed to work with mathlib4? My experience in lean 3 is that leanproject JustWorks...</p>



<a name="319725967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319725967" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319725967">(Jan 06 2023 at 06:40)</a>:</h4>
<p>Leanproject was specifically designed to work with mathlib. Lake was not specifically designed to work with mathlib4</p>



<a name="319851823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319851823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319851823">(Jan 06 2023 at 19:52)</a>:</h4>
<p>And I suspect at some point that's going to be an issue, but discovering in another thread that making mathlib4 work as a client isn't a priority at the moment. As noted I was trying to create an Mwe scratchpad so I can isolate issues, etc.</p>



<a name="319852091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319852091" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319852091">(Jan 06 2023 at 19:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="542196">Arien Malec</span> <a href="#narrow/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E/near/319851823">said</a>:</p>
<blockquote>
<p>And I suspect at some point that's going to be an issue, but discovering in another thread that making mathlib4 work as a client isn't a priority at the moment. As noted I was trying to create an Mwe scratchpad so I can isolate issues, etc.</p>
</blockquote>
<p>Hmm, not exactly. Making <code>lake exe cache</code> work on projects that import Mathlib isn't a priority. But using Mathlib, or any other Lake project, as a dependency shouldn't be an issue (as long as there isn't any version mismatch)</p>



<a name="319852864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319852864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319852864">(Jan 06 2023 at 19:59)</a>:</h4>
<p><span class="user-mention" data-user-id="542196">@Arien Malec</span> this is how you make your Lake project depend on Mathlib:<br>
<a href="https://github.com/siddhartha-gadgil/LeanAide/blob/b6fb470c3997ea1ac1669969383691a976fc8b5d/lakefile.lean#L71-L72">https://github.com/siddhartha-gadgil/LeanAide/blob/b6fb470c3997ea1ac1669969383691a976fc8b5d/lakefile.lean#L71-L72</a>. You need to be careful to use a mathlib rev that matches your lean-toolchain</p>



<a name="319853198"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319853198" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319853198">(Jan 06 2023 at 20:00)</a>:</h4>
<p>Let me do this again ground up and see how far I can get.</p>



<a name="319855988"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319855988" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319855988">(Jan 06 2023 at 20:16)</a>:</h4>
<p>Fascinating -- same issues.</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">lean</span> <span class="bp">%</span> <span class="n">rm</span> <span class="bp">-</span><span class="n">rf</span> <span class="n">mwe</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">lean</span> <span class="bp">%</span> <span class="n">lake</span> <span class="n">new</span> <span class="n">mwe</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">lean</span> <span class="bp">%</span> <span class="n">code</span> <span class="n">mwe</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">lean</span> <span class="bp">%</span> <span class="n">cd</span> <span class="n">mwe</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">cat</span> <span class="n">lean</span><span class="bp">-</span><span class="n">toolchain</span>
<span class="n">leanprover</span><span class="bp">/</span><span class="n">lean4</span><span class="o">:</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2023</span><span class="bp">-</span><span class="mi">01</span><span class="bp">-</span><span class="mi">04</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">cat</span> <span class="n">lakefile.lean</span>
<span class="kn">import</span> <span class="n">Lake</span>
<span class="kn">open</span> <span class="n">Lake</span> <span class="n">DSL</span>

<span class="n">package</span> <span class="bp">«</span><span class="n">mwe</span><span class="bp">»</span> <span class="o">{</span>
  <span class="c1">-- add package configuration options here</span>
<span class="o">}</span>

<span class="n">lean_lib</span> <span class="bp">«</span><span class="n">Mwe</span><span class="bp">»</span> <span class="o">{</span>
  <span class="c1">-- add library configuration options here</span>
<span class="o">}</span>

<span class="kd">@[default_target]</span>
<span class="n">lean_exe</span> <span class="bp">«</span><span class="n">mwe</span><span class="bp">»</span> <span class="o">{</span>
  <span class="n">root</span> <span class="o">:=</span> <span class="bp">`</span><span class="n">Main</span>
<span class="o">}</span>

<span class="n">require</span> <span class="n">mathlib</span> <span class="k">from</span> <span class="n">git</span>
  <span class="s2">"https://github.com/leanprover-community/mathlib4.git"</span><span class="bp">@</span><span class="s2">"a4f3950661f788086a461619be71ebf68636d7ac"</span><span class="bp">%</span>                                                            <span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">lake</span> <span class="n">update</span>
<span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib4.git</span> <span class="n">to</span> <span class="bp">./</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span>
<span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">xubaiw</span><span class="bp">/</span><span class="n">CMark.lean</span> <span class="n">to</span> <span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">CMark</span>
<span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">lake</span> <span class="n">to</span> <span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">lake</span>
<span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">doc</span><span class="bp">-</span><span class="n">gen4</span> <span class="n">to</span> <span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">doc</span><span class="bp">-</span><span class="n">gen4</span>
<span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">mhuisi</span><span class="bp">/</span><span class="n">lean4</span><span class="bp">-</span><span class="n">cli</span> <span class="n">to</span> <span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">Cli</span>
<span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">gebner</span><span class="bp">/</span><span class="n">quote4</span> <span class="n">to</span> <span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">Qq</span>
<span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">JLimperg</span><span class="bp">/</span><span class="n">aesop</span> <span class="n">to</span> <span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">aesop</span>
<span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">hargonix</span><span class="bp">/</span><span class="n">LeanInk</span> <span class="n">to</span> <span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">leanInk</span>
<span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">xubaiw</span><span class="bp">/</span><span class="n">Unicode.lean</span> <span class="n">to</span> <span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">Unicode</span>
<span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">/</span><span class="n">std4</span> <span class="n">to</span> <span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">std</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">lake</span> <span class="n">exe</span> <span class="n">cache</span> <span class="n">get</span>
<span class="n">info</span><span class="o">:</span> <span class="n">Building</span> <span class="n">Cache.IO</span>
<span class="n">info</span><span class="o">:</span> <span class="n">Building</span> <span class="n">Cache.Hashing</span>
<span class="n">info</span><span class="o">:</span> <span class="n">Compiling</span> <span class="n">Cache.IO</span>
<span class="n">info</span><span class="o">:</span> <span class="n">Compiling</span> <span class="n">Cache.Hashing</span>
<span class="n">info</span><span class="o">:</span> <span class="n">Building</span> <span class="n">Cache.Requests</span>
<span class="n">info</span><span class="o">:</span> <span class="n">Compiling</span> <span class="n">Cache.Requests</span>
<span class="n">info</span><span class="o">:</span> <span class="n">Building</span> <span class="n">Cache.Main</span>
<span class="n">info</span><span class="o">:</span> <span class="n">Compiling</span> <span class="n">Cache.Main</span>
<span class="n">info</span><span class="o">:</span> <span class="n">Linking</span> <span class="n">cache</span>
<span class="n">Attempting</span> <span class="n">to</span> <span class="n">download</span> <span class="mi">804</span> <span class="n">file</span><span class="o">(</span><span class="n">s</span><span class="o">)</span>
<span class="n">Decompressing</span> <span class="mi">803</span> <span class="n">file</span><span class="o">(</span><span class="n">s</span><span class="o">)</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">cat</span> <span class="n">Mwe.lean</span>
<span class="kn">import</span> <span class="n">Mathlib.Data.Sum.Basic</span>
<span class="n">arienmalec</span><span class="bp">@</span><span class="n">Ariens</span><span class="bp">-</span><span class="n">MBP</span><span class="bp">-</span><span class="mi">2</span> <span class="n">mwe</span> <span class="bp">%</span> <span class="n">lake</span> <span class="n">build</span>
<span class="bp">#</span> <span class="bp">&lt;</span><span class="n">deleted</span> <span class="n">lines</span><span class="bp">&gt;</span>
<span class="n">Compiling</span> <span class="n">Mathlib.Data.Sum.Basic</span>
<span class="n">Building</span> <span class="n">Mwe</span>
<span class="n">error</span><span class="o">:</span> <span class="bp">&gt;</span> <span class="n">LEAN_PATH</span><span class="bp">=./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">Qq</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">aesop</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">././</span><span class="n">lake</span><span class="bp">-</span><span class="n">packages</span><span class="bp">/</span><span class="n">std</span><span class="bp">/</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span> <span class="n">DYLD_LIBRARY_PATH</span><span class="bp">=/</span><span class="n">Users</span><span class="bp">/</span><span class="n">arienmalec</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2023-01-04/lib:./build/lib /Users/arienmalec/.elan/toolchains/leanprover--lean4---nightly-2023-01-04/bin/lean ./././Mwe.lean -R ././. -o ./build/lib/Mwe.olean -i ./build/lib/Mwe.ilean -c ./build/ir/Mwe.c</span>
<span class="n">error</span><span class="o">:</span> <span class="n">stdout</span><span class="o">:</span>
<span class="bp">./././</span><span class="n">Mwe.lean</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">object</span> <span class="n">file</span> <span class="bp">'./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">Mathlib</span><span class="bp">/</span><span class="n">Data</span><span class="bp">/</span><span class="n">Sum</span><span class="bp">/</span><span class="n">Basic.olean'</span> <span class="n">of</span> <span class="n">module</span> <span class="n">Mathlib.Data.Sum.Basic</span> <span class="n">does</span> <span class="n">not</span> <span class="n">exist</span>
<span class="n">error</span><span class="o">:</span> <span class="n">external</span> <span class="n">command</span> <span class="bp">`/</span><span class="n">Users</span><span class="bp">/</span><span class="n">arienmalec</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2023-01-04/bin/lean` exited with code 1</span>
</code></pre></div>



<a name="319856254"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319856254" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319856254">(Jan 06 2023 at 20:18)</a>:</h4>
<p>It has no problem building -- the issue seems to be in linking?</p>



<a name="319859835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319859835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319859835">(Jan 06 2023 at 20:42)</a>:</h4>
<p>I'm about to go AFK, but try to host that project on github so other people can clone it and help you. Also, the stream <a class="stream" data-stream-id="270676" href="/#narrow/stream/270676-lean4">#lean4</a> is a better place to solve these general Lean 4/Lake issues</p>



<a name="319869543"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319869543" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319869543">(Jan 06 2023 at 21:54)</a>:</h4>
<p>It fails <em>only</em> with <code>lake exe cache get</code> -- will post the repo to GH.</p>



<a name="319875274"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319875274" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319875274">(Jan 06 2023 at 22:39)</a>:</h4>
<p><a href="https://github.com/arienmalec/mwe">https://github.com/arienmalec/mwe</a></p>



<a name="319918301"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319918301" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319918301">(Jan 07 2023 at 08:09)</a>:</h4>
<p>To make a mwe scratchpad I just use a <code>scratch</code> directory in mathlib4 BTW. I edit some file in .git (info/exclude maybe?) to make it not show up in VS Code git integration.</p>



<a name="319918509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Starting%20a%20project%20with%20Mathlib4%20dependency%20fails.../near/319918509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E.html#319918509">(Jan 07 2023 at 08:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="542196">Arien Malec</span> <a href="#narrow/stream/287929-mathlib4/topic/Starting.20a.20project.20with.20Mathlib4.20dependency.20fails.2E.2E.2E/near/319869543">said</a>:</p>
<blockquote>
<p>It fails <em>only</em> with <code>lake exe cache get</code> -- will post the repo to GH.</p>
</blockquote>
<p>I too have a repository which fails with <code>lake exe cache get</code> and so does <span class="user-mention" data-user-id="501683">@Raghuram</span> (he mentioned this to me). For repos depending on mathlib4 <code>lake exe cache get</code> is not yet reliable.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>