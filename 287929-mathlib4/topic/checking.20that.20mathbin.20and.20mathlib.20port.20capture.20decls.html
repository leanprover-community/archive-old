---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/checking.20that.20mathbin.20and.20mathlib.20port.20capture.20decls.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/checking.20that.20mathbin.20and.20mathlib.20port.20capture.20decls.html">checking that mathbin and mathlib port capture decls</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="311184120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/checking%20that%20mathbin%20and%20mathlib%20port%20capture%20decls/near/311184120" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/checking.20that.20mathbin.20and.20mathlib.20port.20capture.20decls.html#311184120">(Nov 20 2022 at 20:53)</a>:</h4>
<p>I'd like to build a linter/tool to make sure that during our port, we don't lose any mathlib3 decls we don't mean to. Ideally, this involves pointing the tool at a mathlib4 file, and a mathlib3port file, and making sure that all mathlib3 decl names are represented in both sets. That means reading in the decls from a module,  un-aligning the identifier, and checking the difference of sets. I'm trying to learn the metaprogramming to make this possible. Is <code>Std.Tactic.Lint.Frontend</code> and <code>Mathlib.Mathport.Rename</code> the places to look for inspiration?</p>



<a name="311184585"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/checking%20that%20mathbin%20and%20mathlib%20port%20capture%20decls/near/311184585" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/checking.20that.20mathbin.20and.20mathlib.20port.20capture.20decls.html#311184585">(Nov 20 2022 at 20:59)</a>:</h4>
<blockquote>
<p>we don't lose any mathlib3 decls we don't mean to.</p>
</blockquote>
<p>Maybe we already have this, but is there some equivalent to <code>align</code> that we could use to record "this has been deliberately removed"?</p>



<a name="311184947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/checking%20that%20mathbin%20and%20mathlib%20port%20capture%20decls/near/311184947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/checking.20that.20mathbin.20and.20mathlib.20port.20capture.20decls.html#311184947">(Nov 20 2022 at 21:03)</a>:</h4>
<p>there's the <code>deprecated</code> attribute, but nothing to mark "deliberately not ported" AFAIK.</p>



<a name="311185128"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/checking%20that%20mathbin%20and%20mathlib%20port%20capture%20decls/near/311185128" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/checking.20that.20mathbin.20and.20mathlib.20port.20capture.20decls.html#311185128">(Nov 20 2022 at 21:05)</a>:</h4>
<p>We should add this, I agree.</p>



<a name="311185138"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/checking%20that%20mathbin%20and%20mathlib%20port%20capture%20decls/near/311185138" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/checking.20that.20mathbin.20and.20mathlib.20port.20capture.20decls.html#311185138">(Nov 20 2022 at 21:06)</a>:</h4>
<p>Maybe just <code>#noport</code>?</p>



<a name="311185414"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/checking%20that%20mathbin%20and%20mathlib%20port%20capture%20decls/near/311185414" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/checking.20that.20mathbin.20and.20mathlib.20port.20capture.20decls.html#311185414">(Nov 20 2022 at 21:09)</a>:</h4>
<p>Oh --- Mario already did this, see <a href="https://github.com/leanprover-community/mathlib4/pull/663">https://github.com/leanprover-community/mathlib4/pull/663</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>