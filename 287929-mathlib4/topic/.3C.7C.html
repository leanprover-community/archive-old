---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/.3C.7C.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html"><|</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="317692844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317692844" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317692844">(Dec 24 2022 at 09:15)</a>:</h4>
<p>Can we maybe just have mathport translate <code>$</code> to a function application? I find <code>&lt;|</code> really unreadable.</p>



<a name="317692906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317692906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317692906">(Dec 24 2022 at 09:16)</a>:</h4>
<p>(Not that <code>$</code> was great in the first place, but still.)</p>



<a name="317693235"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317693235" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317693235">(Dec 24 2022 at 09:19)</a>:</h4>
<p>e.g. in this kind of stuff (excerpted)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variable</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="n">Part</span> <span class="bp">&lt;|</span> <span class="n">β</span> <span class="n">a</span><span class="o">)</span> <span class="bp">→</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="n">Part</span> <span class="bp">&lt;|</span> <span class="n">β</span> <span class="n">a</span><span class="o">)</span>
<span class="kd">def</span> <span class="n">Fix.approx</span> <span class="o">:</span> <span class="n">Stream'</span> <span class="bp">&lt;|</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="n">Part</span> <span class="bp">&lt;|</span> <span class="n">β</span> <span class="n">a</span>
<span class="kd">def</span> <span class="n">fixAux</span> <span class="o">{</span><span class="n">p</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">Nat.Upto</span> <span class="n">p</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">∀</span> <span class="n">j</span> <span class="o">:</span> <span class="n">Nat.Upto</span> <span class="n">p</span><span class="o">,</span> <span class="n">i</span> <span class="bp">&lt;</span> <span class="n">j</span> <span class="bp">→</span> <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="n">Part</span> <span class="bp">&lt;|</span> <span class="n">β</span> <span class="n">a</span><span class="o">)</span> <span class="o">:</span>
    <span class="bp">∀</span> <span class="n">a</span><span class="o">,</span> <span class="n">Part</span> <span class="bp">&lt;|</span> <span class="n">β</span> <span class="n">a</span> <span class="o">:=</span>
</code></pre></div>



<a name="317697969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317697969" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317697969">(Dec 24 2022 at 10:00)</a>:</h4>
<p>I assume you mean in statements not proofs?</p>



<a name="317698294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317698294" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317698294">(Dec 24 2022 at 10:03)</a>:</h4>
<p>Yes, that would be fine</p>



<a name="317707827"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317707827" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317707827">(Dec 24 2022 at 11:21)</a>:</h4>
<p>I wouldn't say unreadable, but I don't understand why there are two semantically equal pieces of syntax in this case. I mean, I see why we have <code>-&gt;</code> and the unicode arrow. But for <code>$</code> and <code>&lt;|</code>, I don't understand.</p>



<a name="317708065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317708065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317708065">(Dec 24 2022 at 11:23)</a>:</h4>
<p>Does <code>$</code> still exist?</p>



<a name="317708396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317708396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317708396">(Dec 24 2022 at 11:25)</a>:</h4>
<p>Yes, it does</p>



<a name="317709306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317709306" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317709306">(Dec 24 2022 at 11:31)</a>:</h4>
<p>When I write Lean 4 code I use <code>$</code> instead of <code>&lt;|</code> because it's shorter and because it's "radically different" from <code>&lt;|</code>, which makes code more readable, I'd say</p>



<a name="317709652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317709652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arthur Paulino <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317709652">(Dec 24 2022 at 11:33)</a>:</h4>
<p>I know that <code>&lt;|</code> is there to contrast with <code>|&gt;</code>, but it requires more effort to parse code with human eyes while carefully differentiating the two</p>



<a name="317709944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317709944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317709944">(Dec 24 2022 at 11:35)</a>:</h4>
<p>Perhaps it is the fonts? Fira Code eg. renders these as triangles, so they are nice and wide and looks reasonable.</p>



<a name="317710018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317710018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317710018">(Dec 24 2022 at 11:36)</a>:</h4>
<p>I find it hard to explain any objective advantage of <code>$</code>--perhaps it's just that I already have decades of experience processing it</p>



<a name="317710077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317710077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317710077">(Dec 24 2022 at 11:36)</a>:</h4>
<p>But anyways, I guess another option then would be to translate <code>$</code> to <code>$</code>.</p>



<a name="317710505"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317710505" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317710505">(Dec 24 2022 at 11:39)</a>:</h4>
<p>I think in $ is from haskell and &lt;| from F# , the idea is that function application is left associative and highest precedence by default, but when writing long composition chain(think <code>f(g(h(i(j(x)))))</code>), it might make sense to have an operator like this to avoid large numbers of brackets.<br>
(EDIT: $ is also left associative, but with low precedence).</p>



<a name="317712139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317712139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317712139">(Dec 24 2022 at 11:50)</a>:</h4>
<p>At least in haskell. one can get away without using this by the compose operator. Is there an equivalent for lean and how would it work for dependent products?</p>



<a name="317720843"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317720843" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317720843">(Dec 24 2022 at 12:53)</a>:</h4>
<p>Does jump-to-definition work for <code>&lt;|</code> for anybody? It does not for me in Emacs. I would feel better about these kinds of lesser-known operators if jump-to-definition did work.</p>



<a name="317854255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317854255" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Locria Cyber <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317854255">(Dec 25 2022 at 16:22)</a>:</h4>
<p>it shows what it is, on VS Code<br>
I think it's built-in operator</p>



<a name="317855156"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317855156" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317855156">(Dec 25 2022 at 16:33)</a>:</h4>
<p>There isn't a huge difference between builtin and user-defined operators in lean 4, because everything is defined through lean <code>syntax</code> declarations including the builtin syntax. I'm getting hover but no go-to-def for <code>&lt;|</code>, <code>$</code> and <code>|&gt;</code> in vscode.</p>



<a name="317855267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317855267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317855267">(Dec 25 2022 at 16:35)</a>:</h4>
<p>oh nvm, I get go-to-def as long as there isn't also an error over the span</p>



<a name="317862000"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%3C%7C/near/317862000" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.3C.7C.html#317862000">(Dec 25 2022 at 17:55)</a>:</h4>
<p>Ah, in Emacs, <code>xref-find-definition</code> (in my setup <code>M-.</code>) does <em>not</em> work for me on these operators, but <code>lsp-find-definition</code> (<code>C-c C-l g g</code>) does. For most things, either of those commands successfully jumps to definition for me.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>