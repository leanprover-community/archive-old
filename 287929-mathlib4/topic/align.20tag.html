---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/align.20tag.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/align.20tag.html">align tag</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="310922729"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/align%20tag/near/310922729" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/align.20tag.html#310922729">(Nov 18 2022 at 21:17)</a>:</h4>
<p>Instead of </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">theorem</span> <span class="n">Foo</span> <span class="o">:</span> <span class="bp">...</span>
<span class="bp">#</span><span class="n">align</span> <span class="n">foo</span> <span class="n">Foo</span>
</code></pre></div>
<p>can we just do</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[align foo]</span>
<span class="kd">theorem</span> <span class="n">Foo</span> <span class="o">:</span> <span class="bp">...</span>
</code></pre></div>
<p>instead? I ask because I just mistyped <code>Foo</code> in <code>#align foo Foo</code> and there was no error. In essentially all cases with <code>#align</code> I mean "the theorem I just ported directly above".</p>



<a name="310923302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/align%20tag/near/310923302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/align.20tag.html#310923302">(Nov 18 2022 at 21:20)</a>:</h4>
<p>I've been thinking about doing this as well. It is less clear what mathport should output in this case though; it is more annoying to remove an attribute that mathport redundantly added so probably it should stick to using <code>#align</code> but for user code I don't see why not to support the attribute as well</p>



<a name="310923862"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/align%20tag/near/310923862" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/align.20tag.html#310923862">(Nov 18 2022 at 21:24)</a>:</h4>
<p>Unfortunately, it is difficult to catch spelling errors on both the lean 3 and lean 4 sides of the attribute, because there are use cases for referencing things that don't exist. At least, you get a hover / go to def on the lean 4 side if you spell it right so that's one way to confirm that things are working. For lean 3 spell check I've been thinking about adding a <code>mathport_lint</code> executable that checks the final result of porting <code>Mathbin::all</code> to ensure that all <code>#align</code>s are used</p>



<a name="310924250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/align%20tag/near/310924250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/align.20tag.html#310924250">(Nov 18 2022 at 21:26)</a>:</h4>
<p>aah that would be a nice way to do it. I've just been changing a bunch of theorem names from e.g. <code>option_equiv_sum_punit_symm_inl</code> to <code>optionEquivSumPUnit_symm_inl</code> and I'm worried I'll make a slip.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>