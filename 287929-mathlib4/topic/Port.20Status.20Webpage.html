---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/Port.20Status.20Webpage.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html">Port Status Webpage</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="322380535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322380535" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322380535">(Jan 19 2023 at 21:15)</a>:</h4>
<p>The port status webpage seems to be showing some <code>--help</code> output before the port list:<br>
<a href="https://math.commelin.net/files/port_status.html">https://math.commelin.net/files/port_status.html</a><br>
<a href="/user_uploads/3121/dm82yoH76NtOj8awq9YguZVB/port-status-Screenshot-from-2023-01-19-21-44-03.png">port-status-Screenshot-from-2023-01-19-21-44-03.png</a> <a href="/user_uploads/3121/zkoB1P1SktUhTqbntXejYcXT/port-status-Screenshot-from-2023-01-19-21-44-23.png">port-status-Screenshot-from-2023-01-19-21-44-23.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/dm82yoH76NtOj8awq9YguZVB/port-status-Screenshot-from-2023-01-19-21-44-03.png" title="port-status-Screenshot-from-2023-01-19-21-44-03.png"><img src="/user_uploads/3121/dm82yoH76NtOj8awq9YguZVB/port-status-Screenshot-from-2023-01-19-21-44-03.png"></a></div><div class="message_inline_image"><a href="/user_uploads/3121/zkoB1P1SktUhTqbntXejYcXT/port-status-Screenshot-from-2023-01-19-21-44-23.png" title="port-status-Screenshot-from-2023-01-19-21-44-23.png"><img src="/user_uploads/3121/zkoB1P1SktUhTqbntXejYcXT/port-status-Screenshot-from-2023-01-19-21-44-23.png"></a></div>



<a name="322381571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322381571" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322381571">(Jan 19 2023 at 21:21)</a>:</h4>
<p>Looks like some <code>git</code> command is failing. I'll investigate tomorrow</p>



<a name="322415038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322415038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Firsching <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322415038">(Jan 20 2023 at 01:47)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/18237">mathlib#18237</a><br>
Seems like there is a ref to a blob, which somehow got in. <br>
<code>318fa77a2ba140a221a5b6cabae466ba855c2ffc</code><br>
This is not a commit, but a blob. A quick fix is to add a check for that in the script...</p>



<a name="322427169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322427169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322427169">(Jan 20 2023 at 04:36)</a>:</h4>
<p><span class="user-mention" data-user-id="313038">@Moritz Firsching</span> Feel free to PR, I might have time to look into it ~3 hrs from now.</p>



<a name="322427443"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322427443" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Firsching <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322427443">(Jan 20 2023 at 04:40)</a>:</h4>
<p>Yeah I made a PR</p>



<a name="322427942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322427942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322427942">(Jan 20 2023 at 04:48)</a>:</h4>
<p>Ooh, I missed that <span aria-label="oops" class="emoji emoji-1f643" role="img" title="oops">:oops:</span> <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span> <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="322427944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322427944" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322427944">(Jan 20 2023 at 04:48)</a>:</h4>
<p>Thanks so much!</p>



<a name="322427964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322427964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322427964">(Jan 20 2023 at 04:48)</a>:</h4>
<p>I kicked it on the queue!</p>



<a name="322448367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322448367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322448367">(Jan 20 2023 at 08:01)</a>:</h4>
<p>Which file contains the blob?</p>



<a name="322448888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322448888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322448888">(Jan 20 2023 at 08:04)</a>:</h4>
<p>Just ignoring that without diagnostic feels like a mistake</p>



<a name="322449888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322449888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322449888">(Jan 20 2023 at 08:11)</a>:</h4>
<p>It's in <code>Mathlib/Data/Nat/Dist.lean</code></p>



<a name="322449930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322449930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322449930">(Jan 20 2023 at 08:11)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/pull/1659">mathlib4#1659</a></p>



<a name="322454954"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322454954" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322454954">(Jan 20 2023 at 08:42)</a>:</h4>
<p>Oops</p>



<a name="322455038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322455038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322455038">(Jan 20 2023 at 08:43)</a>:</h4>
<p>I was tricked into thinking that the sha in the git diff output was a commit</p>



<a name="322476017"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322476017" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322476017">(Jan 20 2023 at 10:27)</a>:</h4>
<p>Yes, understandable.</p>



<a name="322476074"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322476074" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322476074">(Jan 20 2023 at 10:27)</a>:</h4>
<p>We need much better tooling/automation for dealing with these resynchronization PRs.</p>



<a name="322476107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322476107" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322476107">(Jan 20 2023 at 10:27)</a>:</h4>
<p>Or (my preference) simply stop changing already-ported files in mathlib3.</p>



<a name="322480503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322480503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322480503">(Jan 20 2023 at 10:49)</a>:</h4>
<p>I'll update my status page to show the actual SHAs in the next few days</p>



<a name="322494084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322494084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322494084">(Jan 20 2023 at 11:59)</a>:</h4>
<p>There are now far more PRs on <a href="https://bit.ly/3cKk3ld">#queue4</a> editing already-ported files than there are PRs porting files (compare mathlib3-pair labels to mathlib-port labels), meaning that a lot of my reviewing effort is going into looking at these PRs instead of porting PRs.</p>



<a name="322500884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322500884" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322500884">(Jan 20 2023 at 12:34)</a>:</h4>
<p>Yes, there is a lot of wasted energy there. Maybe the porting strategy will change in the near future.</p>



<a name="322506380"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322506380" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322506380">(Jan 20 2023 at 13:00)</a>:</h4>
<p>Perhap the approach should be that we assign all mathlib3-pair PRs to the person who reviewed/merged the mathlib3 PR?</p>



<a name="322509461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322509461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322509461">(Jan 20 2023 at 13:12)</a>:</h4>
<p>Right now it's not too hard in theory to review a paired PR, once the mathlib3 PR is merged; you just have to compare the diffs in the mathlib3 PR and the mathlib4 PR. But in practice it can be tricky because github doesn't always react in the same way to changes. One of Yael's PRs was only a few lines long but I had to carefully look at both the mathlib3 and mathlib4 source files (not just the changed lines) to make sure that some apparently-different variables changes were in fact the same, and one much larger PR had got "de-synced" the way sometimes happens in github (it's diffing a lemma against the lemma two below the one that it should be comparing it with etc) and this made it much harder than expected, but it certainly wasn't impossible, it was just time-consuming. I can't really imagine automation being able to solve these two issues.</p>



<a name="322518141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322518141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322518141">(Jan 20 2023 at 13:52)</a>:</h4>
<p>If the automation were just "look at the mathport output" then I think that would still help a lot</p>



<a name="322518284"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322518284" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322518284">(Jan 20 2023 at 13:53)</a>:</h4>
<p>You don't need to be comparing the lean3 source; we don't do that for any fresh ports, so we shouldn't need to do it for updating ports either</p>



<a name="322535717"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322535717" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322535717">(Jan 20 2023 at 15:07)</a>:</h4>
<p>I'm comparing the lean 3 diff. I don't see any other viable way to review these PRs right now and they're coming in thick and fast. The theory suggested in the porting meeting was that the mathport output should just be a bunch of #print statements and then the mathlib4 PR, but the reality was that it was full of definitions of instances and protected theorems and huge error messages saying that things weren't aligned. </p>
<p>To give a concrete example, take a look at <a href="https://github.com/leanprover-community/mathlib4/pull/1411">https://github.com/leanprover-community/mathlib4/pull/1411</a> matching <a href="https://github.com/leanprover-community/mathlib/pull/18086">https://github.com/leanprover-community/mathlib/pull/18086</a> . That's a very short PR and it was not that hard to verify from the diffs that the two PRs did the same thing (although it wasn't entirely trivial because the diffs differ with variable usage). However now take a look at what mathlib3port is saying: <a href="https://github.com/leanprover-community/mathlib3port/blob/master/Mathbin/Algebra/SmulWithZero.lean">https://github.com/leanprover-community/mathlib3port/blob/master/Mathbin/Algebra/SmulWithZero.lean</a> . I would far rather be checking the diffs than looking at that.</p>
<p>The other example I alluded to earlier is <a href="https://github.com/leanprover-community/mathlib4/pull/1439">https://github.com/leanprover-community/mathlib4/pull/1439</a> , with parallel mathlib3 PR <a href="https://github.com/leanprover-community/mathlib/pull/18081">https://github.com/leanprover-community/mathlib/pull/18081</a>, merged, and which changed 12 files, three of which had been ported. Github kindly kept the ordering of the files so comparing the diffs wasn't that bad, but there were a lot of changes in the three ported files. Take a look at the first change in the first (according to github) file which was already ported: that was Algebra.Group.WithOne.Defs . The first change is to add an <code>id $</code> to a structure field, presumably because something broke in the refactor in mathlib3, but the analogous thing didn't break in mathlib4 so there is no change at all. Note that the instance shows up in the mathlib3port file <a href="https://github.com/leanprover-community/mathlib3port/blob/master/Mathbin/Algebra/Group/WithOne/Defs.lean">https://github.com/leanprover-community/mathlib3port/blob/master/Mathbin/Algebra/Group/WithOne/Defs.lean</a> anyway because every single instance shows up.</p>
<p>I am not sure that we have a good answer for how to review these paired PRs other than by manually trawling through the diffs, and I think that these two case studies firmly prove my point right now.</p>



<a name="322536020"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322536020" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322536020">(Jan 20 2023 at 15:09)</a>:</h4>
<p>I am definitely tending towards the opinion that mathlib3 PRs which make changes to ported files should simply be banned, or perhaps at least temporarily halted until we actually find a viable solution to this, because I envisage that the mathlib4 queue is simply going to get swamped by these and they're hell to review.</p>



<a name="322536177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322536177" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322536177">(Jan 20 2023 at 15:09)</a>:</h4>
<p>One workflow that could work is to generate the diff in mathlib3port between the version of the file that was ported and the version in mathlib3 master</p>



<a name="322536610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322536610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322536610">(Jan 20 2023 at 15:11)</a>:</h4>
<p>Which would be a lot easier if mathlib3port didn't update to reflect changes in mathlib4</p>



<a name="322536707"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322536707" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322536707">(Jan 20 2023 at 15:11)</a>:</h4>
<p>I completely agree that the automation doesn't exist, but I don't believe that it can't exist</p>



<a name="322537151"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322537151" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322537151">(Jan 20 2023 at 15:13)</a>:</h4>
<p>Another issue : It seems the webpage is not list all files to be ported as before. There were a couple of <code>Data.Vector</code> files on the webpage yesterday (including one I am currently wrapping up).</p>



<a name="322537573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322537573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322537573">(Jan 20 2023 at 15:15)</a>:</h4>
<p>Just to check, are you referring to <a href="https://math.commelin.net/files/port_status.html">https://math.commelin.net/files/port_status.html</a> or <a href="https://leanprover-community.github.io/mathlib-port-status">https://leanprover-community.github.io/mathlib-port-status</a>?</p>



<a name="322537711"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322537711" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322537711">(Jan 20 2023 at 15:15)</a>:</h4>
<p><a href="https://math.commelin.net/files/port_status.html">https://math.commelin.net/files/port_status.html</a></p>



<a name="322537823"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322537823" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322537823">(Jan 20 2023 at 15:16)</a>:</h4>
<p>Which files specifically are you claiming are missing?</p>



<a name="322538113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322538113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322538113">(Jan 20 2023 at 15:17)</a>:</h4>
<p>data.vector.mem and data.vector.zip</p>



<a name="322538182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322538182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322538182">(Jan 20 2023 at 15:17)</a>:</h4>
<p><code>data.vector.mem</code> is on <a href="https://github.com/leanprover-community/mathlib4/pull/1697">mathlib4#1697</a> (since yesterday evening)</p>



<a name="322538463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322538463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322538463">(Jan 20 2023 at 15:18)</a>:</h4>
<p>Odd, both appear on the second link</p>



<a name="322538592"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322538592" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322538592">(Jan 20 2023 at 15:19)</a>:</h4>
<p><a href="/user_uploads/3121/CVqGFgtwQlYXg5MvQzJEaUAJ/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/CVqGFgtwQlYXg5MvQzJEaUAJ/image.png" title="image.png"><img src="/user_uploads/3121/CVqGFgtwQlYXg5MvQzJEaUAJ/image.png"></a></div>



<a name="322538677"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322538677" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322538677">(Jan 20 2023 at 15:19)</a>:</h4>
<p>Right, they are indeed missing from the first link</p>



<a name="322538760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322538760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322538760">(Jan 20 2023 at 15:19)</a>:</h4>
<p>But present at <a href="https://leanprover-community.github.io/mathlib-port-status/?q=vector">https://leanprover-community.github.io/mathlib-port-status/?q=vector</a></p>
<p><a href="/user_uploads/3121/5GaEGL1oPf3HNxzLdOsjyd5Y/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/5GaEGL1oPf3HNxzLdOsjyd5Y/image.png" title="image.png"><img src="/user_uploads/3121/5GaEGL1oPf3HNxzLdOsjyd5Y/image.png"></a></div>



<a name="322539662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322539662" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Shreyas Srinivas <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322539662">(Jan 20 2023 at 15:23)</a>:</h4>
<p>Ah I see. <a href="https://math.commelin.net/files/port_status.html">#port-status</a> takes me to the light-coloured webpage</p>



<a name="322542242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322542242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322542242">(Jan 20 2023 at 15:33)</a>:</h4>
<p>The other page is "matches-your-docs-theme"-colored</p>



<a name="322551851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322551851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322551851">(Jan 20 2023 at 16:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/287929-mathlib4/topic/Port.20Status.20Webpage/near/322536707">said</a>:</p>
<blockquote>
<p>I completely agree that the automation doesn't exist, but I don't believe that it can't exist</p>
</blockquote>
<p>Personally I have just been ignoring mathlib4 resynchronization PRs, based on this reasoning.</p>



<a name="322552090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322552090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322552090">(Jan 20 2023 at 16:14)</a>:</h4>
<p>After all, that's not likely to cause any problem until we get around to porting whatever other mathlib file needed the change in question.</p>



<a name="322584053"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322584053" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322584053">(Jan 20 2023 at 18:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/287929-mathlib4/topic/Port.20Status.20Webpage/near/322535717">said</a>:</p>
<blockquote>
<p>I'm comparing the lean 3 diff. I don't see any other viable way to review these PRs right now and they're coming in thick and fast. The theory suggested in the porting meeting was that the mathport output should just be a bunch of #print statements and then the mathlib4 PR, but the reality was that it was full of definitions of instances and protected theorems and huge error messages saying that things weren't aligned. </p>
</blockquote>
<p>By the way, I didn't mention it in the porting meeting but one other thing you will notice in post-port mathport files is these alignment failure error messages. Those are important, it means that something was aligned that should not have been, and the solution is to either put <code>\_x</code> on the align statement to ignore the misalignment, or double check / fix the definition if it is supposed to be defeq. These are basically things that should have been dealt with during the initial file port, but we don't have a good process for that since it requires running mathport on the newly ported file, and mathport only runs regularly on mathlib4 master, not PRs.</p>



<a name="322584202"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322584202" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322584202">(Jan 20 2023 at 18:09)</a>:</h4>
<p>If you can set up oneshot it is fairly easy to iterate on the file to get rid of the messages</p>



<a name="322584393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322584393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322584393">(Jan 20 2023 at 18:10)</a>:</h4>
<p>It sounds like we need oneshot set up in the gitpod container for mathlib4?</p>



<a name="322594506"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Port%20Status%20Webpage/near/322594506" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Port.20Status.20Webpage.html#322594506">(Jan 20 2023 at 19:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/287929-mathlib4/topic/Port.20Status.20Webpage/near/322584393">said</a>:</p>
<blockquote>
<p>It sounds like we need oneshot set up in the gitpod container for mathlib4?</p>
</blockquote>
<p>That would be very useful.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>