---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html">Meaning of `specialize`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="322007965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Meaning%20of%20%60specialize%60/near/322007965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html#322007965">(Jan 18 2023 at 09:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="387244">YaÃ«l Dillies</span> <a href="#narrow/stream/287929-mathlib4/topic/Data.2EFin.2ETuple.2EBasic.20mathlib4.231516/near/322007680">said</a>:</p>
<blockquote>
<p>Is that a problem? We already have <a href="https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.repeat#doc">docs4#Nat.repeat</a></p>
</blockquote>
<p>Tangential, but: what does <code>@[specialize #[]]</code> mean there?</p>



<a name="322008108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Meaning%20of%20%60specialize%60/near/322008108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html#322008108">(Jan 18 2023 at 09:40)</a>:</h4>
<p>looks like a doc-gen bug</p>



<a name="322008133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Meaning%20of%20%60specialize%60/near/322008133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html#322008133">(Jan 18 2023 at 09:40)</a>:</h4>
<p>the source only has <code>@[specialize]</code></p>



<a name="322008383"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Meaning%20of%20%60specialize%60/near/322008383" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html#322008383">(Jan 18 2023 at 09:42)</a>:</h4>
<p>A message was moved here from <a class="stream-topic" data-stream-id="287929" href="/#narrow/stream/287929-mathlib4/topic/Data.2EFin.2ETuple.2EBasic.20mathlib4.231516">#mathlib4 &gt; Data.Fin.Tuple.Basic mathlib4#1516</a> by <span class="user-mention silent" data-user-id="310045">Eric Wieser</span>.</p>



<a name="322008519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Meaning%20of%20%60specialize%60/near/322008519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html#322008519">(Jan 18 2023 at 09:42)</a>:</h4>
<p>Ugh, the mobile app doesn't move replies too, sorry <span class="user-mention" data-user-id="110049">@Mario Carneiro</span></p>



<a name="322008652"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Meaning%20of%20%60specialize%60/near/322008652" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html#322008652">(Jan 18 2023 at 09:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60/near/322008133">said</a>:</p>
<blockquote>
<p>the source only has <code>@[specialize]</code></p>
</blockquote>
<p>And what does that mean?</p>



<a name="322008752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Meaning%20of%20%60specialize%60/near/322008752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html#322008752">(Jan 18 2023 at 09:44)</a>:</h4>
<p>if you are asking about what the <code>@[specialize]</code> attribute itself does, it is an instruction to the compiler to prefer to specialize this declaration for different functions passed to it, similar to what monomorphization gives you in languages like C++/Rust</p>



<a name="322008822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Meaning%20of%20%60specialize%60/near/322008822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html#322008822">(Jan 18 2023 at 09:44)</a>:</h4>
<p>lean already does this by default for arguments passed in typeclasses</p>



<a name="322009044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Meaning%20of%20%60specialize%60/near/322009044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Meaning.20of.20.60specialize.60.html#322009044">(Jan 18 2023 at 09:45)</a>:</h4>
<p>the library-writer's advice is to put this attribute on functions that take an explicit higher order (function) argument which would benefit from monomorphization</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>