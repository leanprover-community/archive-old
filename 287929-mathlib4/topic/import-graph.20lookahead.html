---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/import-graph.20lookahead.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/import-graph.20lookahead.html">import-graph lookahead</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="311225859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/import-graph%20lookahead/near/311225859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/import-graph.20lookahead.html#311225859">(Nov 21 2022 at 07:06)</a>:</h4>
<p>I don't know whether anyone else would be interested in this, but I think it might be neat if we had a option to ask the import-graph script to add the next n (I only care about n=1) dependencies below the --to node. The reason for this is that if I port a file, I can look whether that port immediately makes another file portable and then it is easier to port multiple files at once.</p>



<a name="311226531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/import-graph%20lookahead/near/311226531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Andrew Yang <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/import-graph.20lookahead.html#311226531">(Nov 21 2022 at 07:13)</a>:</h4>
<p>As an alternative, this information is already available in the docs; you can click on "Imported by" on the right sidebar. But I agree that this would be a useful extension to the script.</p>



<a name="311226570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/import-graph%20lookahead/near/311226570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/import-graph.20lookahead.html#311226570">(Nov 21 2022 at 07:13)</a>:</h4>
<p>but "imported by" does not tell you whether the other dependencies are ported yet</p>



<a name="311226814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/import-graph%20lookahead/near/311226814" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/import-graph.20lookahead.html#311226814">(Nov 21 2022 at 07:16)</a>:</h4>
<p>I guess I could run the script for every file in "imported by", but this is a bit more tedious</p>



<a name="311228275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/import-graph%20lookahead/near/311228275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/import-graph.20lookahead.html#311228275">(Nov 21 2022 at 07:30)</a>:</h4>
<p>I'm not sure I understand what you want. Do you want to add only one level of edges beyond the given nodes or also all the ancestors of the successors of the given node?</p>



<a name="311228751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/import-graph%20lookahead/near/311228751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/import-graph.20lookahead.html#311228751">(Nov 21 2022 at 07:35)</a>:</h4>
<p>I am not too interested in seeing what the ancestors are (I am afraid that is too messy). Ideally they are not shown, but the successors are colored depending on their portability once the --to node is green.</p>



<a name="311228973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/import-graph%20lookahead/near/311228973" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/import-graph.20lookahead.html#311228973">(Nov 21 2022 at 07:36)</a>:</h4>
<p>i.e., all successors that only depend on --to and already ported files are blue, and if there exists an unported ancestor that is not --to then it is white</p>



<a name="311235468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/import-graph%20lookahead/near/311235468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/import-graph.20lookahead.html#311235468">(Nov 21 2022 at 08:28)</a>:</h4>
<p>Ok, the difficult part is to come up with a name for the command line option trigerring this behavior</p>



<a name="311238685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/import-graph%20lookahead/near/311238685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/import-graph.20lookahead.html#311238685">(Nov 21 2022 at 08:50)</a>:</h4>
<p>I am really bad with naming things, but maybe "--show-children"?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>