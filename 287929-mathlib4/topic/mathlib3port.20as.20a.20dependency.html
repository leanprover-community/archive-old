---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/mathlib3port.20as.20a.20dependency.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathlib3port.20as.20a.20dependency.html">mathlib3port as a dependency</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="269733481"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathlib3port%20as%20a%20dependency/near/269733481" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathlib3port.20as.20a.20dependency.html#269733481">(Jan 28 2022 at 13:15)</a>:</h4>
<p>How do I use mathbin in  my project? I had it working before, but now I tried to update to a new version and it does not work any more. My <code>lakefile</code> looks like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">Lake</span>
<span class="kn">open</span> <span class="n">Lake</span> <span class="n">DSL</span>

<span class="n">package</span> <span class="n">test</span> <span class="n">where</span>
  <span class="n">dependencies</span> <span class="o">:=</span> <span class="bp">#</span><span class="o">[{</span>
    <span class="n">name</span> <span class="o">:=</span> <span class="s2">"mathlib3port"</span><span class="o">,</span>
    <span class="n">src</span> <span class="o">:=</span> <span class="n">Source.git</span> <span class="s2">"https://github.com/leanprover-community/mathlib3port.git"</span> <span class="s2">"91923f396bdac71db6f87ce4ea6f5d382212fad2"</span><span class="o">,</span>
  <span class="o">}]</span>
  <span class="n">defaultFacet</span> <span class="o">:=</span> <span class="n">PackageFacet.oleans</span>
</code></pre></div>
<p>The output of <code>lake build</code> is this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">%</span> <span class="n">lake</span> <span class="n">build</span>
<span class="n">info</span><span class="o">:</span> <span class="n">mathlib3port</span><span class="o">:</span> <span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib3port.git</span> <span class="n">to</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib3port</span>
<span class="n">info</span><span class="o">:</span> <span class="n">lean3port</span><span class="o">:</span> <span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">lean3port.git</span> <span class="n">to</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">lean3port</span>
<span class="n">info</span><span class="o">:</span> <span class="n">mathlib</span><span class="o">:</span> <span class="n">cloning</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib4.git</span> <span class="n">to</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib</span>
<span class="bp">&gt;</span> <span class="n">curl</span> <span class="bp">-</span><span class="n">L</span> <span class="bp">-</span><span class="n">O</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathport</span><span class="bp">/</span><span class="n">releases</span><span class="bp">/</span><span class="n">download</span><span class="bp">/</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">01</span><span class="bp">-</span><span class="mi">27</span><span class="bp">/</span><span class="n">lean3</span><span class="bp">-</span><span class="n">binport.tar.gz</span>    <span class="bp">#</span> <span class="k">in</span> <span class="n">directory</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">lean3port</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span>
<span class="bp">&gt;</span> <span class="n">curl</span> <span class="bp">-</span><span class="n">L</span> <span class="bp">-</span><span class="n">O</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathport</span><span class="bp">/</span><span class="n">releases</span><span class="bp">/</span><span class="n">download</span><span class="bp">/</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">01</span><span class="bp">-</span><span class="mi">27</span><span class="bp">/</span><span class="n">lean3</span><span class="bp">-</span><span class="n">synport.tar.gz</span>    <span class="bp">#</span> <span class="k">in</span> <span class="n">directory</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">lean3port</span><span class="bp">/.</span>
<span class="bp">&gt;</span> <span class="n">curl</span> <span class="bp">-</span><span class="n">L</span> <span class="bp">-</span><span class="n">O</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathport</span><span class="bp">/</span><span class="n">releases</span><span class="bp">/</span><span class="n">download</span><span class="bp">/</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">01</span><span class="bp">-</span><span class="mi">27</span><span class="bp">/</span><span class="n">mathlib3</span><span class="bp">-</span><span class="n">synport.tar.gz</span>    <span class="bp">#</span> <span class="k">in</span> <span class="n">directory</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib3port</span><span class="bp">/.</span>
<span class="bp">&gt;</span> <span class="n">curl</span> <span class="bp">-</span><span class="n">L</span> <span class="bp">-</span><span class="n">O</span> <span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">github.com</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathport</span><span class="bp">/</span><span class="n">releases</span><span class="bp">/</span><span class="n">download</span><span class="bp">/</span><span class="n">nightly</span><span class="bp">-</span><span class="mi">2022</span><span class="bp">-</span><span class="mi">01</span><span class="bp">-</span><span class="mi">27</span><span class="bp">/</span><span class="n">mathlib3</span><span class="bp">-</span><span class="n">binport.tar.gz</span>    <span class="bp">#</span> <span class="k">in</span> <span class="n">directory</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib3port</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span>
<span class="n">error</span><span class="o">:</span>   <span class="bp">%</span> <span class="n">Total</span>    <span class="bp">%</span> <span class="n">Received</span> <span class="bp">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
                                 <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
<span class="mi">100</span>   <span class="mi">659</span>  <span class="mi">100</span>   <span class="mi">659</span>    <span class="mi">0</span>     <span class="mi">0</span>   <span class="mi">2076</span>      <span class="mi">0</span> <span class="c1">--:--:-- --:--:-- --:--:--  2118</span>
<span class="mi">100</span>  <span class="mi">228</span><span class="n">k</span>  <span class="mi">100</span>  <span class="mi">228</span><span class="n">k</span>    <span class="mi">0</span>     <span class="mi">0</span>   <span class="mi">351</span><span class="n">k</span>      <span class="mi">0</span> <span class="c1">--:--:-- --:--:-- --:--:--  351k</span>

<span class="bp">&gt;</span> <span class="n">tar</span> <span class="bp">-</span><span class="n">xzvf</span> <span class="n">lean3</span><span class="bp">-</span><span class="n">synport.tar.gz</span>    <span class="bp">#</span> <span class="k">in</span> <span class="n">directory</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">lean3port</span><span class="bp">/.</span>
<span class="n">error</span><span class="o">:</span> <span class="n">x</span> <span class="bp">./</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">Tools</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">Tools</span><span class="bp">/</span><span class="n">Debugger</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">Tools</span><span class="bp">/</span><span class="n">Debugger</span><span class="bp">/</span><span class="n">Util.lean</span>

    <span class="bp">...</span>

<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">System</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">System</span><span class="bp">/</span><span class="n">Io.lean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">System</span><span class="bp">/</span><span class="n">IoInterface.lean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">System</span><span class="bp">/</span><span class="n">Random.lean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">All.lean</span>

<span class="n">error</span><span class="o">:</span>   <span class="bp">%</span> <span class="n">Total</span>    <span class="bp">%</span> <span class="n">Received</span> <span class="bp">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
                                 <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
<span class="mi">100</span>   <span class="mi">659</span>  <span class="mi">100</span>   <span class="mi">659</span>    <span class="mi">0</span>     <span class="mi">0</span>   <span class="mi">2140</span>      <span class="mi">0</span> <span class="c1">--:--:-- --:--:-- --:--:--  2189</span>
<span class="mi">100</span> <span class="mi">5938</span><span class="n">k</span>  <span class="mi">100</span> <span class="mi">5938</span><span class="n">k</span>    <span class="mi">0</span>     <span class="mi">0</span>  <span class="mi">3309</span><span class="n">k</span>      <span class="mi">0</span>  <span class="mi">0</span><span class="o">:</span><span class="mi">00</span><span class="o">:</span><span class="mi">01</span>  <span class="mi">0</span><span class="o">:</span><span class="mi">00</span><span class="o">:</span><span class="mi">01</span> <span class="c1">--:--:-- 5227k</span>

<span class="bp">&gt;</span> <span class="n">tar</span> <span class="bp">-</span><span class="n">xzvf</span> <span class="n">lean3</span><span class="bp">-</span><span class="n">binport.tar.gz</span>    <span class="bp">#</span> <span class="k">in</span> <span class="n">directory</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">lean3port</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span>
<span class="n">error</span><span class="o">:</span> <span class="n">x</span> <span class="bp">./</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">Tools</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">Tools</span><span class="bp">/</span><span class="n">Debugger</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">Tools</span><span class="bp">/</span><span class="n">Debugger</span><span class="bp">/</span><span class="n">Default.olean</span>

  <span class="bp">...</span>

<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">System</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">System</span><span class="bp">/</span><span class="n">Io.olean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">System</span><span class="bp">/</span><span class="n">IoInterface.olean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">System</span><span class="bp">/</span><span class="n">Random.olean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Leanbin</span><span class="bp">/</span><span class="n">All.olean</span>

<span class="n">error</span><span class="o">:</span>   <span class="bp">%</span> <span class="n">Total</span>    <span class="bp">%</span> <span class="n">Received</span> <span class="bp">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
                                 <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
<span class="mi">100</span>   <span class="mi">662</span>  <span class="mi">100</span>   <span class="mi">662</span>    <span class="mi">0</span>     <span class="mi">0</span>   <span class="mi">1601</span>      <span class="mi">0</span> <span class="c1">--:--:-- --:--:-- --:--:--  1626</span>
<span class="mi">100</span> <span class="mi">6899</span><span class="n">k</span>  <span class="mi">100</span> <span class="mi">6899</span><span class="n">k</span>    <span class="mi">0</span>     <span class="mi">0</span>  <span class="mi">2089</span><span class="n">k</span>      <span class="mi">0</span>  <span class="mi">0</span><span class="o">:</span><span class="mi">00</span><span class="o">:</span><span class="mi">03</span>  <span class="mi">0</span><span class="o">:</span><span class="mi">00</span><span class="o">:</span><span class="mi">03</span> <span class="c1">--:--:-- 2779k</span>

<span class="bp">&gt;</span> <span class="n">tar</span> <span class="bp">-</span><span class="n">xzvf</span> <span class="n">mathlib3</span><span class="bp">-</span><span class="n">synport.tar.gz</span>    <span class="bp">#</span> <span class="k">in</span> <span class="n">directory</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib3port</span><span class="bp">/.</span>
<span class="n">error</span><span class="o">:</span> <span class="n">x</span> <span class="bp">./</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">RepresentationTheory</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">RepresentationTheory</span><span class="bp">/</span><span class="n">Maschke.lean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">AlgebraicTopology</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">AlgebraicTopology</span><span class="bp">/</span><span class="n">SimplicialSet.lean</span>

  <span class="bp">...</span>

<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">LinearAlgebra</span><span class="bp">/</span><span class="n">Projection.lean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span><span class="n">SlimCheck</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span><span class="n">SlimCheck</span><span class="bp">/</span><span class="n">Gen.lean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span><span class="n">SlimCheck</span><span class="bp">/</span><span class="n">Functions.lean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span><span class="n">SlimCheck</span><span class="bp">/</span><span class="n">Sampleable.lean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span><span class="n">SlimCheck</span><span class="bp">/</span><span class="n">Testable.lean</span>

<span class="n">error</span><span class="o">:</span>   <span class="bp">%</span> <span class="n">Total</span>    <span class="bp">%</span> <span class="n">Received</span> <span class="bp">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
                                 <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
<span class="mi">100</span>   <span class="mi">662</span>  <span class="mi">100</span>   <span class="mi">662</span>    <span class="mi">0</span>     <span class="mi">0</span>   <span class="mi">2058</span>      <span class="mi">0</span> <span class="c1">--:--:-- --:--:-- --:--:--  2088</span>
<span class="mi">100</span>  <span class="mi">493</span><span class="n">M</span>  <span class="mi">100</span>  <span class="mi">493</span><span class="n">M</span>    <span class="mi">0</span>     <span class="mi">0</span>  <span class="mi">6130</span><span class="n">k</span>      <span class="mi">0</span>  <span class="mi">0</span><span class="o">:</span><span class="mi">01</span><span class="o">:</span><span class="mi">22</span>  <span class="mi">0</span><span class="o">:</span><span class="mi">01</span><span class="o">:</span><span class="mi">22</span> <span class="c1">--:--:-- 5517k</span>

<span class="bp">&gt;</span> <span class="n">tar</span> <span class="bp">-</span><span class="n">xzvf</span> <span class="n">mathlib3</span><span class="bp">-</span><span class="n">binport.tar.gz</span>    <span class="bp">#</span> <span class="k">in</span> <span class="n">directory</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib3port</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span>
<span class="n">error</span><span class="o">:</span> <span class="n">x</span> <span class="bp">./</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">RepresentationTheory</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">RepresentationTheory</span><span class="bp">/</span><span class="n">Maschke.olean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">AlgebraicTopology</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">AlgebraicTopology</span><span class="bp">/</span><span class="n">AlternatingFaceMapComplex.olean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">AlgebraicTopology</span><span class="bp">/</span><span class="n">MooreComplex.olean</span>

  <span class="bp">...</span>

<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span><span class="n">SlimCheck</span><span class="bp">/</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span><span class="n">SlimCheck</span><span class="bp">/</span><span class="n">Gen.olean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span><span class="n">SlimCheck</span><span class="bp">/</span><span class="n">Sampleable.olean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span><span class="n">SlimCheck</span><span class="bp">/</span><span class="n">Functions.olean</span>
<span class="n">x</span> <span class="bp">./</span><span class="n">Mathbin</span><span class="bp">/</span><span class="n">Testing</span><span class="bp">/</span><span class="n">SlimCheck</span><span class="bp">/</span><span class="n">Testable.olean</span>

<span class="bp">&gt;</span> <span class="n">LEAN_PATH</span><span class="bp">=./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib3port</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">lean3port</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="o">:</span><span class="bp">./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span> <span class="bp">/</span><span class="n">Users</span><span class="bp">/</span><span class="n">alex</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2022-01-27/bin/lean -R ./. -o ./build/lib/Test.olean ././Test.lean</span>



<span class="n">invalid</span> <span class="n">output</span> <span class="k">from</span> <span class="bp">`/</span><span class="n">Users</span><span class="bp">/</span><span class="n">alex</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2021-10-29/bin/lake print-paths Init Mathbin.AlgebraicGeometry.Scheme`:</span>
<span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/././</span><span class="n">Mathlib</span><span class="bp">/</span><span class="n">Util</span><span class="bp">/</span><span class="n">Export.lean</span><span class="o">:</span><span class="mi">197</span><span class="o">:</span><span class="mi">51</span><span class="o">:</span> <span class="n">error</span><span class="o">:</span> <span class="n">unknown</span> <span class="n">identifier</span> <span class="bp">'</span><span class="n">default'</span>
<span class="n">stderr</span><span class="o">:</span>
<span class="n">mathlib3port</span><span class="o">:</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">update</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib3port</span> <span class="n">to</span> <span class="n">revision</span> <span class="mi">91923</span><span class="n">f396bdac71db6f87ce4ea6f5d382212fad2</span>
<span class="n">lean3port</span><span class="o">:</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">update</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">lean3port</span> <span class="n">to</span> <span class="n">revision</span> <span class="mi">376835</span><span class="n">ea3c4dca48066838bcb1aad5c21995b261</span>
<span class="n">mathlib</span><span class="o">:</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">update</span> <span class="bp">./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib</span> <span class="n">to</span> <span class="n">revision</span> <span class="mi">23</span><span class="n">d4e91230a6ffa4ea1258c4b1b4a142bcdcd7c0</span>
<span class="bp">&gt;</span> <span class="n">LEAN_PATH</span><span class="bp">=./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span> <span class="bp">/</span><span class="n">Users</span><span class="bp">/</span><span class="n">alex</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2021-10-29/bin/lean -R ./lean_packages/mathlib/./. -o ./lean_packages/mathlib/./build/lib/Mathlib/Util/TermUnsafe.olean ./lean_packages/mathlib/././Mathlib/Util/TermUnsafe.lean</span>
<span class="bp">&gt;</span> <span class="n">LEAN_PATH</span><span class="bp">=./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span> <span class="bp">/</span><span class="n">Users</span><span class="bp">/</span><span class="n">alex</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2021-10-29/bin/lean -R ./lean_packages/mathlib/./. -o ./lean_packages/mathlib/./build/lib/Mathlib/Util/Export.olean ./lean_packages/mathlib/././Mathlib/Util/Export.lean</span>
<span class="bp">&gt;</span> <span class="n">LEAN_PATH</span><span class="bp">=./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span> <span class="bp">/</span><span class="n">Users</span><span class="bp">/</span><span class="n">alex</span><span class="bp">/.</span><span class="n">elan</span><span class="bp">/</span><span class="n">toolchains</span><span class="bp">/</span><span class="n">leanprover</span><span class="c1">--lean4---nightly-2021-10-29/bin/lean -R ./lean_packages/mathlib/./. -o ./lean_packages/mathlib/./build/lib/Mathlib/Tactic/Cache.olean ./lean_packages/mathlib/././Mathlib/Tactic/Cache.lean</span>
</code></pre></div>
<p>But when I try to import any Mathbin module, I get an error like this:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">object</span> <span class="n">file</span> <span class="bp">'./</span><span class="n">lean_packages</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/./</span><span class="n">build</span><span class="bp">/</span><span class="n">lib</span><span class="bp">/</span><span class="n">Mathlib.olean'</span> <span class="n">of</span> <span class="n">module</span> <span class="n">Mathlib</span> <span class="n">does</span> <span class="n">not</span> <span class="n">exist</span>
</code></pre></div>
<p>What am I doing wrong?</p>



<a name="269737599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathlib3port%20as%20a%20dependency/near/269737599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathlib3port.20as.20a.20dependency.html#269737599">(Jan 28 2022 at 13:46)</a>:</h4>
<p>Ok, I've figured it out although I do not understand why: I need to write an import of a <code>Mathlib</code> module into any file first, e.g.,</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kn">import</span> <span class="n">Mathlib.Algebra.Group.Basic</span>
</code></pre></div>
<p>Once I have done that, the problem is resolved and I can then import any <code>Mathbin</code> module. I can even delete the <code>Mathlib</code> import later.</p>



<a name="269748041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathlib3port%20as%20a%20dependency/near/269748041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathlib3port.20as.20a.20dependency.html#269748041">(Jan 28 2022 at 14:57)</a>:</h4>
<blockquote>
<p>./lean_packages/mathlib/././Mathlib/Util/Export.lean:197:51: error: unknown identifier 'default'</p>
</blockquote>
<p>This looks like you have the wrong Lean version.  What does your <code>lean-toolchain</code> file say?</p>



<a name="269759549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathlib3port%20as%20a%20dependency/near/269759549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathlib3port.20as.20a.20dependency.html#269759549">(Jan 28 2022 at 16:10)</a>:</h4>
<p><code>leanprover/lean4:nightly-2022-01-27</code></p>



<a name="269760188"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathlib3port%20as%20a%20dependency/near/269760188" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathlib3port.20as.20a.20dependency.html#269760188">(Jan 28 2022 at 16:14)</a>:</h4>
<blockquote>
<p>LEAN_PATH=./lean_packages/mathlib/./build/lib /Users/alex/.elan/toolchains/leanprover--lean4---nightly-2021-10-29/bin/lean -R ./lean_packages/mathlib/./. -o ./lean_packages/mathlib/./build/lib/Mathlib/Util/TermUnsafe.olean ./lean_packages/mathlib/././Mathlib/Util/TermUnsafe.lean</p>
</blockquote>
<p>This says October 29 ^^</p>



<a name="269760398"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathlib3port%20as%20a%20dependency/near/269760398" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathlib3port.20as.20a.20dependency.html#269760398">(Jan 28 2022 at 16:16)</a>:</h4>
<p>Hm, ok, I am rerunning it now to see whether I messed up earlier.</p>



<a name="269760529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathlib3port%20as%20a%20dependency/near/269760529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathlib3port.20as.20a.20dependency.html#269760529">(Jan 28 2022 at 16:17)</a>:</h4>
<p>Anyway, I got it working for me now. I am just trying again to see why it went wrong.</p>



<a name="269760840"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathlib3port%20as%20a%20dependency/near/269760840" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alexander Bentkamp <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathlib3port.20as.20a.20dependency.html#269760840">(Jan 28 2022 at 16:19)</a>:</h4>
<p>Ok, I can't reproduce the issue. I probably got the Lean version wrong earlier although that doesn't fully explain what happened. Sorry for the trouble!</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>