---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/Mass.20edit.20tools.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mass.20edit.20tools.html">Mass edit tools</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="319769110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mass%20edit%20tools/near/319769110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mass.20edit.20tools.html#319769110">(Jan 06 2023 at 12:13)</a>:</h4>
<p>Now that a single declaration can be spelled differently in lemma statements and lemma names, we really need mass edit tools. Is anybody working on something like this?</p>



<a name="319769394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mass%20edit%20tools/near/319769394" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mass.20edit.20tools.html#319769394">(Jan 06 2023 at 12:15)</a>:</h4>
<p>what do you mean by this?</p>



<a name="319769576"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mass%20edit%20tools/near/319769576" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mass.20edit.20tools.html#319769576">(Jan 06 2023 at 12:17)</a>:</h4>
<p>I mean a way to rename a declaration everywhere at once, and if possible in lemma names too.</p>



<a name="319769752"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mass%20edit%20tools/near/319769752" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mass.20edit.20tools.html#319769752">(Jan 06 2023 at 12:18)</a>:</h4>
<p>Oh, I see. I mean, there should just be two names, right? So ctrl+shift+f with those two names should do a good job of it</p>



<a name="319770141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mass%20edit%20tools/near/319770141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mass.20edit.20tools.html#319770141">(Jan 06 2023 at 12:21)</a>:</h4>
<p>This is in theory a feature that an LSP server can supply to your editor (apart from the "also rename in lemmata" part), it is just not implement yet in Lean 4. Maybe the LSP people would be interested in adding support for this?</p>



<a name="319770339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mass%20edit%20tools/near/319770339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mass.20edit.20tools.html#319770339">(Jan 06 2023 at 12:22)</a>:</h4>
<p>If it can't rename the lemmas, can it at least somehow flag the lemmas whose statement was changed because of the rename? Then one can go through them one by one, which is already magnitudes better to what we have in Lean 3.</p>



<a name="319772349"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mass%20edit%20tools/near/319772349" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mass.20edit.20tools.html#319772349">(Jan 06 2023 at 12:35)</a>:</h4>
<p>Hmm, the LSP standard says (<a href="https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#textDocument_rename">https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/#textDocument_rename</a>) that upon a rename request the server can answer with an arbitrary WorkspaceEdit so it could in theory put some text on the lemmas whose statement was influenced I guess?</p>
<p>It could of course also attempt to change the name of the lemma itself, I'm just unsure whether it would get that right so consistently that it would be desirable given the naming convention.</p>



<a name="319772610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Mass%20edit%20tools/near/319772610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Mass.20edit.20tools.html#319772610">(Jan 06 2023 at 12:37)</a>:</h4>
<p>Yes, that sounds perfect.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>