---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html">Relying on instance names</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="313593527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313593527" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313593527">(Dec 02 2022 at 21:36)</a>:</h4>
<p>There are places in mathlib (e.g. <code>algebra.group.type_tags</code>) which do the following thing:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">[</span><span class="n">semigroup</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">add_semigroup</span> <span class="o">(</span><span class="n">additive</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">add_assoc</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">mul_assoc</span> <span class="n">α</span> <span class="n">_</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">additive.has_add</span> <span class="o">}</span>

<span class="kd">instance</span> <span class="o">[</span><span class="n">comm_semigroup</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">add_comm_semigroup</span> <span class="o">(</span><span class="n">additive</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">add_comm</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">mul_comm</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">additive.add_semigroup</span> <span class="o">}</span>
</code></pre></div>
<p>where the definition of the latter instance depends on the auto-generated name of the former. Since the instance name generation changed in Lean 4, I am wondering what to do here. Since relying on autogenerated names is never a good idea, my intuition is to either</p>
<ul>
<li>manually name the first instance <code>Additive.addSemigroup</code>; or</li>
<li>define the latter instance by</li>
</ul>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">[</span><span class="n">CommSemigroup</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">AddCommSemigroup</span> <span class="o">(</span><span class="n">Additive</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
  <span class="o">{</span> <span class="n">inferInstanceAs</span> <span class="o">(</span><span class="n">AddSemigroup</span> <span class="n">_</span><span class="o">)</span> <span class="k">with</span> <span class="n">add_comm</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">mul_comm</span> <span class="n">α</span> <span class="n">_</span> <span class="o">}</span>
</code></pre></div>
<p>I am leaning towards the second option because it doesn't rely on <em>any</em> name, autogenerated or not. The only worry is that it picks up the wrong instance; but since in this particular case (<code>Additive</code>/<code>Multiplicative</code>) I think the instances should be canonical, maybe that is not a worry?</p>



<a name="313593861"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313593861" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313593861">(Dec 02 2022 at 21:39)</a>:</h4>
<p>Doesn't <code>inferInstanceAs</code> create a different term (essentially with an <code>id</code> wrapper function)? Does it work for cases like <code>..foo.add_monoid, ..foo.monoid</code>?</p>



<a name="313594262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313594262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313594262">(Dec 02 2022 at 21:42)</a>:</h4>
<p>This example works:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">Monoid</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">AddMonoid</span> <span class="o">(</span><span class="n">Additive</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
  <span class="o">{</span> <span class="n">inferInstanceAs</span> <span class="o">(</span><span class="n">AddZeroClass</span> <span class="n">_</span><span class="o">),</span> <span class="n">inferInstanceAs</span> <span class="o">(</span><span class="n">AddSemigroup</span> <span class="n">_</span><span class="o">)</span> <span class="k">with</span>
    <span class="n">zero</span> <span class="o">:=</span> <span class="mi">0</span>
    <span class="n">add</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">·</span> <span class="bp">+</span> <span class="bp">·</span><span class="o">)</span>
    <span class="n">nsmul</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">Monoid.npow</span> <span class="n">α</span> <span class="n">h</span>
    <span class="n">nsmul_zero</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">Monoid.npow_zero</span> <span class="n">α</span> <span class="n">_</span>
    <span class="n">nsmul_succ</span> <span class="o">:=</span> <span class="bp">@</span><span class="n">Monoid.npow_succ</span> <span class="n">α</span> <span class="n">_</span> <span class="o">}</span>
</code></pre></div>
<p>Relative to what mathport gave, I had to explicitly specify <code>α</code> in the last two fields since it was inferring <code>Additive α</code>, but that is an elaboration change for which the <code>inferInstanceAs</code> part doesn't seem to matter.</p>



<a name="313594332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313594332" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313594332">(Dec 02 2022 at 21:43)</a>:</h4>
<p>The original is:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="o">[</span><span class="n">h</span> <span class="o">:</span> <span class="n">monoid</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="n">add_monoid</span> <span class="o">(</span><span class="n">additive</span> <span class="n">α</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">{</span> <span class="n">zero</span>     <span class="o">:=</span> <span class="mi">0</span><span class="o">,</span>
  <span class="n">add</span>      <span class="o">:=</span> <span class="o">(</span><span class="bp">+</span><span class="o">),</span>
  <span class="n">nsmul</span>    <span class="o">:=</span> <span class="bp">@</span><span class="n">monoid.npow</span> <span class="n">α</span> <span class="n">h</span><span class="o">,</span>
  <span class="n">nsmul_zero'</span> <span class="o">:=</span> <span class="n">monoid.npow_zero'</span><span class="o">,</span>
  <span class="n">nsmul_succ'</span> <span class="o">:=</span> <span class="n">monoid.npow_succ'</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">additive.add_zero_class</span><span class="o">,</span>
  <span class="bp">..</span><span class="n">additive.add_semigroup</span> <span class="o">}</span>
</code></pre></div>



<a name="313594415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313594415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313594415">(Dec 02 2022 at 21:44)</a>:</h4>
<p>Something else to consider when relying on generated names;  referring to instances in docstrings such that <a href="https://leanprover-community.github.io/mathlib4_docs">#docs4</a> links them</p>



<a name="313594442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313594442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313594442">(Dec 02 2022 at 21:44)</a>:</h4>
<p><del>Note that <code>inferInstanceAs</code> is an <code>abbrev</code> so there should be no extra function application.</del> Looks like I made this up, apologies. There is a special <a href="https://github.com/leanprover/lean4/blob/eac410db4ee0e035c2de45c8d2f7e006bc6b1b1c/src/Lean/Elab/DefView.lean#L13">definition kind</a> and <a href="https://github.com/leanprover/lean4/blob/09c4af26fce85559202a9c8a65837da88fefcd5e/src/kernel/declaration.h#L17">reducibility hint</a> which are tracked.</p>



<a name="313594545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313594545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313594545">(Dec 02 2022 at 21:45)</a>:</h4>
<p>Are <code>abbrev</code>s in Lean 4 unfolded immediately like <code>coe</code>? (in Lean 3 it was a bit less clear than that)</p>



<a name="313594548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313594548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313594548">(Dec 02 2022 at 21:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/287929-mathlib4/topic/Relying.20on.20instance.20names/near/313594415">said</a>:</p>
<blockquote>
<p>Something else to consider when relying on generated names;  referring to instances in docstrings such that <a href="https://leanprover-community.github.io/mathlib4_docs">#docs4</a> links them</p>
</blockquote>
<p><a href="https://leanprover-community.github.io/mathlib4_docs/Lean/Meta/Instances.html#Lean.Meta.instInhabitedInstanceEntry">Here</a> is an example autogenerated name.</p>



<a name="313594676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313594676" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313594676">(Dec 02 2022 at 21:46)</a>:</h4>
<p>My view here would be that we should teach mathport some heuristics to align instance names; because in the long term we can then use the resulting #align data to clear up instance-references in comments</p>



<a name="313594785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313594785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313594785">(Dec 02 2022 at 21:47)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="110049">@Mario Carneiro</span> has expressed opinions related to this in another thread at some point</p>



<a name="313595262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313595262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313595262">(Dec 02 2022 at 21:51)</a>:</h4>
<p>I'm interested in the answer to the original question because this evening I just ported a bunch of code by changing instance names to the new lean 4 instance names without even thinking that this might be a problem</p>



<a name="313596911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313596911" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313596911">(Dec 02 2022 at 22:03)</a>:</h4>
<p>Whenever a problem comes up that involves instance names, I've been adding manual names and using those.</p>



<a name="313596945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313596945" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313596945">(Dec 02 2022 at 22:03)</a>:</h4>
<p>I'd be happy with the <code>inferInstanceAs</code> solution.</p>



<a name="313600548"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313600548" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313600548">(Dec 02 2022 at 22:31)</a>:</h4>
<p>I have also been using manual names. I actually prefer to name instances, just so we can refer to them if we want to (which does come up from time to time), or else have the autogenerated names be nice and predictable.</p>



<a name="313600904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313600904" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313600904">(Dec 02 2022 at 22:33)</a>:</h4>
<p>Alrighty, I will write down the manual lean3-style instance names when needed, despite this being less automated, since Eric is right to point out that they are not exactly the same term and iirc instances can be annoyingly sensitive to this kind of detail (it is unclear to me whether an <code>abbrev</code>, being "very-reducible", could cause issues; but just in case).</p>



<a name="313601169"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313601169" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313601169">(Dec 02 2022 at 22:36)</a>:</h4>
<p>Would <code>(inferInstance : insert-type-here)</code> have the same problem as <code>inferInstanceAs</code>? I would expect not, but I could be wrong.</p>



<a name="313601501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313601501" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313601501">(Dec 02 2022 at 22:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/287929-mathlib4/topic/Relying.20on.20instance.20names/near/313594676">said</a>:</p>
<blockquote>
<p>My view here would be that we should teach mathport some heuristics to align instance names; because in the long term we can then use the resulting #align data to clear up instance-references in comments</p>
</blockquote>
<p>The names are not really related by any kind of direct map. Lean 4 names take into consideration a lot more of the type and as a result they can be very long. The simplest way to do what you are suggesting would be to just run the instance name generator on the synthesized lean 4 type for any instance which is not named; but one difficulty with this is that binport is the one doing the naming (by going over the lean 3 environment) and synport is the one that knows whether the instance is named (because it goes over the lean 3 syntax), and binport runs first</p>



<a name="313601849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313601849" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313601849">(Dec 02 2022 at 22:41)</a>:</h4>
<p>The fact that <code>inferInstance</code> inserts a literal term (an application of <code>inferInstance</code> which is an identity function) also bothers me. The <code>synth_instance</code> tactic is actually just sugar for <code>exact inferInstance</code> so it also introduces this extra term, and this is something we have to go to pains to avoid in the implementation of the <code>ring</code>/<code>norm_num</code> tactics</p>



<a name="313602060"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313602060" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313602060">(Dec 02 2022 at 22:43)</a>:</h4>
<p>It would be great if they could just magically disappear at elaboration time, but the magic for <code>coe</code> is specific to it and if we wanted to do something similar for <code>inferInstance</code> it would have to be a macro</p>



<a name="313602303"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313602303" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313602303">(Dec 02 2022 at 22:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/287929-mathlib4/topic/Relying.20on.20instance.20names/near/313601849">said</a>:</p>
<blockquote>
<p>The fact that <code>inferInstance</code> inserts a literal term (an application of <code>inferInstance</code> which is an identity function) also bothers me. The <code>synth_instance</code> tactic is actually just sugar for <code>exact inferInstance</code> so it also introduces this extra term, and this is something we have to go to pains to avoid in the implementation of the <code>ring</code>/<code>norm_num</code> tactics</p>
</blockquote>
<p>This is getting a little off-track but why is the extra term an issue for <code>ring</code>?</p>



<a name="313602486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313602486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Wojciech Nawrocki <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313602486">(Dec 02 2022 at 22:46)</a>:</h4>
<p>Since it has the <code>abbrev</code> reducibility hint, it's not quite the same from the typechecker's point of view as inserting <code>id</code>.</p>



<a name="313602550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313602550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313602550">(Dec 02 2022 at 22:46)</a>:</h4>
<p>it is an extra constant factor on the construction of expressions, and the typechecking of the result, and it's just an unnecessarily longer proof</p>



<a name="313602715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/313602715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#313602715">(Dec 02 2022 at 22:48)</a>:</h4>
<p>because we are talking about an additional identity function wrapping every single + and * and lemma inside the generated proof</p>



<a name="314620270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/314620270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jon Eugster <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#314620270">(Dec 08 2022 at 07:48)</a>:</h4>
<p>In <a href="https://github.com/leanprover-community/mathlib4/pull/902">mathlib4#902</a> I've encountered a few instance names (in already ported files) that are rediculously long by default: <code>instance WithBot.instNoTopOrderWithBotInstLEWithBot [LE α] [NoTopOrder α] [Nonempty α] : NoTopOrder (WithBot α) :=</code>. Since I need to use them explicitely as above discussed, I wonder if there is an opinion on whether they should be manually shortened to <code>WithBot.instNoTopOrder</code> or just bite the bullet and spell out the name every time.</p>



<a name="314620857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/314620857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#314620857">(Dec 08 2022 at 07:53)</a>:</h4>
<p>Please rename to just <code>WithBot.noTopOrder</code>.</p>



<a name="314621640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/314621640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#314621640">(Dec 08 2022 at 07:59)</a>:</h4>
<p>By the way, another possibility which was under discussion recently was to avoid using the names completely and to use instance synthesis, but I tried this in Algebra.Group.WithOne.Defs and just found that it still made the code longer without any obvious gain. The long name is hilarious. Maybe this is just a transient issue -- I'm not sure that in the big theory files people are explicitly using instance names.</p>



<a name="314621687"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Relying%20on%20instance%20names/near/314621687" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Relying.20on.20instance.20names.html#314621687">(Dec 08 2022 at 07:59)</a>:</h4>
<p>Re the renaming suggestion above -- you want no <code>inst</code> at all in the name?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>