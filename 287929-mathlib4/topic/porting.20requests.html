---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/porting.20requests.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html">porting requests</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="306118004"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306118004" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306118004">(Oct 25 2022 at 20:39)</a>:</h4>
<p>Since we have a wide open space of files to port at the moment, I thought I would make a thread for people to request specific files to get them bumped up in priority.</p>



<a name="306118119"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306118119" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306118119">(Oct 25 2022 at 20:40)</a>:</h4>
<ul>
<li><code>algebra.invertible</code>: I'm going to need parts of this for <code>norm_num</code>, although I can work around it for now.</li>
</ul>



<a name="306119064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306119064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306119064">(Oct 25 2022 at 20:47)</a>:</h4>
<p>For which</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">leanproject</span> <span class="kn">import</span><span class="bp">-</span><span class="n">graph</span> <span class="c1">--to algebra.invertible --exclude-tactics --port-status algebra.invertible.pdf</span>
</code></pre></div>
<p>says <a href="/user_uploads/3121/90e5JbGeOOhvi7pqDDZEI3_B/algebra.invertible.pdf">algebra.invertible.pdf</a>.</p>



<a name="306119404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306119404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306119404">(Oct 25 2022 at 20:49)</a>:</h4>
<p>This may be a case where refactoring the file in mathlib3 to isolate the parts you need might be warranted first.</p>



<a name="306121290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306121290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306121290">(Oct 25 2022 at 21:02)</a>:</h4>
<p>yikes</p>



<a name="306121503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306121503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306121503">(Oct 25 2022 at 21:04)</a>:</h4>
<p>Yeah, import creep is vicious. :-)</p>



<a name="306121509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306121509" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306121509">(Oct 25 2022 at 21:04)</a>:</h4>
<p>I remember the days when stuff in "algebra" was supposed to have low dependencies</p>



<a name="306121591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306121591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306121591">(Oct 25 2022 at 21:04)</a>:</h4>
<p>I think it was a poor choice of name</p>



<a name="306121666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306121666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306121666">(Oct 25 2022 at 21:05)</a>:</h4>
<p>Most of this tree is transitive imports via <code>algebra.order.ring</code> and <code>data.set.lattice</code>. I suspect very large portions of <code>algebra.invertible</code> don't need anything from either of those.</p>



<a name="306121990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306121990" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306121990">(Oct 25 2022 at 21:07)</a>:</h4>
<p><code>data.nat.cast -&gt; algebra.ne_zero</code> seems super suspicious</p>



<a name="306122270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306122270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306122270">(Oct 25 2022 at 21:09)</a>:</h4>
<p>I thought I turned that inside out? I'm not sure what happened</p>



<a name="306122292"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306122292" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306122292">(Oct 25 2022 at 21:09)</a>:</h4>
<p>maybe it was for <code>add_monoid_with_one</code> stuff</p>



<a name="306122438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306122438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306122438">(Oct 25 2022 at 21:10)</a>:</h4>
<p>it used to import <code>algebra.invertible</code> before too :)</p>



<a name="306122957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306122957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306122957">(Oct 25 2022 at 21:12)</a>:</h4>
<p>I feel like we need a bot that posts about "dependency regressions" in mathlib similar to performance regressions in software projects. "The average number of transitive dependencies went up by 10 by this PR" would be nice to see</p>



<a name="306125996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306125996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306125996">(Oct 25 2022 at 21:25)</a>:</h4>
<p>This seems to compile, fwiw:</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code><span class="gd">--- src/algebra/invertible.lean</span><span class="w"></span>
<span class="gi">+++ src/algebra/invertible.lean</span><span class="w"></span>
<span class="gu">@@ -5,7 +5,8 @@ Authors: Anne Baanen</span><span class="w"></span>
<span class="w"> </span>-/<span class="w"></span>

<span class="w"> </span>import algebra.group.units<span class="w"></span>
<span class="gd">-import algebra.ne_zero</span><span class="w"></span>
<span class="gi">+import algebra.group_with_zero.units</span><span class="w"></span>
<span class="gi">+--import algebra.ne_zero</span><span class="w"></span>
<span class="w"> </span>import algebra.ring.basic<span class="w"></span>

<span class="w"> </span>/-!<span class="w"></span>
<span class="gu">@@ -214,8 +215,8 @@ lemma nonzero_of_invertible [mul_zero_one_class α] (a : α) [nontrivial α] [in</span><span class="w"></span>
<span class="w"> </span>λ ha, zero_ne_one $ calc   0 = ⅟a * a : by simp [ha]<span class="w"></span>
<span class="w"> </span>                         ... = 1 : inv_of_mul_self a<span class="w"></span>

<span class="gd">-@[priority 100] instance invertible.ne_zero [mul_zero_one_class α] [nontrivial α] (a : α)</span><span class="w"></span>
<span class="gd">-  [invertible a] : ne_zero a := ⟨nonzero_of_invertible a⟩</span><span class="w"></span>
<span class="gi">+--@[priority 100] instance invertible.ne_zero [mul_zero_one_class α] [nontrivial α] (a : α)</span><span class="w"></span>
<span class="gi">+--  [invertible a] : ne_zero a := ⟨nonzero_of_invertible a⟩</span><span class="w"></span>

<span class="w"> </span>section monoid_with_zero<span class="w"></span>
<span class="w"> </span>variable [monoid_with_zero α]<span class="w"></span>
</code></pre></div>



<a name="306144150"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306144150" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306144150">(Oct 25 2022 at 23:46)</a>:</h4>
<p>I think a nicer refactor would be to push <code>ne_zero</code> much lower</p>



<a name="306145992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306145992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306145992">(Oct 26 2022 at 00:07)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17171">#17171</a></p>



<a name="306146259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306146259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306146259">(Oct 26 2022 at 00:10)</a>:</h4>
<p>what does <code>leanproject import-graph</code> give you after that PR <span class="user-mention" data-user-id="310045">@Eric Wieser</span> ?</p>



<a name="306154508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306154508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306154508">(Oct 26 2022 at 02:10)</a>:</h4>
<p><a href="/user_uploads/3121/qpKExYRAenekANj7CY53P5Xw/algebra.invertible.pdf">algebra.invertible.pdf</a></p>



<a name="306154726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306154726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306154726">(Oct 26 2022 at 02:14)</a>:</h4>
<p>So it's a fair improvement (by avoiding data.nat.cast, we transitively avoid data.set.lattice and bunch of its imports).</p>



<a name="306154749"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306154749" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306154749">(Oct 26 2022 at 02:14)</a>:</h4>
<p>But there's still a undigestible bolus of order theory coming in via data.nat.basic</p>



<a name="306155775"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306155775" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306155775">(Oct 26 2022 at 02:31)</a>:</h4>
<p><code>algebra.group_power.basic</code> says:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">The</span> <span class="n">power</span> <span class="n">operation</span> <span class="n">on</span> <span class="n">monoids</span> <span class="n">and</span> <span class="n">groups.</span>
<span class="n">We</span> <span class="n">separate</span> <span class="n">this</span> <span class="k">from</span> <span class="n">group</span><span class="o">,</span> <span class="n">because</span> <span class="n">it</span> <span class="n">depends</span> <span class="n">on</span> <span class="bp">`</span><span class="n">ℕ</span><span class="bp">`</span><span class="o">,</span>
<span class="n">which</span> <span class="k">in</span> <span class="n">turn</span> <span class="n">depends</span> <span class="n">on</span> <span class="n">other</span> <span class="n">parts</span> <span class="n">of</span> <span class="n">algebra.</span>
</code></pre></div>
<p>So it seems like this is expected for group power, but <code>algebra.group_power.ring -&gt; algebra.ne_zero</code> now sounds even more suspicious</p>



<a name="306155875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306155875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306155875">(Oct 26 2022 at 02:33)</a>:</h4>
<p>yep, there is exactly one thing in the file that uses that bolus:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">pow</span> <span class="o">[</span><span class="n">monoid_with_zero</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">no_zero_divisors</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">ne_zero</span> <span class="n">x</span><span class="o">]</span> <span class="o">:</span> <span class="n">ne_zero</span> <span class="o">(</span><span class="n">x</span> <span class="bp">^</span> <span class="n">n</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="n">pow_ne_zero</span> <span class="n">n</span> <span class="n">out</span><span class="o">⟩</span>
</code></pre></div>
<p>We can easily invert this dependency.</p>



<a name="306157872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306157872" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306157872">(Oct 26 2022 at 03:08)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17175">#17175</a></p>



<a name="306158555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306158555" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306158555">(Oct 26 2022 at 03:20)</a>:</h4>
<p>Hmmm, that still leaves us with <code>algebra.ne_zero</code> importing <code>algebra.order.ring</code>, because of</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">instance</span> <span class="n">bit1</span> <span class="o">[</span><span class="n">canonically_ordered_comm_semiring</span> <span class="n">M</span><span class="o">]</span> <span class="o">[</span><span class="n">nontrivial</span> <span class="n">M</span><span class="o">]</span> <span class="o">:</span> <span class="n">ne_zero</span> <span class="o">(</span><span class="n">bit1</span> <span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
<span class="o">⟨</span><span class="n">mt</span> <span class="o">(</span><span class="bp">λ</span> <span class="n">h</span><span class="o">,</span> <span class="n">le_iff_exists_add'.2</span> <span class="o">⟨</span><span class="n">_</span><span class="o">,</span> <span class="n">h.symm</span><span class="o">⟩)</span> <span class="n">zero_lt_one.not_le</span><span class="o">⟩</span>
</code></pre></div>
<p>I bet if we can move that as well we can really lower <code>algebra.ne_zero</code> and <code>algebra.invertible</code>.</p>



<a name="306159461"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306159461" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306159461">(Oct 26 2022 at 03:35)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17176">#17176</a></p>



<a name="306159549"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306159549" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306159549">(Oct 26 2022 at 03:36)</a>:</h4>
<p>Ah, nice. The supremum of <a href="https://github.com/leanprover-community/mathlib/pull/17171">#17171</a>, <a href="https://github.com/leanprover-community/mathlib/pull/17174">#17174</a>, <a href="https://github.com/leanprover-community/mathlib/pull/17175">#17175</a>, and <a href="https://github.com/leanprover-community/mathlib/pull/17176">#17176</a> reduces the import hierarchy for <code>algebra.invertible</code> to:<br>
<a href="/user_uploads/3121/vj2Fma0UA2W8MnqbUuU1sxNl/algebra.invertible.sup.pdf">algebra.invertible.sup.pdf</a>, which is much more manageable.</p>



<a name="306159633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306159633" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306159633">(Oct 26 2022 at 03:38)</a>:</h4>
<p>I bet we could strip even more: surely <code>logic.embedding</code> is not really needed here. But not for now. :-)</p>



<a name="306160361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306160361" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306160361">(Oct 26 2022 at 03:51)</a>:</h4>
<p>Well, I did :) <a href="https://github.com/leanprover-community/mathlib/pull/17177">#17177</a></p>



<a name="306160822"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306160822" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306160822">(Oct 26 2022 at 03:58)</a>:</h4>
<p><a href="/user_uploads/3121/yhq8vouSRSScVVPiHLMM7mQR/algebra.invertible.pdf">algebra.invertible.pdf</a></p>



<a name="306160875"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306160875" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306160875">(Oct 26 2022 at 04:00)</a>:</h4>
<p>now that dependency graph actually makes sense</p>



<a name="306161613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306161613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306161613">(Oct 26 2022 at 04:09)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17179">#17179</a> will remove a further two nodes from that graph.</p>



<a name="306162123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306162123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306162123">(Oct 26 2022 at 04:14)</a>:</h4>
<p>and <a href="https://github.com/leanprover-community/mathlib/pull/17180">#17180</a> another two. :-)</p>



<a name="306178416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306178416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306178416">(Oct 26 2022 at 07:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/287929-mathlib4/topic/porting.20requests/near/306160361">said</a>:</p>
<blockquote>
<p>Well, I did :) <a href="https://github.com/leanprover-community/mathlib/pull/17177">#17177</a></p>
</blockquote>
<p>Fwiw, you got a "rejected by label" from bors</p>



<a name="306179934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306179934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306179934">(Oct 26 2022 at 07:30)</a>:</h4>
<p>What's the difference between light blue and dark blue again?</p>



<a name="306181139"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306181139" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306181139">(Oct 26 2022 at 07:39)</a>:</h4>
<p>light blue is "all prereqs met", darker blue is "there is PR but it's not merged yet"</p>



<a name="306181369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306181369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306181369">(Oct 26 2022 at 07:41)</a>:</h4>
<p>More precisely, "ready to start porting, all prereqs present" is <code>turquoise1</code>, "there is an unmerged PR" is <code>lightskyblue</code></p>



<a name="306184375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306184375" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306184375">(Oct 26 2022 at 08:02)</a>:</h4>
<p>If I turn my data.bool.basic port branch into a PR (I got everything compiling yesterday for the first time, it's also a port of a core Lean file) then how does the system know there's a PR for data.bool.basic?</p>



<a name="306184427"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306184427" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306184427">(Oct 26 2022 at 08:03)</a>:</h4>
<p>You have to edit the file here: <a href="https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status">https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status</a></p>



<a name="306184489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306184489" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306184489">(Oct 26 2022 at 08:03)</a>:</h4>
<p>Got it -- sorry I'm learning a new trick here and it takes time</p>



<a name="306264573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/306264573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jannis Limperg <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#306264573">(Oct 26 2022 at 15:19)</a>:</h4>
<p>(wrong thread again, why does this only happen to me?)</p>



<a name="307649851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/307649851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#307649851">(Nov 03 2022 at 03:01)</a>:</h4>
<p>An update on porting progress. Here are some graphs for interesting targets:</p>
<ul>
<li><a href="/user_uploads/3121/hvAe3_soAZvh5ejnC5miduY8/algebra.invertible.pdf">algebra.invertible.pdf</a> (post <a href="https://github.com/leanprover-community/mathlib/pull/17177">#17177</a>)</li>
<li><a href="/user_uploads/3121/Etf0K-l7IfuOiKL5biHcr0x0/limits.pdf">limits.pdf</a> </li>
<li><a href="/user_uploads/3121/0d1Z10E6ZdHUJhV0pKDafF47/algebra.order.ring.pdf">algebra.order.ring.pdf</a> </li>
</ul>
<p>Here's the list of currently available porting targets:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">data.fun_like.basic</span>
<span class="n">data.prod.basic</span>    <span class="c1">-- WIP</span>
<span class="n">data.subtype</span>
<span class="n">data.option.basic</span>    <span class="c1">-- PRd as mathlib4#493</span>
<span class="n">logic.function.conjugate</span>
<span class="n">data.nat.cast.defs</span>
<span class="n">data.bool.basic</span>    <span class="c1">-- WIP Kevin Buzzard</span>
<span class="n">logic.relation</span>
<span class="n">control.functor</span>
<span class="n">lean_core.data.vector</span>
<span class="n">data.char</span>
<span class="n">logic.lemmas</span>
<span class="n">algebra.order.floor</span>    <span class="c1">-- Blocked by tactic.abel and tactic.linarith</span>
</code></pre></div>
<p>(plus some lower priority stuff). It's tempting to believe that <code>data.fun_like.[basic|embedding|equiv]</code> could possibly be done as a single PR.</p>



<a name="307649917"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/307649917" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#307649917">(Nov 03 2022 at 03:02)</a>:</h4>
<p>Both <code>abel</code> and <code>linarith</code> have open PRs that more-or-less work, so someone brave could start on <code>algebra.order.floor</code> by merging those branches into theirs.</p>



<a name="308088057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/308088057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#308088057">(Nov 05 2022 at 04:03)</a>:</h4>
<p>I've taken a look at <code>data.fun_like.basic</code> and <code>data.subtype</code> and I think they're both beyond my pay grade. <code>data.fun_like.basic</code> assumes more about coercions than I know (but if someone wants to start me off I can have a go) and <code>data.subtype</code> uses stuff like <code>initialize_simps_projections</code> which I don't understand and might not even be ported yet.</p>



<a name="309408158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309408158" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309408158">(Nov 13 2022 at 02:13)</a>:</h4>
<p>Could someone move the <code>units</code> section out of <code>data.int.basic</code>? That section requires more imports than everything else.</p>



<a name="309412597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309412597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309412597">(Nov 13 2022 at 03:38)</a>:</h4>
<p>Mario are you on a recent branch? <code>data.int.basic</code> has two imports for me: <code>data.nat.basic</code> and <code>order.monotone</code>, the former is obviously necessary and the later is used only for</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">coe_nat_strict_mono</span> <span class="o">:</span> <span class="n">strict_mono</span> <span class="o">(</span><span class="n">coe</span> <span class="o">:</span> <span class="n">ℕ</span> <span class="bp">→</span> <span class="n">ℤ</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">_</span> <span class="n">_</span><span class="o">,</span> <span class="n">int.coe_nat_lt.2</span>
</code></pre></div>



<a name="309412745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309412745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309412745">(Nov 13 2022 at 03:41)</a>:</h4>
<p>and there is a file <code>data.int.units</code> already that imports <code>algebra.group_power.order</code> and lots of other stuff through <code>data.int.order.basic</code></p>



<a name="309414314"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309414314" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309414314">(Nov 13 2022 at 04:13)</a>:</h4>
<p>This change just landed in the last day or two.</p>



<a name="309414587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309414587" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309414587">(Nov 13 2022 at 04:18)</a>:</h4>
<p>Note that I did not judge that by looking at the import line, but rather by the fact that the file is full of stuff that typechecks with almost no imports, and then there is a section at the bottom with a bunch of fancy things from mathlib algebra</p>



<a name="309414615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309414615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309414615">(Nov 13 2022 at 04:19)</a>:</h4>
<p>(I'm actually moving that file to <code>Std</code> so that section sticks out)</p>



<a name="309417201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309417201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309417201">(Nov 13 2022 at 05:10)</a>:</h4>
<p><span class="user-mention" data-user-id="412682">@Moritz Doll</span>, are you still working on this?</p>



<a name="309417241"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309417241" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309417241">(Nov 13 2022 at 05:10)</a>:</h4>
<p>(I'm tempted to have a look at rearranging to remove uses of <code>units</code>, but don't want to duplicate if you're already doing this.)</p>



<a name="309417276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309417276" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309417276">(Nov 13 2022 at 05:11)</a>:</h4>
<p>I don't really know how to do it properly, so it might be better if you do it</p>



<a name="309418464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309418464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309418464">(Nov 13 2022 at 05:32)</a>:</h4>
<p>On it.</p>



<a name="309419596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309419596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309419596">(Nov 13 2022 at 05:53)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17508">#17508</a></p>



<a name="309434751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309434751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309434751">(Nov 13 2022 at 09:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/287929-mathlib4/topic/porting.20requests/near/309419596">said</a>:</p>
<blockquote>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17508">#17508</a></p>
</blockquote>
<p>While you are doing that, can you perhaps include the additional lemmas from <a href="https://github.com/leanprover-community/mathlib/pull/17478">#17478</a> ?</p>



<a name="309441121"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309441121" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309441121">(Nov 13 2022 at 11:05)</a>:</h4>
<p>Could you explain why that's better than two separate PRs?</p>



<a name="309448887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309448887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309448887">(Nov 13 2022 at 12:28)</a>:</h4>
<p>Less work? If one gets merged, the other needs to be changed in any case, so why not do it right away? This probably saves some CI cycles, too.</p>



<a name="309449320"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309449320" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309449320">(Nov 13 2022 at 12:31)</a>:</h4>
<p>Hmm... I'm conflicted. I like having the refactoring PRs neither add or remove material, so it's easier to be sure they are only refactors. :-)</p>



<a name="309449387"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309449387" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309449387">(Nov 13 2022 at 12:32)</a>:</h4>
<p>But I do like not having things rot on the queue!</p>



<a name="309451221"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309451221" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309451221">(Nov 13 2022 at 12:48)</a>:</h4>
<p>OK; I'll leave it to you to resolve this conflict <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>.</p>



<a name="309457686"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309457686" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309457686">(Nov 13 2022 at 13:45)</a>:</h4>
<p>I've sent  <a href="https://github.com/leanprover-community/mathlib/pull/17478">#17478</a> to bors</p>



<a name="309457735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309457735" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309457735">(Nov 13 2022 at 13:45)</a>:</h4>
<p>Oh, I now see that the other one is also on the queue</p>



<a name="309457799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309457799" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309457799">(Nov 13 2022 at 13:46)</a>:</h4>
<p>I guess I'll let bors decide which one to spit out (or <span class="user-mention" data-user-id="110087">@Scott Morrison</span> if you get there first)</p>



<a name="309458034"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309458034" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309458034">(Nov 13 2022 at 13:48)</a>:</h4>
<p>They are in the same batch, so this batch will fail.</p>



<a name="309460006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309460006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309460006">(Nov 13 2022 at 14:05)</a>:</h4>
<p>Bors will split the batch automatically if the merge conflicts</p>



<a name="309472957"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/309472957" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Michael Stoll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#309472957">(Nov 13 2022 at 16:12)</a>:</h4>
<p>Looks like mine will get there first...</p>



<a name="311050628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311050628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311050628">(Nov 19 2022 at 17:44)</a>:</h4>
<p>there's no real porting targets that seem open and mathematical right now, so what other tasks are there for someone wanting to get involved?</p>



<a name="311050685"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311050685" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311050685">(Nov 19 2022 at 17:45)</a>:</h4>
<p><a href="/user_uploads/3121/5keEmE9fMITeJLNRgAtSB00i/image.png">image.png</a> for this section, is it about just eyeballing the files and making sure there's no big changes?</p>
<div class="message_inline_image"><a href="/user_uploads/3121/5keEmE9fMITeJLNRgAtSB00i/image.png" title="image.png"><img src="/user_uploads/3121/5keEmE9fMITeJLNRgAtSB00i/image.png"></a></div>



<a name="311051603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311051603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311051603">(Nov 19 2022 at 17:55)</a>:</h4>
<p>After <a href="https://github.com/leanprover-community/mathlib/pull/17616">#17616</a> lands, I think it would be useful to do a similar task for <code>data.list.big_operators</code>.  That file has a lot of imports.  It lies on the path to <code>data.list.perm</code> and through that to <code>data.fintype.basic</code>, so anything you could strip from that path would be helpful.</p>



<a name="311051834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311051834" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311051834">(Nov 19 2022 at 17:57)</a>:</h4>
<p>Or maybe we don't need big operators for the part of <code>data.list.perm</code> needed for fintype?  So maybe the split should happen higher up?  Anyway, I'm not sure, but it's worth looking into.</p>



<a name="311052212"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311052212" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311052212">(Nov 19 2022 at 18:01)</a>:</h4>
<p>It just doesn't seem like we should need lemmas about divisibility to define fintype ....</p>



<a name="311053259"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311053259" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311053259">(Nov 19 2022 at 18:11)</a>:</h4>
<p>About the "the following files have been modified since the commit ...."</p>
<p>Two things:</p>
<ol>
<li>I think the plan is to at some point have a flag for the port_status script which will help you do this, but for now ...</li>
<li>Take the file in question and <code>git diff port-status-SHA master -- /path/to/file</code> (in mathlib3). If the only change is the mathlib4 synchronization label, then update the port-status page for the file with the current SHA from mathlib master.</li>
</ol>
<p>If there are new changes to the file, then port the new changes to mathlib4 (or make sure they are already there somehow).</p>



<a name="311053604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311053604" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Patrick Massot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311053604">(Nov 19 2022 at 18:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284160">Eric Rodriguez</span> <a href="#narrow/stream/287929-mathlib4/topic/porting.20requests/near/311050628">said</a>:</p>
<blockquote>
<p>there's no real porting targets that seem open and mathematical right now, so what other tasks are there for someone wanting to get involved?</p>
</blockquote>
<p>Porting targets that are not mathematical.</p>



<a name="311054835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311054835" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311054835">(Nov 19 2022 at 18:26)</a>:</h4>
<p>To second Patrick's point, you are likely capable of porting the non-mathematical things, e.g., I doubt <code>data.stream.defs</code> would be that hard, but I haven't looked carefully.</p>



<a name="311062847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311062847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311062847">(Nov 19 2022 at 19:56)</a>:</h4>
<p>I’ve been following a heuristic of “not deeply mathematical” and ideally non-critical path &amp; if I can do some grunt work that helps more experienced folks hone in on the hard bits that’s fine too. Helps to have a generally high tolerance for grunt work or wasted effort if it helps expose issues (see my many adventures discovering things already in Std or only on critical path for tactics)</p>



<a name="311065002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311065002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311065002">(Nov 19 2022 at 20:25)</a>:</h4>
<p>I felt less confident about them because I'm more likely to mess up important meta-details; I'll still give it a shot, though</p>



<a name="311065366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311065366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311065366">(Nov 19 2022 at 20:29)</a>:</h4>
<p>I prefer to change little, not make any change that I don’t understand, and comment on any uncertainty….</p>



<a name="311066637"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311066637" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311066637">(Nov 19 2022 at 20:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197836">Jireh Loreaux</span> <a href="#narrow/stream/287929-mathlib4/topic/porting.20requests/near/311053259">said</a>:</p>
<blockquote>
<p>About the "the following files have been modified since the commit ...."</p>
<p>Two things:</p>
<ol>
<li>I think the plan is to at some point have a flag for the port_status script which will help you do this, but for now ...</li>
<li>Take the file in question and <code>git diff port-status-SHA master -- /path/to/file</code> (in mathlib3). If the only change is the mathlib4 synchronization label, then update the port-status page for the file with the current SHA from mathlib master.</li>
</ol>
<p>If there are new changes to the file, then port the new changes to mathlib4 (or make sure they are already there somehow).</p>
</blockquote>
<p>I've just made <a href="https://github.com/leanprover-community/mathlib/pull/17630">#17630</a>, which adds a simple option that outputs the required <code>git diff</code> command. Hopefully it makes it less work to check this.</p>



<a name="311067478"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311067478" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311067478">(Nov 19 2022 at 20:55)</a>:</h4>
<p>using this script patch, I very coarsely verified that the following files are ported okay (I excluded any files that had even a non-trivial import change for quick checking):</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">order.synonym</span>
<span class="n">order.compare</span>
<span class="n">order.monotone</span>
<span class="n">order.max</span>
<span class="n">order.rel_classes</span>
<span class="n">category_theory.concrete_category.bundled</span>
<span class="n">logic.pairwise</span>
<span class="n">logic.nonempty</span>
<span class="n">logic.unique</span>
<span class="n">logic.relation</span>
<span class="n">logic.is_empty</span>
<span class="n">logic.relator</span>
<span class="n">logic.equiv.defs</span>
<span class="n">logic.function.iterate</span>
<span class="n">logic.function.conjugate</span>
<span class="n">data.subtype</span>
<span class="n">data.quot</span>
<span class="n">data.bracket</span>
<span class="n">data.char</span>
<span class="n">data.prod.pprod</span>
<span class="n">data.fun_like.embedding</span>
<span class="n">data.fun_like.equiv</span>
<span class="n">data.fin.fin2</span>
<span class="n">data.num.basic</span>
<span class="n">data.option.defs</span>
<span class="n">data.pnat.defs</span>
<span class="n">algebra.abs</span>
<span class="n">algebra.covariant_and_contravariant</span>
<span class="n">algebra.order.ring.lemmas</span>
<span class="n">algebra.group.commutator</span>
<span class="n">algebra.group_power.identities</span>
<span class="n">algebra.homology.complex_shape</span>
</code></pre></div>
</div></div>
<p>If anyone else can verify these, I'll change these's SHAs on the status page</p>



<a name="311067502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311067502" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311067502">(Nov 19 2022 at 20:55)</a>:</h4>
<p>(a helpful git option was <code>git config pager.diff false</code></p>



<a name="311067640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311067640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311067640">(Nov 19 2022 at 20:57)</a>:</h4>
<p>Note: your script should diff against <code>master</code>, not <code>HEAD</code></p>



<a name="311067666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311067666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311067666">(Nov 19 2022 at 20:57)</a>:</h4>
<p>Just in case someone is on another branch without realizing it.</p>



<a name="311067971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311067971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311067971">(Nov 19 2022 at 21:00)</a>:</h4>
<p>Do you think I should make that change generally to the script or just when outputting? I wonder if this current functionality is useful for someone preparing a PR to do with <code>mathlib4</code></p>



<a name="311069022"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311069022" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311069022">(Nov 19 2022 at 21:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197836">Jireh Loreaux</span> <a href="#narrow/stream/287929-mathlib4/topic/porting.20requests/near/311054835">said</a>:</p>
<blockquote>
<p>To second Patrick's point, you are likely capable of porting the non-mathematical things, e.g., I doubt <code>data.stream.defs</code> would be that hard, but I haven't looked carefully.</p>
</blockquote>
<p>oh, there's another definition of <code>Stream</code> already</p>



<a name="311073106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311073106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311073106">(Nov 19 2022 at 22:09)</a>:</h4>
<p>I ran all the diffs against <code>c4658a649d216f57e99621708b09dcb3dcccbd23</code> on master. Looks like <code>data.bool.basic</code> can also go on your list. However, I think the following fileshave changes (and I have not checked them against mathlib4). If you checked them against mathlib4, that's fine, but if you haven't don't update the SHAs.</p>
<ul>
<li><code>order.compare</code></li>
<li><code>category_theory.concrete_category.bundled</code></li>
<li><code>logic.equiv.defs</code></li>
<li><code>data.subtype</code></li>
<li><code>data.fun_like.equiv</code></li>
</ul>



<a name="311073319"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311073319" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311073319">(Nov 19 2022 at 22:12)</a>:</h4>
<p>If you have time and are willing, you could synchronize the files that need it with mathlib4, but I don't have time tonight to try and do that.</p>



<a name="311073425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311073425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311073425">(Nov 19 2022 at 22:14)</a>:</h4>
<p>Okay, I checked most of those manually as well (just proof changes apart from <code>fun_like.equiv</code>). I'll put these in and maybe I'll fix discrepancies on others later</p>



<a name="311079891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311079891" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311079891">(Nov 19 2022 at 23:41)</a>:</h4>
<p>Looking at the state of things this morning, the <em>really</em> <em>really</em> helpful thing that people can do is review each others PRs (e.g. check #align's, fix errors, mark as approved), and then post in a thread here requests for merging (or merge yourself if you self-identify as someone who should do that :-)</p>



<a name="311079894"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311079894" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311079894">(Nov 19 2022 at 23:41)</a>:</h4>
<p>We have a big PR queue.</p>



<a name="311079899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311079899" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311079899">(Nov 19 2022 at 23:41)</a>:</h4>
<p>If someone could add the <a href="https://bit.ly/3cKk3ld">#queue4</a> linkifier that would be lovely.</p>



<a name="311079907"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311079907" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311079907">(Nov 19 2022 at 23:42)</a>:</h4>
<p>Oh! It exists. :-)</p>



<a name="311079959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311079959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311079959">(Nov 19 2022 at 23:42)</a>:</h4>
<p>Okay --- go forth and review all those PRs, and anything that looks ready to go, hunt down someone who will hit <code>bors merge</code> on it. :-)</p>



<a name="311079971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311079971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311079971">(Nov 19 2022 at 23:42)</a>:</h4>
<p>I am soon to be essentially offline for 72 hours, due to some complicated travel.</p>



<a name="311080540"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311080540" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311080540">(Nov 19 2022 at 23:52)</a>:</h4>
<p>Priorities for attention should be <a href="https://github.com/leanprover-community/mathlib/pull/641">#641</a> and <a href="https://github.com/leanprover-community/mathlib/pull/631">#631</a>.</p>



<a name="311080594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311080594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311080594">(Nov 19 2022 at 23:53)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/pull/641">mathlib4#641</a>, <a href="https://github.com/leanprover-community/mathlib4/pull/631">mathlib4#631</a></p>



<a name="311080607"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311080607" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311080607">(Nov 19 2022 at 23:53)</a>:</h4>
<p>Is there any chance we could ask people to in future just commit the raw mathbin file as the first commit?</p>



<a name="311080664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311080664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311080664">(Nov 19 2022 at 23:54)</a>:</h4>
<p>Yes! It's been suggested before. <span class="user-mention" data-user-id="284160">@Eric Rodriguez</span>, would you verify that it is in the wiki?</p>



<a name="311080678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311080678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311080678">(Nov 19 2022 at 23:54)</a>:</h4>
<p>No, it hasn't. I'll add it now</p>



<a name="311081062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311081062" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311081062">(Nov 20 2022 at 00:00)</a>:</h4>
<p>In fact, I'd say <a href="https://github.com/leanprover-community/mathlib4/pull/641">mathlib4#641</a> is ready to go, except for the <code>library_note "coercion into rings"</code> needing updating.</p>



<a name="311081180"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311081180" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311081180">(Nov 20 2022 at 00:01)</a>:</h4>
<p>If <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> would be willing to either rewrite that, or just say "please leave a 'Porting note' that this library note is out of date and needs repair", then I think we should merge.</p>



<a name="311081632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311081632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311081632">(Nov 20 2022 at 00:07)</a>:</h4>
<p>Okay I've rewrote the library note.</p>



<a name="311081736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311081736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311081736">(Nov 20 2022 at 00:08)</a>:</h4>
<p>Haha, great, the solution was to delete the confusing paragraph. :-)</p>



<a name="311083739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311083739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311083739">(Nov 20 2022 at 00:38)</a>:</h4>
<p>I believe <a href="https://github.com/leanprover-community/mathlib4/pull/616">mathlib4#616</a> and <a href="https://github.com/leanprover-community/mathlib4/pull/649">mathlib4#649</a> are good to go pending review. <a href="https://github.com/leanprover-community/mathlib4/pull/638">mathlib4#638</a> has a universe linting error if good just needs an override.</p>



<a name="311087959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311087959" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311087959">(Nov 20 2022 at 01:50)</a>:</h4>
<p>Probably you should fix the universe linting error. Let me know if you need help.</p>



<a name="311088906"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311088906" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311088906">(Nov 20 2022 at 02:07)</a>:</h4>
<p>I definitely need help -- not sure what's causing it...</p>



<a name="311090330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311090330" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311090330">(Nov 20 2022 at 02:33)</a>:</h4>
<p>I'll try to have a quick look in an hour or so.</p>



<a name="311091039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311091039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311091039">(Nov 20 2022 at 02:47)</a>:</h4>
<p>The reason I <em>think</em> this is OK is that it occurs in the typeclass instances for <code>ULift</code> which is designed to do universe shenanigans. In particular, the lint is for  "<code>max u v</code> in the type where neither <code>u</code> nor <code>v</code> occur by themselves" but <code>ULift</code> by definition maps to <code>Type (max s r)</code></p>



<a name="311091236"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311091236" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311091236">(Nov 20 2022 at 02:50)</a>:</h4>
<p>The lint is for when <code>u</code> and <code>v</code> appear together as <code>max u v</code> <em>everywhere</em> in the declaration and proof. If you use <code>ULift.{u, v}</code>  then <code>u</code> and <code>v</code> are appearing separately</p>



<a name="311091417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311091417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311091417">(Nov 20 2022 at 02:54)</a>:</h4>
<p>The code is <em>never</em> using <code>max u v</code>; this only happens behind the scenes in the typeclass instance. It's possible I need a fix by adding explicit universe types for all the invocations of <code>ULift</code>?</p>



<a name="311091989"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311091989" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311091989">(Nov 20 2022 at 03:05)</a>:</h4>
<p>I mean the elaborated term uses <code>max u v</code></p>



<a name="311092075"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/311092075" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#311092075">(Nov 20 2022 at 03:06)</a>:</h4>
<p>(If you have a specific example in mind you should probably do it on another thread, this one is about porting requests and progress toward them)</p>



<a name="319131392"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/319131392" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Casavaca <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#319131392">(Jan 03 2023 at 05:50)</a>:</h4>
<p>I just picked up a light blue node and ported it. Is this change desired? <a href="https://github.com/leanprover-community/mathlib4/pull/1307">https://github.com/leanprover-community/mathlib4/pull/1307</a> Port/order.concept</p>



<a name="319619553"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/319619553" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Casavaca <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#319619553">(Jan 05 2023 at 16:19)</a>:</h4>
<p>Anyone interested to help me with this pull request?</p>



<a name="319629028"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/319629028" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#319629028">(Jan 05 2023 at 17:02)</a>:</h4>
<p>Usually pull requests are made from branches of leanprover-community/mathlib4 ; I'm not sure your PR will ever make it onto <a href="https://bit.ly/3cKk3ld">#queue4</a> because it hasn't been done in this way. Why not ping the maintainers letting them now your github userid and ask for push access to non-master branches of mathlib4? I don't ever look at the PRs in mathlib4, I only ever look at <a href="https://bit.ly/3cKk3ld">#queue4</a> because those are the PRs which are "ready for review".</p>



<a name="319636507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/319636507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Casavaca <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#319636507">(Jan 05 2023 at 17:38)</a>:</h4>
<p>That's helpful. Thanks.</p>



<a name="319683890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/porting%20requests/near/319683890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/porting.20requests.html#319683890">(Jan 05 2023 at 22:26)</a>:</h4>
<p>PS I also looked at your PR today given that you flagged it explicitly :-)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>