---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/tagged.20releases.3F.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html">tagged releases?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="316707405"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/tagged%20releases%3F/near/316707405" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html#316707405">(Dec 19 2022 at 10:22)</a>:</h4>
<p>As courses using Lean 4 will start in a couple of weeks (including mine), I would like to suggest having periodic tagged commits. Just a lightweight tag is fine. This is so <code>lakefile.lean</code> in a course repository can point to tagged versions to ensure compatibility.</p>
<p>Specifically, what would be nice is for coordinated labels for <code>mathlib</code>, <code>Std</code>, <code>Qq</code>, <code>docgen4</code> and <code>aesop</code> so that any project that uses versions with the same tags and has the same lean-toolchain as the tagged mathlib should have compatible dependencies. </p>
<p>My main concern is that students will run <code>lake update</code> and break their clones.  I can point to specific commits in the lakefile but that is more fiddly.</p>



<a name="316709444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/tagged%20releases%3F/near/316709444" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html#316709444">(Dec 19 2022 at 10:35)</a>:</h4>
<blockquote>
<p>My main concern is that students will run lake update and break their clones</p>
</blockquote>
<p>Is that a reasonable concern? You are effectively trying to reinvent the manifest file inside lakefile.lean.</p>



<a name="316709613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/tagged%20releases%3F/near/316709613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html#316709613">(Dec 19 2022 at 10:36)</a>:</h4>
<p>I support the general idea though, this would best be coordinated with sufficiently frequent Lean stable releases</p>



<a name="316709816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/tagged%20releases%3F/near/316709816" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html#316709816">(Dec 19 2022 at 10:37)</a>:</h4>
<p>It would be great of course if <code>lake update</code> simply updated you to the next coordinated tag if you already use them</p>



<a name="316712193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/tagged%20releases%3F/near/316712193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html#316712193">(Dec 19 2022 at 10:50)</a>:</h4>
<p>What I meant is that each time I update to a newer mathlib, I have to update all commits in the manifest file and check that the setup works. Also my course page will depend on other repositories of mine and I have to fix those as well.</p>
<p>Not that there is any fundamental problem with this, but if instead I could point to commits with the same name it will be easier and I am less likely to make an error. But besides this, if say 4 courses are being taught each of us teaching will have to do this every time we update.</p>



<a name="316713507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/tagged%20releases%3F/near/316713507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html#316713507">(Dec 19 2022 at 10:58)</a>:</h4>
<p>Whenever I've taught, I've never updated mathlib at all during the course. It seemed to me that this was asking for trouble.</p>



<a name="316718032"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/tagged%20releases%3F/near/316718032" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html#316718032">(Dec 19 2022 at 11:25)</a>:</h4>
<p>That's a lot easier to do with mathlib3. With mathlib4 we want to use things as they come online</p>



<a name="316720426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/tagged%20releases%3F/near/316720426" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html#316720426">(Dec 19 2022 at 11:38)</a>:</h4>
<p>You can't ask for coordinated releases and "things as they come online" at the same time :) . I would expect coordinated releases to happen about very month or so. If you want to update mathlib4 more frequently, there's no way around coordinating stuff manually, but at least your students won't be exposed to that.</p>



<a name="316720679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/tagged%20releases%3F/near/316720679" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html#316720679">(Dec 19 2022 at 11:40)</a>:</h4>
<p>An "update only these specific packages" Lake command would be helpful though</p>



<a name="316722214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/tagged%20releases%3F/near/316722214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/tagged.20releases.3F.html#316722214">(Dec 19 2022 at 11:49)</a>:</h4>
<p>I agree. I meant with a modest delay as they come online, not a whole semester. And I meant some intermediate stability, like lean's nightly builds, not necessarily M-x` level.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>