---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html">data.real.basic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="312950741"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/312950741" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#312950741">(Nov 29 2022 at 22:32)</a>:</h4>
<p>I started a project of removing <code>module</code> and <code>finset</code> from the imports of <code>data.real.basic</code>.  <a href="https://github.com/leanprover-community/mathlib/pull/17758">#17758</a>, <a href="https://github.com/leanprover-community/mathlib/pull/17760">#17760</a>, <a href="https://github.com/leanprover-community/mathlib/pull/17761">#17761</a> are the first steps.</p>



<a name="312954373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/312954373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#312954373">(Nov 29 2022 at 22:57)</a>:</h4>
<p>Heh, I had  <a href="https://github.com/leanprover-community/mathlib/pull/17761">#17761</a> just about ready as well. Pushed my final fixes to your branch</p>



<a name="312958131"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/312958131" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#312958131">(Nov 29 2022 at 23:17)</a>:</h4>
<p>I also pushed  <a href="https://github.com/leanprover-community/mathlib/pull/17764">#17764</a>, but now I'm off :)</p>



<a name="312963529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/312963529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#312963529">(Nov 30 2022 at 00:06)</a>:</h4>
<p>Can anyone suggest how to fix the broken test in <a href="https://github.com/leanprover-community/mathlib/pull/17760">#17760</a>?  The task is</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">filter.map</span> <span class="n">g</span> <span class="o">(</span><span class="n">map</span> <span class="n">f</span> <span class="n">A</span><span class="o">)</span> <span class="bp">≤</span> <span class="n">filter.map</span> <span class="n">g</span> <span class="n">B</span><span class="o">,</span>
</code></pre></div>
<p>the timing-out proof is <code>by library_search!</code>, and I can't see how this would be affected by splitting <code>char_zero</code> into two files.</p>
<p>(I tried adding back in both post-split files, in case it was a missing import, but the timeout remains.)</p>



<a name="312984730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/312984730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Junyan Xu <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#312984730">(Nov 30 2022 at 04:31)</a>:</h4>
<p>Maybe use <a href="https://leanprover-community.github.io/mathlib_docs/find/tactic.interactive.try_for">docs#tactic.interactive.try_for</a></p>



<a name="313095727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/313095727" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#313095727">(Nov 30 2022 at 16:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260507">Heather Macbeth</span> <a href="#narrow/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic/near/312950741">said</a>:</p>
<blockquote>
<p>I started a project of removing <code>module</code> and <code>finset</code> from the imports of <code>data.real.basic</code>.  <a href="https://github.com/leanprover-community/mathlib/pull/17758">#17758</a>, <a href="https://github.com/leanprover-community/mathlib/pull/17760">#17760</a>, <a href="https://github.com/leanprover-community/mathlib/pull/17761">#17761</a> are the first steps.</p>
</blockquote>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17768">#17768</a> and <a href="https://github.com/leanprover-community/mathlib/pull/17772">#17772</a> are also in pursuit of this goal.</p>



<a name="313725287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/313725287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#313725287">(Dec 03 2022 at 19:14)</a>:</h4>
<p>The number of lines to reach <code>data.real.basic</code> dropped from <strong>120,374</strong> <a href="#narrow/stream/287929-mathlib4/topic/port.20progress/near/313597080">yesterday</a> to <strong>92,135</strong><br>
<a href="#narrow/stream/287929-mathlib4/topic/port.20progress/near/313719837">today</a>!  This is thanks to the elimination of <code>finset</code> from its imports with <a href="https://github.com/leanprover-community/mathlib/pull/17791">#17791</a>, <a href="https://github.com/leanprover-community/mathlib/pull/17768">#17768</a> and <a href="https://github.com/leanprover-community/mathlib/pull/17792">#17792</a> landing (as well as a series of previous PRs by myself and <span class="user-mention" data-user-id="307953">@Ruben Van de Velde</span>, which reduced the <code>finset</code> imports to those three paths).</p>
<p>The <code>submonoid</code> object disappeared the day before that, thanks to <span class="user-mention" data-user-id="310045">@Eric Wieser</span> in <a href="https://github.com/leanprover-community/mathlib/pull/17786">#17786</a>.  The <code>module</code> import will be gone after <a href="https://github.com/leanprover-community/mathlib/pull/17804">#17804</a>.  There's more that could be done, but I'm going to stop here.</p>



<a name="313812313"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/313812313" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#313812313">(Dec 04 2022 at 13:56)</a>:</h4>
<p>What's the motivation for pulling <code>algebra.module.basic</code>out of the import path? Are there heavy imports there that perhaps suggest algebra.module.basic should be split instead?</p>



<a name="313812396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/313812396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#313812396">(Dec 04 2022 at 13:57)</a>:</h4>
<p><code>module</code> doesn't strike me as a particularly complex thing to depend on, especially from the perspective that many <code>mul</code> lemmas can be stated as special cases of a <code>smul</code> lemma.</p>



<a name="313831630"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/313831630" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yaël Dillies <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#313831630">(Dec 04 2022 at 16:40)</a>:</h4>
<p>In general, I'm afraid that the file atomisation taking place currently will work towards rebuilding more things from scratch rather than using general theory (because the general theory requires more imports).</p>



<a name="313838400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/313838400" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#313838400">(Dec 04 2022 at 17:45)</a>:</h4>
<p><span class="user-mention" data-user-id="310045">@Eric Wieser</span> <span class="user-mention" data-user-id="387244">@Yaël Dillies</span> Perhaps you don't realise that removing <code>module</code> from the import path of <code>data/real/basic</code> did not actually require changing any proofs.  The chain of declarations leading to this file was already independent of <code>module</code>, it just happened that some of these declarations lived in the same files as declarations depending on <code>module</code>.</p>



<a name="313838900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.real.basic/near/313838900" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic.html#313838900">(Dec 04 2022 at 17:51)</a>:</h4>
<p>Personally, I would also be happy to change a few proofs in order to eliminate an import (for example, one or two proofs of the kind conjectured by Eric:<br>
<span class="user-mention silent" data-user-id="310045">Eric Wieser</span> <a href="#narrow/stream/287929-mathlib4/topic/data.2Ereal.2Ebasic/near/313812396">said</a>:</p>
<blockquote>
<p>many <code>mul</code> lemmas can be stated as special cases of a <code>smul</code> lemma.</p>
</blockquote>
<p>) if the duplication is not too egregious.  We already are effectively doing that by constructing <code>real</code> using the special-purpose <a href="https://leanprover-community.github.io/mathlib_docs/find/cau_seq">docs#cau_seq</a> rather than by using <a href="https://leanprover-community.github.io/mathlib_docs/find/uniform_space.completion">docs#uniform_space.completion</a>.  But I agree that such changes are more controversial.</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>