---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/port.20benchmark.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html">port benchmark</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="312524403"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/312524403" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#312524403">(Nov 27 2022 at 22:23)</a>:</h4>
<p>mathlib4 theory files:<br>
      320.70 real       307.63 user        47.21 sys<br>
corresponding files in mathlib3:<br>
      348.44 real       500.98 user         8.54 sys</p>



<a name="312524971"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/312524971" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#312524971">(Nov 27 2022 at 22:30)</a>:</h4>
<p>See <a href="https://github.com/leanprover-community/mathlib4/pull/756">mathlib4#756</a> for the script driving this bot.</p>



<a name="312525090"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/312525090" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#312525090">(Nov 27 2022 at 22:32)</a>:</h4>
<p>Hopefully this script can help us watch out for performance regressions.</p>



<a name="312525112"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/312525112" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#312525112">(Nov 27 2022 at 22:32)</a>:</h4>
<p>And if it motivates anyone to do detailed performance comparisons or optimisations, great! :-)</p>



<a name="312525136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/312525136" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#312525136">(Nov 27 2022 at 22:33)</a>:</h4>
<p>If anyone wants to put in more effort in this direction, it would be great to have a file-by-file comparison.</p>



<a name="312582877"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/312582877" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#312582877">(Nov 28 2022 at 09:14)</a>:</h4>
<p><code>--profile</code> would also be interesting. There is a script for accumulating those outputs, though I haven't tested it with Lake yet: <a href="https://github.com/leanprover/lean4/blob/42a080fae2ef6da9819e1dd998209b237c1042ed/tests/bench/accumulate_profile.py">https://github.com/leanprover/lean4/blob/42a080fae2ef6da9819e1dd998209b237c1042ed/tests/bench/accumulate_profile.py</a></p>



<a name="312587613"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/312587613" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#312587613">(Nov 28 2022 at 09:42)</a>:</h4>
<p>Also keep in mind that at least for code generation, Lean 4 currently does that work effectively twice! This step at least should become quite a bit faster as soon as the old compiler is dropped.</p>



<a name="313813594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/313813594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#313813594">(Dec 04 2022 at 14:07)</a>:</h4>
<p>mathlib4 theory files:<br>
corresponding files in mathlib3:</p>



<a name="313980792"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/313980792" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#313980792">(Dec 05 2022 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
corresponding files in mathlib3:</p>



<a name="314091213"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314091213" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314091213">(Dec 05 2022 at 17:57)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="110087">@Scott Morrison</span> <br>
seems like the bot gave up already...</p>



<a name="314149603"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314149603" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314149603">(Dec 06 2022 at 00:11)</a>:</h4>
<p>mathlib4 theory files:<br>
corresponding files in mathlib3:</p>



<a name="314151490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314151490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314151490">(Dec 06 2022 at 00:31)</a>:</h4>
<p>mathlib4 theory files:<br>
corresponding files in mathlib3:</p>



<a name="314152503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314152503" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314152503">(Dec 06 2022 at 00:42)</a>:</h4>
<p>mathlib4 theory files:<br>
      116.00 real       533.54 user        88.82 sys<br>
corresponding files in mathlib3:<br>
      130.19 real       815.66 user        14.55 sys</p>



<a name="314153864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314153864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314153864">(Dec 06 2022 at 00:57)</a>:</h4>
<p>Okay, seems to be running again. Redirecting stderr reliably is not one of my strengths.</p>



<a name="314243646"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314243646" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314243646">(Dec 06 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       73.83 real       366.70 user        73.74 sys<br>
corresponding files in mathlib3:<br>
       81.23 real       593.50 user         9.78 sys</p>



<a name="314260812"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314260812" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314260812">(Dec 06 2022 at 15:29)</a>:</h4>
<p>I'm curious about how this benchmarking script works.  The "real" times on mathlib3 have been decreasing strictly, from 388.44 (Nov 27) to 130.19 (yesterday) to 81.23 (today).  Are the numbers supposed to be comparable across days?  Presumably the actual number of files this is run on has been <em>increasing</em> over time, and presumably no performance optimizations are occurring on mathlib3, so shouldn't we expect the mathlib3 numbers to go up over time?</p>



<a name="314269515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314269515" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314269515">(Dec 06 2022 at 16:10)</a>:</h4>
<p>Maybe the bot is just having a particularly good day</p>



<a name="314269641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314269641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314269641">(Dec 06 2022 at 16:11)</a>:</h4>
<p>With three datapoints the odds of random fluctuations going that way is 1/4, pretty high I'd say</p>



<a name="314269859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314269859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314269859">(Dec 06 2022 at 16:12)</a>:</h4>
<p>I was going to say that file splits are happening but they're usually ahead of the port</p>



<a name="314290270"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314290270" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314290270">(Dec 06 2022 at 17:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="404479">Trebor Huang</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/314269641">said</a>:</p>
<blockquote>
<p>With three datapoints the odds of random fluctuations going that way is 1/4, pretty high I'd say</p>
</blockquote>
<p>True, but these are pretty large fluctuations, so do we want to take it as given that the benchmark is only meaningful up to an order of magnitude?</p>



<a name="314334290"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314334290" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314334290">(Dec 06 2022 at 21:59)</a>:</h4>
<p>This benchmark is running on my home computer, in the middle of the night. No guarantees that some other job isn't interfering, or that my kid isn't having a secret midnight minecraft session... If there's too much fluctuation I'll just turn it off again.</p>



<a name="314462941"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314462941" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314462941">(Dec 07 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       68.86 real       367.20 user        74.35 sys<br>
corresponding files in mathlib3:<br>
       81.67 real       600.32 user         9.81 sys</p>



<a name="314682821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314682821" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314682821">(Dec 08 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       71.45 real       374.79 user        80.24 sys<br>
corresponding files in mathlib3:<br>
       82.39 real       600.49 user         9.89 sys</p>



<a name="314901610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/314901610" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#314901610">(Dec 09 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       76.06 real       356.68 user        72.83 sys<br>
corresponding files in mathlib3:<br>
       78.75 real       585.87 user         9.85 sys</p>



<a name="315083245"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/315083245" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#315083245">(Dec 10 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       90.13 real       359.02 user        76.45 sys<br>
corresponding files in mathlib3:<br>
       78.99 real       588.25 user         9.84 sys</p>



<a name="315101615"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/315101615" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#315101615">(Dec 10 2022 at 16:28)</a>:</h4>
<p>Maybe it's just noise, but ouch.</p>



<a name="315104784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/315104784" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#315104784">(Dec 10 2022 at 16:58)</a>:</h4>
<p>it's interesting how much more time there is in sys, this seems to be consistent</p>



<a name="315143546"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/315143546" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#315143546">(Dec 11 2022 at 00:43)</a>:</h4>
<p>is this including building Std and aesop?</p>



<a name="315179864"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/315179864" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#315179864">(Dec 11 2022 at 09:23)</a>:</h4>
<p>No. I do a complete build, then delete the build artifacts for mathlib4 itself.</p>



<a name="315211356"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/315211356" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#315211356">(Dec 11 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       70.82 real       382.75 user        76.66 sys<br>
corresponding files in mathlib3:<br>
       80.21 real       602.25 user        10.77 sys</p>



<a name="315374042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/315374042" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#315374042">(Dec 12 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       69.01 real       366.74 user        73.40 sys<br>
corresponding files in mathlib3:<br>
       77.96 real       579.77 user         9.45 sys</p>



<a name="315598044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/315598044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#315598044">(Dec 13 2022 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       71.77 real       363.00 user        74.06 sys<br>
corresponding files in mathlib3:<br>
       77.67 real       578.25 user         9.70 sys</p>



<a name="315826123"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/315826123" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#315826123">(Dec 14 2022 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       76.28 real       365.08 user        81.66 sys<br>
corresponding files in mathlib3:<br>
       78.34 real       582.98 user         9.80 sys</p>



<a name="316048382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/316048382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#316048382">(Dec 15 2022 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       68.59 real       362.39 user        73.97 sys<br>
corresponding files in mathlib3:<br>
       78.10 real       581.85 user         9.65 sys</p>



<a name="316274624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/316274624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#316274624">(Dec 16 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       80.21 real       392.31 user        84.38 sys<br>
corresponding files in mathlib3:<br>
       84.30 real       604.19 user        14.14 sys</p>



<a name="316463040"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/316463040" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#316463040">(Dec 17 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       84.62 real       382.26 user        91.08 sys<br>
corresponding files in mathlib3:<br>
       83.55 real       610.99 user        13.86 sys</p>



<a name="316592765"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/316592765" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#316592765">(Dec 18 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       81.26 real       386.63 user        94.38 sys<br>
corresponding files in mathlib3:<br>
       83.38 real       609.55 user        13.90 sys</p>



<a name="316750590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/316750590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#316750590">(Dec 19 2022 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
      101.68 real       393.69 user        90.80 sys<br>
corresponding files in mathlib3:<br>
       84.39 real       615.98 user        14.53 sys</p>



<a name="316957598"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/316957598" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#316957598">(Dec 20 2022 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       82.21 real       387.39 user        89.24 sys<br>
corresponding files in mathlib3:<br>
       82.64 real       607.61 user        13.93 sys</p>



<a name="317053267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/317053267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#317053267">(Dec 20 2022 at 22:41)</a>:</h4>
<p>If anyone would like to modify this bot so that it calculates the <em>ratio</em>, which is I think what we really want to see, that would be wonderful.</p>



<a name="317053366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/317053366" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#317053366">(Dec 20 2022 at 22:42)</a>:</h4>
<p>Current code in <code>scripts/benchmark.sh</code> in the mathlib4 repo.</p>



<a name="317165460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/317165460" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#317165460">(Dec 21 2022 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       74.12 real       389.82 user        83.86 sys<br>
corresponding files in mathlib3:<br>
       82.81 real       604.61 user        13.43 sys</p>



<a name="317372531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/317372531" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#317372531">(Dec 22 2022 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       80.59 real       368.81 user        77.90 sys<br>
corresponding files in mathlib3:<br>
       78.71 real       583.94 user        10.04 sys</p>



<a name="318742621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/318742621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#318742621">(Dec 31 2022 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       91.44 real       357.21 user        81.28 sys<br>
corresponding files in mathlib3:<br>
       78.42 real       581.28 user         9.97 sys</p>



<a name="318862537"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/318862537" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#318862537">(Jan 01 2023 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       69.49 real       368.40 user        71.82 sys<br>
corresponding files in mathlib3:<br>
       78.05 real       579.06 user        10.07 sys</p>



<a name="318998038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/318998038" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#318998038">(Jan 02 2023 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       74.39 real       383.95 user        83.65 sys<br>
corresponding files in mathlib3:<br>
       81.17 real       596.04 user        10.06 sys</p>



<a name="319201432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/319201432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#319201432">(Jan 03 2023 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       76.11 real       370.50 user        76.05 sys<br>
corresponding files in mathlib3:<br>
       79.36 real       594.08 user        10.31 sys</p>



<a name="319395264"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/319395264" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#319395264">(Jan 04 2023 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       72.18 real       384.51 user        79.58 sys<br>
corresponding files in mathlib3:<br>
       80.86 real       594.98 user        11.16 sys</p>



<a name="319591925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/319591925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#319591925">(Jan 05 2023 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       76.57 real       369.84 user        77.06 sys<br>
corresponding files in mathlib3:<br>
       78.84 real       591.29 user        10.27 sys</p>



<a name="319787232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/319787232" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#319787232">(Jan 06 2023 at 14:04)</a>:</h4>
<p>info: downloading component 'lean'<br>
info: installing component 'lean'<br>
mathlib4 theory files:<br>
       70.70 real       364.31 user        70.91 sys<br>
corresponding files in mathlib3:<br>
       78.39 real       576.90 user         9.73 sys</p>



<a name="319787328"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/319787328" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#319787328">(Jan 06 2023 at 14:05)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="110087">@Scott Morrison</span> <span aria-label="up" class="emoji emoji-2b06" role="img" title="up">:up:</span> somethings wrong with the ouptut</p>



<a name="319962754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/319962754" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#319962754">(Jan 07 2023 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       70.45 real       368.38 user        83.44 sys<br>
corresponding files in mathlib3:<br>
       78.77 real       581.09 user         9.86 sys</p>



<a name="319962889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/319962889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Trebor Huang <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#319962889">(Jan 07 2023 at 14:05)</a>:</h4>
<p>And it just silently corrects itself, how fascinating.</p>



<a name="319966628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/319966628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#319966628">(Jan 07 2023 at 14:27)</a>:</h4>
<p>It most likely just had to update its lean version yesterday and can just proceed normally now because the nightly is cached by elan.</p>



<a name="320080078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320080078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320080078">(Jan 08 2023 at 14:03)</a>:</h4>
<p>mathlib4 theory files:<br>
       69.57 real       366.93 user        77.90 sys<br>
corresponding files in mathlib3:<br>
       78.56 real       578.78 user        10.04 sys</p>



<a name="320084671"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320084671" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320084671">(Jan 08 2023 at 14:46)</a>:</h4>
<p>Why does lean4 take more sys time, btw?</p>



<a name="320085661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320085661" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Henrik Böving <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320085661">(Jan 08 2023 at 14:55)</a>:</h4>
<p>Just a wild guess, since sys time is kernel time and we <code>mmap</code> <code>.olean</code>s maybe the kernel is busy loading them on demand as we access them?</p>



<a name="320234832"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320234832" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320234832">(Jan 09 2023 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       70.27 real       366.80 user        78.69 sys<br>
corresponding files in mathlib3:<br>
       79.68 real       591.57 user        10.26 sys</p>



<a name="320242024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320242024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320242024">(Jan 09 2023 at 14:35)</a>:</h4>
<p>Is this actually using a recent mathlib4 commit? Because it definitely takes a little longer for me (with negligible sys time)</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="mi">1782</span><span class="bp">.</span><span class="mi">59</span><span class="n">user</span> <span class="mi">51</span><span class="bp">.</span><span class="mi">27</span><span class="n">system</span> <span class="mi">3</span><span class="o">:</span><span class="mi">38</span><span class="bp">.</span><span class="mi">41</span><span class="n">elapsed</span> <span class="mi">839</span><span class="bp">%</span><span class="n">CPU</span> <span class="o">(</span><span class="mi">0</span><span class="n">avgtext</span><span class="bp">+</span><span class="mi">0</span><span class="n">avgdata</span> <span class="mi">1046600</span><span class="n">maxresident</span><span class="o">)</span><span class="n">k</span>
<span class="mi">0</span><span class="n">inputs</span><span class="bp">+</span><span class="mi">515568</span><span class="n">outputs</span> <span class="o">(</span><span class="mi">1250</span><span class="n">major</span><span class="bp">+</span><span class="mi">18703951</span><span class="n">minor</span><span class="o">)</span><span class="n">pagefaults</span> <span class="mi">0</span><span class="n">swaps</span>
</code></pre></div>



<a name="320457795"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320457795" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320457795">(Jan 10 2023 at 14:04)</a>:</h4>
<p>mathlib4 theory files:<br>
       69.90 real       367.16 user        77.72 sys<br>
corresponding files in mathlib3:<br>
       78.92 real       591.47 user        10.08 sys</p>



<a name="320458579"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320458579" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320458579">(Jan 10 2023 at 14:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span></p>



<a name="320531141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320531141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320531141">(Jan 10 2023 at 19:43)</a>:</h4>
<p>Haha, you're absolutely right. Let's see what it says next time!</p>



<a name="320580498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320580498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320580498">(Jan 11 2023 at 02:16)</a>:</h4>
<p>mathlib4 theory files:<br>
      297.11 real      2150.08 user       255.00 sys<br>
corresponding files in mathlib3:<br>
      199.51 real      2480.36 user        43.14 sys</p>



<a name="320582597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320582597" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320582597">(Jan 11 2023 at 02:49)</a>:</h4>
<p>So, yeah, it wasn't ever upgrading mathlib4. Any variation we were seeing previously was either noise, or changes in mathlib3. Sorry about that!</p>



<a name="320584246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320584246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320584246">(Jan 11 2023 at 03:13)</a>:</h4>
<p>So now mathlib4 is 50% slower than mathlib3?  Is that really right?</p>



<a name="320591938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320591938" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320591938">(Jan 11 2023 at 04:09)</a>:</h4>
<p>(deleted)</p>



<a name="320592226"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320592226" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320592226">(Jan 11 2023 at 04:11)</a>:</h4>
<p>Apparently so. It's a tiny reduction in overall time, but a significant increase in clock time.</p>



<a name="320592373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320592373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320592373">(Jan 11 2023 at 04:12)</a>:</h4>
<p>We probably should expect worse parallelism in Lean 4, since individual files are single-threaded now. (While Lean 3 could put theorems off on other threads.)</p>



<a name="320592389"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320592389" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320592389">(Jan 11 2023 at 04:12)</a>:</h4>
<p>But yeah, it is not happy news.</p>



<a name="320592736"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320592736" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320592736">(Jan 11 2023 at 04:15)</a>:</h4>
<p>So if we cut large files into 5 pieces, we might see a speed-up?</p>



<a name="320594378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320594378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320594378">(Jan 11 2023 at 04:28)</a>:</h4>
<p>Do we have any clue why <code>sys</code> got a &gt; 5x bump?</p>



<a name="320594424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320594424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320594424">(Jan 11 2023 at 04:28)</a>:</h4>
<p>I assume once we get far enough we will have more than enough file-level parallelism to exploit</p>



<a name="320594463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320594463" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320594463">(Jan 11 2023 at 04:28)</a>:</h4>
<p>although maybe the effect we are seeing is just the few files that are bottlenecks</p>



<a name="320594558"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320594558" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320594558">(Jan 11 2023 at 04:29)</a>:</h4>
<p>If you take <code>real + sys</code>, then we're seeing a 4.6% speedup...</p>



<a name="320594641"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320594641" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320594641">(Jan 11 2023 at 04:29)</a>:</h4>
<p>My guess is that the time in <code>sys</code> is related to the technique of <code>mmap</code>ing oleans: it means that the OS kernel is doing a lot of work to read files from disk when we touch those bytes in the course of evaluation</p>



<a name="320594756"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320594756" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320594756">(Jan 11 2023 at 04:30)</a>:</h4>
<p>rather than paying that cost up front by using <code>read</code></p>



<a name="320648420"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320648420" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320648420">(Jan 11 2023 at 08:57)</a>:</h4>
<p>But see also my numbers above that do not really match up for <code>sys</code>. Would be great if others could reproduce that.</p>



<a name="320648693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320648693" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320648693">(Jan 11 2023 at 08:59)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> Which command would you like me to run?</p>



<a name="320649201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320649201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320649201">(Jan 11 2023 at 09:02)</a>:</h4>
<p>I think I just used <code>rm -rf build/; time lake build</code></p>



<a name="320649225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320649225" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320649225">(Jan 11 2023 at 09:02)</a>:</h4>
<p>(exact output may depend on your version of <code>time</code>)</p>



<a name="320649360"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320649360" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320649360">(Jan 11 2023 at 09:03)</a>:</h4>
<p>If you want to influence which version of <code>time</code> I run, you should post some <code>nix-shell</code> blabla <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="320649940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320649940" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320649940">(Jan 11 2023 at 09:07)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> how many cores do you have?</p>



<a name="320649970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320649970" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320649970">(Jan 11 2023 at 09:07)</a>:</h4>
<p>18 (but the OS thinks 36 due to hyperthreading)</p>



<a name="320650024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320650024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320650024">(Jan 11 2023 at 09:07)</a>:</h4>
<p>ok, so you probably run the most parallel build of all of us</p>



<a name="320650333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320650333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320650333">(Jan 11 2023 at 09:09)</a>:</h4>
<p><code> 2264.99s user 68.35s system 817% cpu 4:45.40 total</code></p>



<a name="320650459"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320650459" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320650459">(Jan 11 2023 at 09:10)</a>:</h4>
<p>So my <code>user</code> is comparable to Scott's but my <code>sys</code> is quite a bit lower.</p>



<a name="320651435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320651435" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320651435">(Jan 11 2023 at 09:16)</a>:</h4>
<p>Interesting. Can we find someone to run this on macos?</p>



<a name="320651498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320651498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320651498">(Jan 11 2023 at 09:16)</a>:</h4>
<p>I thought you were a mac user <span aria-label="open mouth" class="emoji emoji-1f62e" role="img" title="open mouth">:open_mouth:</span></p>



<a name="320651561"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320651561" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320651561">(Jan 11 2023 at 09:17)</a>:</h4>
<p>Are you hiding from us that you switched to windows, or something?</p>



<a name="320655797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320655797" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alistair Tucker <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320655797">(Jan 11 2023 at 09:43)</a>:</h4>
<p>I ran <code>benchmark.sh</code> on a MacBook (M1 Pro with 8 cores). It says</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">mathlib4</span> <span class="n">theory</span> <span class="n">files</span><span class="o">:</span>
      <span class="mi">207</span><span class="bp">.</span><span class="mi">16</span> <span class="n">real</span>      <span class="mi">1201</span><span class="bp">.</span><span class="mi">51</span> <span class="n">user</span>       <span class="mi">106</span><span class="bp">.</span><span class="mi">30</span> <span class="n">sys</span>
<span class="n">corresponding</span> <span class="n">files</span> <span class="k">in</span> <span class="n">mathlib3</span><span class="o">:</span>
      <span class="mi">187</span><span class="bp">.</span><span class="mi">37</span> <span class="n">real</span>      <span class="mi">1330</span><span class="bp">.</span><span class="mi">53</span> <span class="n">user</span>        <span class="mi">10</span><span class="bp">.</span><span class="mi">03</span> <span class="n">sys</span>
</code></pre></div>



<a name="320656737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320656737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320656737">(Jan 11 2023 at 09:48)</a>:</h4>
<p>Weird... <code>user</code> is halved and <code>sys</code> is doubled, compared to my run...</p>



<a name="320702083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320702083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320702083">(Jan 11 2023 at 13:27)</a>:</h4>
<p>Here is a visual trace of a matlib4+dependencies build on the machine from above. Unfortunately I don't have the tooling to repeat that for the mathlib 3 build for comparison. <a href="/user_uploads/3121/J3PJr-BMus35HfHVJMSdgP4o/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/J3PJr-BMus35HfHVJMSdgP4o/image.png" title="image.png"><img src="/user_uploads/3121/J3PJr-BMus35HfHVJMSdgP4o/image.png"></a></div>



<a name="320702466"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320702466" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320702466">(Jan 11 2023 at 13:29)</a>:</h4>
<p>But you can see that Lean 4 is disadvantaged by the large file bottleneck in the end that Lean 3 presumably could parallelize, though I expect that further porting will change that situation</p>



<a name="320711728"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320711728" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320711728">(Jan 11 2023 at 14:11)</a>:</h4>
<p>mathlib4 theory files:<br>
      328.31 real      2057.84 user       242.71 sys<br>
corresponding files in mathlib3:<br>
      191.41 real      2441.73 user        42.54 sys</p>



<a name="320764508"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320764508" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320764508">(Jan 11 2023 at 18:06)</a>:</h4>
<p><span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> That's a cool picture. How did you generate it?</p>



<a name="320764726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320764726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320764726">(Jan 11 2023 at 18:07)</a>:</h4>
<p>How hard is it too calculate a more optimal assignment of files to threads from that data? And could it be useful to pass such knowledge on to future runs of Lean?</p>



<a name="320765625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320765625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320765625">(Jan 11 2023 at 18:12)</a>:</h4>
<p>It's <a href="https://github.com/Kha/nixprof/">https://github.com/Kha/nixprof/</a> + <a href="https://ui.perfetto.dev/">https://ui.perfetto.dev/</a>. I can't recommend running Nixprof yourself right now... but I can upload the log if you want to explore it in Perfetto.</p>



<a name="320766357"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320766357" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320766357">(Jan 11 2023 at 18:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/320764726">said</a>:</p>
<blockquote>
<p>How hard is it too calculate a more optimal assignment of files to threads from that data? And could it be useful to pass such knowledge on to future runs of Lean?</p>
</blockquote>
<p>i think this mainly depends on how good your heuristics for job runtime are -- if you have the exact runtimes, you can get good approximately-optimal schedules</p>



<a name="320772490"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320772490" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> James Gallicchio <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320772490">(Jan 11 2023 at 18:49)</a>:</h4>
<p>(deleted)</p>



<a name="320773272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320773272" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320773272">(Jan 11 2023 at 18:53)</a>:</h4>
<p>Do the sizes of the bars in <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/320702083">Sebastian's chart</a> represent compile time?  Some of these are strange to me, for example <a href="https://github.com/leanprover-community/mathlib4/blob/master/Mathlib/Algebra/Ring/Prod.lean">Algebra.Ring.Prod</a>, a 277-line file which is among the larger bars shown.</p>



<a name="320773622"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320773622" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320773622">(Jan 11 2023 at 18:54)</a>:</h4>
<p>Or <a href="https://github.com/leanprover-community/mathlib/blob/master/src/algebra/order/field/inj_surj.lean">Algebra.Order.Field.InjSurj</a>, perhaps the longest bar and it's only 50 lines.</p>



<a name="320774468"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320774468" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320774468">(Jan 11 2023 at 18:58)</a>:</h4>
<p>Yes, the x axis is compile time, though there is a good amount of overhead from parallel compilation. InjSurj does take 36s for me in isolation.</p>



<a name="320774552"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320774552" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320774552">(Jan 11 2023 at 18:59)</a>:</h4>
<p>How bizarre!  There are only two declarations in that file.</p>



<a name="320774889"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320774889" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320774889">(Jan 11 2023 at 19:00)</a>:</h4>
<p>Might be worth timing it in mathlib3 to compare?</p>



<a name="320776803"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320776803" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320776803">(Jan 11 2023 at 19:09)</a>:</h4>
<p>dumb question: why are files single-threaded now? That seems like a waste but I'm sure devs have a good reason for it.</p>



<a name="320811507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320811507" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320811507">(Jan 11 2023 at 22:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/320651435">said</a>:</p>
<blockquote>
<p>Interesting. Can we find someone to run this on macos?</p>
</blockquote>
<p>I ran on Mac Intel (2.9 GHz Quad-Core Intel Core i7) on 13.0.1</p>
<p>mathlib4 theory files:<br>
      996.29 real      2661.64 user       287.88 sys<br>
corresponding files in mathlib3:<br>
      728.80 real      2214.19 user        75.24 sys</p>



<a name="320826287"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320826287" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320826287">(Jan 12 2023 at 01:00)</a>:</h4>
<p>That at least looks similar to mine in terms of the user/sys ratio, although it is <em>slower</em> than mathlib3, rather than slightly faster.</p>



<a name="320826519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320826519" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320826519">(Jan 12 2023 at 01:03)</a>:</h4>
<p>How hard would it be to get a per file breakdown? It would be good if we could separate the multithreading differences from issues which occur in specific files</p>



<a name="320826704"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320826704" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320826704">(Jan 12 2023 at 01:05)</a>:</h4>
<p>Also, everyone keep in mind that we are still not doing the main thing that we originally thought would bring a speedup, which is using compiled mathlib tactics. We do have the new typeclass inference algorithm, but I think it's hard to tell how much of an impact it is having given all the other confounding factors</p>



<a name="320827007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320827007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320827007">(Jan 12 2023 at 01:09)</a>:</h4>
<p>The move from C++ to Lean is likely to have brought a big maintainability boost (which enables the ability to take on more ambitious projects, including those that would result in faster code) but sets us back quite a bit in terms of compiler optimizations. I would expect a moderate slowdown due to this.</p>



<a name="320831324"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320831324" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320831324">(Jan 12 2023 at 02:10)</a>:</h4>
<p>I can do the per file breakdown. Is there an easier way to get lake to linearly order all the files in a buildable order? For now I'll just do a single pass build to get the total time, and read the <code>Building ...</code> output for a second pass for per-file times.</p>



<a name="320832882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320832882" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320832882">(Jan 12 2023 at 02:36)</a>:</h4>
<p>Actually, rather than dealing with build order, it's probably better to do them alphabetically. I'll just delete the build artifacts for each file and rebuild it.</p>



<a name="320852845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320852845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320852845">(Jan 12 2023 at 04:44)</a>:</h4>
<p>mathlib4 theory files:<br>
      328.90 real      2464.80 user       285.05 sys<br>
corresponding files in mathlib3:<br>
      227.76 real      2636.30 user        64.06 sys<br>
Algebra/Abs<br>
        1.95 real         1.43 user         0.52 sys<br>
        0.79 real         0.58 user         0.17 sys<br>
Algebra/Associated<br>
       24.93 real        23.87 user         5.51 sys<br>
        8.39 real        18.89 user         0.77 sys<br>
Algebra/Bounds<br>
        4.78 real         4.37 user         3.27 sys<br>
        4.30 real         3.92 user         0.48 sys<br>
Algebra/CharZero/Defs<br>
        2.27 real         1.79 user         3.30 sys<br>
        1.60 real         1.44 user         0.25 sys<br>
Algebra/CharZero/Lemmas<br>
        4.93 real         4.47 user         6.84 sys<br>
        4.54 real         4.93 user         0.53 sys<br>
Algebra/CovariantAndContravariant<br>
        3.34 real         2.78 user         2.96 sys<br>
        2.27 real         2.07 user         0.30 sys<br>
Algebra/Divisibility/Basic<br>
        3.68 real         3.14 user         3.63 sys<br>
        1.87 real         1.77 user         0.28 sys<br>
Algebra/Divisibility/Units<br>
        3.05 real         2.53 user         4.45 sys<br>
        1.83 real         1.77 user         0.27 sys<br>
Algebra/EuclideanDomain/Basic<br>
        6.51 real         6.00 user         2.40 sys<br>
        3.09 real         4.06 user         0.36 sys<br>
Algebra/EuclideanDomain/Defs<br>
        3.33 real         2.83 user         2.75 sys<br>
        2.25 real         2.25 user         0.29 sys<br>
Algebra/EuclideanDomain/Instances<br>
        9.51 real         9.03 user         5.15 sys<br>
        3.81 real         3.40 user         0.41 sys<br>
Algebra/Field/Basic<br>
       11.13 real        10.60 user         5.92 sys<br>
        5.72 real         6.18 user         0.49 sys<br>
Algebra/Field/Defs<br>
        4.27 real         3.66 user         3.71 sys<br>
        6.04 real         5.90 user         0.33 sys<br>
Algebra/Field/Opposite<br>
       10.79 real        10.33 user         6.27 sys<br>
        3.23 real         2.88 user         0.37 sys<br>
Algebra/Field/Power<br>
        2.61 real         2.31 user         3.63 sys<br>
        3.43 real         3.03 user         0.44 sys<br>
Algebra/FreeMonoid/Basic<br>
        7.39 real         6.69 user         5.02 sys<br>
        5.46 real         5.21 user         0.46 sys<br>
Algebra/FreeMonoid/Count<br>
        3.37 real         2.92 user         2.57 sys<br>
        3.24 real         2.90 user         0.40 sys<br>
Algebra/GCDMonoid/Basic<br>
       60.39 real        59.45 user         6.95 sys<br>
        0.02 real         0.00 user         0.00 sys<br>
Algebra/Group/Basic<br>
       10.04 real         9.00 user         3.68 sys<br>
        6.50 real         6.75 user         0.42 sys<br>
Algebra/Group/Commutator<br>
        2.06 real         1.56 user         3.40 sys<br>
        1.45 real         1.20 user         0.24 sys<br>
Algebra/Group/Commute<br>
        4.13 real         3.44 user         3.74 sys<br>
        2.26 real         2.07 user         0.30 sys<br>
Algebra/Group/Conj<br>
        5.94 real         5.51 user         6.41 sys<br>
        4.80 real         5.18 user         0.53 sys<br>
Algebra/Group/Defs<br>
        7.10 real         6.13 user         3.59 sys<br>
        6.49 real         6.47 user         0.40 sys<br>
Algebra/Group/Ext<br>
        3.40 real         2.82 user         3.36 sys<br>
        6.25 real         6.28 user         0.35 sys<br>
Algebra/Group/InjSurj<br>
        8.27 real         7.55 user         3.16 sys<br>
        5.96 real         5.82 user         0.39 sys<br>
Algebra/Group/Opposite<br>
       12.72 real        11.91 user         4.63 sys<br>
        8.47 real         8.38 user         0.46 sys<br>
Algebra/Group/OrderSynonym<br>
        4.08 real         3.30 user         3.99 sys<br>
        2.14 real         1.90 user         0.30 sys<br>
Algebra/Group/Pi<br>
        8.95 real         8.22 user         5.71 sys<br>
        9.28 real         9.57 user         0.51 sys<br>
Algebra/Group/Prod<br>
       11.57 real        10.63 user         5.50 sys<br>
        8.57 real         8.62 user         0.47 sys<br>
Algebra/Group/Semiconj<br>
        3.10 real         2.60 user         4.10 sys<br>
        1.93 real         1.74 user         0.25 sys<br>
Algebra/Group/TypeTags<br>
        4.97 real         4.48 user         4.35 sys<br>
        2.83 real         2.63 user         0.28 sys<br>
Algebra/Group/ULift<br>
        6.59 real         6.04 user         3.24 sys<br>
        2.61 real         2.33 user         0.33 sys<br>
Algebra/Group/Units<br>
        7.33 real         6.47 user         4.20 sys<br>
        3.91 real         4.06 user         0.34 sys<br>
Algebra/Group/WithOne/Basic<br>
        3.70 real         3.21 user         3.04 sys<br>
        3.33 real         3.08 user         0.32 sys<br>
Algebra/Group/WithOne/Defs<br>
        4.88 real         4.28 user         4.02 sys<br>
        3.11 real         2.88 user         0.32 sys<br>
Algebra/Group/WithOne/Units<br>
        2.28 real         1.86 user         4.38 sys<br>
        2.30 real         2.00 user         0.30 sys<br>
Algebra/GroupPower/Basic<br>
        9.30 real         8.52 user         5.55 sys<br>
        3.66 real         3.71 user         0.33 sys<br>
Algebra/GroupPower/Identities<br>
       15.19 real        14.75 user         6.21 sys<br>
        4.38 real         4.27 user         0.47 sys<br>
Algebra/GroupPower/Lemmas<br>
       26.99 real        26.24 user         4.20 sys<br>
       13.89 real        20.76 user         0.68 sys<br>
Algebra/GroupPower/Order<br>
       15.95 real        15.36 user         6.77 sys<br>
        6.76 real         8.71 user         0.53 sys<br>
Algebra/GroupPower/Ring<br>
        9.83 real         9.48 user         3.24 sys<br>
        4.00 real         4.81 user         0.45 sys<br>
Algebra/GroupRingAction/Basic<br>
        3.19 real         2.81 user         8.19 sys<br>
        3.76 real         3.30 user         0.45 sys<br>
Algebra/GroupWithZero/Basic<br>
        4.36 real         3.76 user         4.51 sys<br>
        2.42 real         3.09 user         0.30 sys<br>
Algebra/GroupWithZero/Commute<br>
        2.42 real         1.92 user         4.41 sys<br>
        1.76 real         1.56 user         0.25 sys<br>
Algebra/GroupWithZero/Defs<br>
        2.88 real         2.39 user         3.02 sys<br>
        2.72 real         2.57 user         0.27 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        2.41 real         1.92 user         4.95 sys<br>
        1.96 real         1.90 user         0.27 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        4.82 real         4.33 user         3.02 sys<br>
        2.45 real         2.23 user         0.27 sys<br>
Algebra/GroupWithZero/Power<br>
        8.57 real         8.09 user         7.18 sys<br>
        4.44 real         5.23 user         0.54 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        2.37 real         1.86 user         3.83 sys<br>
        1.85 real         1.66 user         0.26 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        3.89 real         3.34 user         3.60 sys<br>
        2.30 real         2.66 user         0.29 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        4.37 real         3.80 user         4.44 sys<br>
        2.44 real         2.63 user         0.32 sys<br>
Algebra/HierarchyDesign<br>
        1.15 real         0.77 user         0.45 sys<br>
        0.67 real         0.53 user         0.13 sys<br>
Algebra/Hom/Aut<br>
        9.09 real         8.57 user         4.94 sys<br>
        8.48 real         7.81 user         0.62 sys<br>
Algebra/Hom/Commute<br>
        2.17 real         1.65 user         4.54 sys<br>
        1.72 real         1.48 user         0.25 sys<br>
Algebra/Hom/Embedding<br>
        2.18 real         1.67 user         4.39 sys<br>
        1.76 real         1.50 user         0.26 sys<br>
Algebra/Hom/Equiv/Basic<br>
       10.28 real         9.33 user         4.68 sys<br>
        6.22 real         6.22 user         0.41 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        3.54 real         3.06 user         4.52 sys<br>
        2.27 real         2.01 user         0.27 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        4.78 real         4.19 user         4.93 sys<br>
        2.58 real         2.39 user         0.30 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        2.15 real         1.74 user         3.90 sys<br>
        1.94 real         1.68 user         0.26 sys<br>
Algebra/Hom/Group<br>
       18.70 real        17.53 user         4.54 sys<br>
        6.92 real         7.19 user         0.40 sys<br>
Algebra/Hom/GroupInstances<br>
       12.89 real        12.29 user         4.77 sys<br>
        7.77 real         7.68 user         0.39 sys<br>
Algebra/Hom/Iterate<br>
        7.75 real         7.16 user         7.30 sys<br>
        4.43 real         4.17 user         0.46 sys<br>
Algebra/Hom/Ring<br>
       14.17 real        13.58 user         3.00 sys<br>
        4.43 real         5.30 user         0.39 sys<br>
Algebra/Hom/Units<br>
        7.98 real         7.19 user         4.51 sys<br>
        3.42 real         3.45 user         0.33 sys<br>
Algebra/Homology/ComplexShape<br>
        2.29 real         1.81 user         3.19 sys<br>
        1.72 real         1.57 user         0.23 sys<br>
Algebra/Invertible<br>
        6.07 real         5.48 user         5.72 sys<br>
        3.30 real         3.68 user         0.33 sys<br>
Algebra/Module/Basic<br>
       28.90 real        28.32 user         4.13 sys<br>
        9.87 real        13.52 user         0.66 sys<br>
Algebra/Module/Hom<br>
        8.86 real         8.47 user         7.21 sys<br>
        8.79 real         8.23 user         0.57 sys<br>
Algebra/Module/Pi<br>
        4.54 real         4.20 user         6.69 sys<br>
        5.07 real         4.52 user         0.53 sys<br>
Algebra/Module/Prod<br>
        4.06 real         3.72 user         6.88 sys<br>
        4.17 real         3.67 user         0.48 sys<br>
Algebra/NeZero<br>
        1.99 real         1.55 user         2.77 sys<br>
        0.80 real         0.66 user         0.14 sys<br>
Algebra/Opposites<br>
        3.59 real         2.94 user         3.92 sys<br>
        1.87 real         1.66 user         0.27 sys<br>
Algebra/Order/AbsoluteValue<br>
        9.34 real         8.88 user         5.64 sys<br>
        5.19 real         7.12 user         0.51 sys<br>
Algebra/Order/Archimedean<br>
       45.74 real        45.10 user         7.61 sys<br>
        6.38 real        10.06 user         0.70 sys<br>
Algebra/Order/EuclideanAbsoluteValue<br>
        3.09 real         2.77 user         5.44 sys<br>
        3.42 real         3.02 user         0.41 sys<br>
Algebra/Order/Field/Basic<br>
       25.41 real      <br>
[message truncated]</p>



<a name="320855450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320855450" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320855450">(Jan 12 2023 at 05:02)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> I think you should save the results in a file with a slightly more machine-readable format <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="320855486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320855486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320855486">(Jan 12 2023 at 05:03)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> How hard is it to get compiled tactics working?</p>



<a name="320855593"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320855593" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320855593">(Jan 12 2023 at 05:04)</a>:</h4>
<p>And do you think the <code>mmap</code>ing is a cause of slowdown? Or is it just shifting time from one account to the other?</p>



<a name="320855594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320855594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320855594">(Jan 12 2023 at 05:04)</a>:</h4>
<p>We would have done it already if it was easy</p>



<a name="320855606"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320855606" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320855606">(Jan 12 2023 at 05:04)</a>:</h4>
<p>Fair enough</p>



<a name="320855621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320855621" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320855621">(Jan 12 2023 at 05:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/320855593">said</a>:</p>
<blockquote>
<p>And do you think the <code>mmap</code>ing is a cause of slowdown? Or is it just shifting time from one account to the other?</p>
</blockquote>
<p>It's shifting time</p>



<a name="320855649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320855649" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320855649">(Jan 12 2023 at 05:04)</a>:</h4>
<p>I think it is much faster overall</p>



<a name="320855678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320855678" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320855678">(Jan 12 2023 at 05:05)</a>:</h4>
<p>But is make-compiled-tactics-work a 1-week project or a 1-month project?</p>



<a name="320855680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320855680" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320855680">(Jan 12 2023 at 05:05)</a>:</h4>
<p>because you don't have to read the whole file, you get random access to the oleans</p>



<a name="320855771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320855771" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320855771">(Jan 12 2023 at 05:05)</a>:</h4>
<p>it's a find-someone-to-replace-mac project, since it requires significant lake support and I don't think mac has the time for it</p>



<a name="320884681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320884681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320884681">(Jan 12 2023 at 09:00)</a>:</h4>
<p>Let's call it find-someone-to-support-mac, he's still doing good work on Lake!</p>



<a name="320885182"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320885182" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320885182">(Jan 12 2023 at 09:03)</a>:</h4>
<p>As to interpretation overhead, I managed to make the speed center accumulation script work with Lake:</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="bp">$</span> <span class="n">git</span> <span class="n">diff</span>
<span class="n">diff</span> <span class="c1">--git a/lakefile.lean b/lakefile.lean</span>
<span class="n">index</span> <span class="n">dd85a444..61cd50d1</span> <span class="mi">100644</span>
<span class="c1">--- a/lakefile.lean</span>
<span class="bp">+++</span> <span class="n">b</span><span class="bp">/</span><span class="n">lakefile.lean</span>
<span class="bp">@@</span> <span class="bp">-</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span> <span class="bp">+</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span> <span class="bp">@@</span> <span class="n">package</span> <span class="n">mathlib</span>

 <span class="kd">@[default_target]</span>
 <span class="n">lean_lib</span> <span class="n">Mathlib</span> <span class="n">where</span>
<span class="bp">-</span>  <span class="n">moreLeanArgs</span> <span class="o">:=</span> <span class="bp">#</span><span class="o">[</span><span class="s2">"-DwarningAsError=true"</span><span class="o">,</span> <span class="s2">"-Dpp.unicode.fun=true"</span><span class="o">]</span> <span class="c1">-- pretty-prints `fun a ↦ b`</span>
<span class="bp">+</span>  <span class="n">moreLeanArgs</span> <span class="o">:=</span> <span class="bp">#</span><span class="o">[</span><span class="s2">"-DwarningAsError=true"</span><span class="o">,</span> <span class="s2">"-Dpp.unicode.fun=true"</span><span class="o">,</span> <span class="s2">"--profile"</span><span class="o">,</span> <span class="s2">"-Dprofiler.threshold=9999"</span><span class="o">]</span> <span class="c1">-- pretty-prints `fun a ↦ b`</span>

 <span class="kd">@[default_target]</span>
 <span class="n">lean_exe</span> <span class="n">runLinter</span> <span class="n">where</span>
<span class="bp">$</span> <span class="n">rm</span> <span class="bp">-</span><span class="n">rf</span> <span class="n">build</span><span class="bp">;</span> <span class="n">lake</span> <span class="n">build</span> <span class="bp">-</span><span class="n">v</span> <span class="bp">&gt;|</span> <span class="bp">~/</span><span class="n">lean</span><span class="bp">/</span><span class="n">lean</span><span class="bp">/</span><span class="n">tests</span><span class="bp">/</span><span class="n">bench</span><span class="bp">/</span><span class="n">accumulate_profile.py</span>
<span class="bp">'.</span><span class="n">olean</span> <span class="n">serialization'</span><span class="o">:</span> <span class="mi">17</span><span class="bp">.</span><span class="mi">692080</span>
<span class="bp">'</span><span class="n">C</span> <span class="n">code</span> <span class="n">generation'</span><span class="o">:</span> <span class="mi">1</span><span class="bp">.</span><span class="mi">041027</span>
<span class="bp">'</span><span class="n">compilation'</span><span class="o">:</span> <span class="mi">78</span><span class="bp">.</span><span class="mi">228657</span>
<span class="bp">'</span><span class="n">compilation</span> <span class="n">new'</span><span class="o">:</span> <span class="mi">64</span><span class="bp">.</span><span class="mi">795475</span>
<span class="bp">'</span><span class="n">dsimp'</span><span class="o">:</span> <span class="mi">2</span><span class="bp">.</span><span class="mi">399197</span>
<span class="bp">'</span><span class="n">elaboration'</span><span class="o">:</span> <span class="mi">686</span><span class="bp">.</span><span class="mi">873703</span>
<span class="bp">'</span><span class="kn">import</span><span class="bp">'</span><span class="o">:</span> <span class="mi">175</span><span class="bp">.</span><span class="mi">126300</span>
<span class="bp">'</span><span class="n">initialization'</span><span class="o">:</span> <span class="mi">20</span><span class="bp">.</span><span class="mi">443400</span>
<span class="bp">'</span><span class="n">interpretation'</span><span class="o">:</span> <span class="mi">270</span><span class="bp">.</span><span class="mi">865030</span>
<span class="bp">'</span><span class="n">linting'</span><span class="o">:</span> <span class="mi">18</span><span class="bp">.</span><span class="mi">559766</span>
<span class="bp">'</span><span class="n">norm_num'</span><span class="o">:</span> <span class="mi">0</span><span class="bp">.</span><span class="mi">010827</span>
<span class="bp">'</span><span class="n">parsing'</span><span class="o">:</span> <span class="mi">10</span><span class="bp">.</span><span class="mi">154155</span>
<span class="bp">'</span><span class="n">ring'</span><span class="o">:</span> <span class="mi">7</span><span class="bp">.</span><span class="mi">487910</span>
<span class="bp">'</span><span class="n">simp'</span><span class="o">:</span> <span class="mi">181</span><span class="bp">.</span><span class="mi">417401</span>
<span class="bp">'</span><span class="n">typeclass</span> <span class="n">inference'</span><span class="o">:</span> <span class="mi">532</span><span class="bp">.</span><span class="mi">268527</span>
</code></pre></div>



<a name="320889334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320889334" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320889334">(Jan 12 2023 at 09:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/320764726">said</a>:</p>
<blockquote>
<p>How hard is it too calculate a more optimal assignment of files to threads from that data? And could it be useful to pass such knowledge on to future runs of Lean?</p>
</blockquote>
<p>Scheduling is not an issue here. In the first line you can see the "critical path", i.e. the longest (by compile time) path through the build graph and thus a lower bound on the build time. More parallelism would only help for the few gaps in that line.</p>



<a name="320889760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320889760" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320889760">(Jan 12 2023 at 09:28)</a>:</h4>
<p>You can find the full Nixprof output including critical path and build time simulations here: <a href="https://gist.github.com/Kha/564dcf3461ac8cb5715cda63dbea4f92">https://gist.github.com/Kha/564dcf3461ac8cb5715cda63dbea4f92</a>. See also the README for explanations.</p>



<a name="320890871"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320890871" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastien Gouezel <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320890871">(Jan 12 2023 at 09:34)</a>:</h4>
<p>Do you understand why <code>Mathlib.Algebra.Order.Archimedean</code> is so slow? It looks like a standard 350 lines file, but it takes 10% of the critical path...</p>



<a name="320892327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320892327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320892327">(Jan 12 2023 at 09:42)</a>:</h4>
<p>I haven't looked into any specific files yet</p>



<a name="320910140"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320910140" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320910140">(Jan 12 2023 at 11:08)</a>:</h4>
<p>Looking briefly, it seems like at least <code>exists_mem_Ico_zpow</code>, <code>exists_pow_lt_of_lt_one</code>, <code>exists_rat_lt</code> and <code>exists_rat_btwn</code> are slow</p>



<a name="320910557"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320910557" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320910557">(Jan 12 2023 at 11:10)</a>:</h4>
<p><code>set_option profiler true</code> seems to only log messages about the time typeclass inference took - is there a knob to get more information?</p>



<a name="320915653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320915653" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320915653">(Jan 12 2023 at 11:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/320774468">said</a>:</p>
<blockquote>
<p>Yes, the x axis is compile time, though there is a good amount of overhead from parallel compilation. InjSurj does take 36s for me in isolation.</p>
</blockquote>
<p>Down to 2.4s with <a href="https://github.com/leanprover/lean4/pull/2003">https://github.com/leanprover/lean4/pull/2003</a> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> /cc <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span></p>



<a name="320926222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320926222" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320926222">(Jan 12 2023 at 12:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/320855594">said</a>:</p>
<blockquote>
<p>We would have done it already if it was easy</p>
</blockquote>
<p>For what it's worth... if we agree on a general approach, I'm happy to implement a prototype in the Nix setup. That should be much easier than adjusting Lake and still give representative results for judging the impact.</p>



<a name="320962868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320962868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320962868">(Jan 12 2023 at 15:15)</a>:</h4>
<p>mathlib4 theory files:<br>
      314.18 real      2155.10 user       250.88 sys<br>
corresponding files in mathlib3:<br>
      198.37 real      2478.01 user        44.56 sys<br>
Algebra/Abs<br>
        1.63 real         1.20 user         0.54 sys<br>
        0.57 real         0.46 user         0.11 sys<br>
Algebra/Associated<br>
       19.46 real        18.83 user         8.07 sys<br>
        6.53 real        15.31 user         0.57 sys<br>
Algebra/Bounds<br>
        3.98 real         3.60 user         7.51 sys<br>
        3.29 real         3.03 user         0.37 sys<br>
Algebra/CharZero/Defs<br>
        1.86 real         1.43 user         3.37 sys<br>
        1.29 real         1.17 user         0.20 sys<br>
Algebra/CharZero/Lemmas<br>
        3.87 real         3.65 user         3.97 sys<br>
        3.57 real         3.94 user         0.42 sys<br>
Algebra/CovariantAndContravariant<br>
        2.67 real         2.23 user         4.38 sys<br>
        1.78 real         1.64 user         0.22 sys<br>
Algebra/Divisibility/Basic<br>
        2.98 real         2.58 user         2.87 sys<br>
        1.53 real         1.46 user         0.22 sys<br>
Algebra/Divisibility/Units<br>
        2.57 real         2.13 user         5.17 sys<br>
        1.46 real         1.42 user         0.21 sys<br>
Algebra/EuclideanDomain/Basic<br>
        5.33 real         4.86 user         5.65 sys<br>
        2.47 real         3.26 user         0.29 sys<br>
Algebra/EuclideanDomain/Defs<br>
        2.69 real         2.26 user         4.31 sys<br>
        1.72 real         1.72 user         0.22 sys<br>
Algebra/EuclideanDomain/Instances<br>
        7.39 real         7.04 user         5.15 sys<br>
        2.93 real         2.58 user         0.33 sys<br>
Algebra/Field/Basic<br>
        8.66 real         8.27 user         7.68 sys<br>
        4.16 real         4.69 user         0.36 sys<br>
Algebra/Field/Defs<br>
        3.25 real         2.77 user         4.60 sys<br>
        4.57 real         4.40 user         0.24 sys<br>
Algebra/Field/Opposite<br>
        8.79 real         8.43 user         7.35 sys<br>
        2.78 real         2.49 user         0.31 sys<br>
Algebra/Field/Power<br>
        2.48 real         2.14 user         7.14 sys<br>
        2.76 real         2.45 user         0.36 sys<br>
Algebra/FreeMonoid/Basic<br>
        5.79 real         5.30 user         4.89 sys<br>
        4.26 real         4.04 user         0.36 sys<br>
Algebra/FreeMonoid/Count<br>
        2.91 real         2.45 user         5.65 sys<br>
        2.58 real         2.31 user         0.31 sys<br>
Algebra/GCDMonoid/Basic<br>
       46.65 real        46.15 user         3.56 sys<br>
        0.01 real         0.00 user         0.00 sys<br>
Algebra/Group/Basic<br>
        7.87 real         7.08 user         3.74 sys<br>
        4.84 real         5.02 user         0.31 sys<br>
Algebra/Group/Commutator<br>
        1.57 real         1.23 user         2.57 sys<br>
        1.10 real         0.92 user         0.18 sys<br>
Algebra/Group/Commute<br>
        3.29 real         2.70 user         4.96 sys<br>
        1.75 real         1.60 user         0.24 sys<br>
Algebra/Group/Conj<br>
        4.80 real         4.44 user         8.60 sys<br>
        3.69 real         4.04 user         0.41 sys<br>
Algebra/Group/Defs<br>
        5.53 real         4.82 user         3.13 sys<br>
        5.14 real         5.15 user         0.31 sys<br>
Algebra/Group/Ext<br>
        2.74 real         2.29 user         4.08 sys<br>
        4.83 real         4.91 user         0.27 sys<br>
Algebra/Group/InjSurj<br>
        6.94 real         6.40 user         3.71 sys<br>
        4.78 real         4.67 user         0.32 sys<br>
Algebra/Group/Opposite<br>
       10.08 real         9.44 user         5.39 sys<br>
        6.84 real         6.70 user         0.38 sys<br>
Algebra/Group/OrderSynonym<br>
        3.26 real         2.66 user         4.77 sys<br>
        1.65 real         1.49 user         0.23 sys<br>
Algebra/Group/Pi<br>
        7.17 real         6.67 user         3.86 sys<br>
        7.20 real         7.41 user         0.42 sys<br>
Algebra/Group/Prod<br>
        9.88 real         9.10 user         5.66 sys<br>
        7.69 real         7.71 user         0.41 sys<br>
Algebra/Group/Semiconj<br>
        2.85 real         2.36 user         5.01 sys<br>
        1.68 real         1.54 user         0.21 sys<br>
Algebra/Group/TypeTags<br>
        4.47 real         4.01 user         4.37 sys<br>
        2.53 real         2.37 user         0.25 sys<br>
Algebra/Group/ULift<br>
        5.52 real         5.03 user         4.40 sys<br>
        2.09 real         1.89 user         0.26 sys<br>
Algebra/Group/Units<br>
        6.05 real         5.38 user         3.77 sys<br>
        3.14 real         3.27 user         0.28 sys<br>
Algebra/Group/WithOne/Basic<br>
        3.09 real         2.66 user         5.20 sys<br>
        2.69 real         2.51 user         0.25 sys<br>
Algebra/Group/WithOne/Defs<br>
        4.03 real         3.51 user         5.66 sys<br>
        2.45 real         2.28 user         0.26 sys<br>
Algebra/Group/WithOne/Units<br>
        1.94 real         1.57 user         5.50 sys<br>
        1.89 real         1.64 user         0.25 sys<br>
Algebra/GroupPower/Basic<br>
        7.82 real         7.23 user         5.33 sys<br>
        3.09 real         3.11 user         0.28 sys<br>
Algebra/GroupPower/Identities<br>
       13.66 real        13.29 user         7.90 sys<br>
        3.81 real         3.70 user         0.42 sys<br>
Algebra/GroupPower/Lemmas<br>
       23.40 real        22.71 user         8.28 sys<br>
       11.42 real        17.07 user         0.58 sys<br>
Algebra/GroupPower/Order<br>
       13.82 real        13.33 user         7.62 sys<br>
        5.67 real         7.27 user         0.46 sys<br>
Algebra/GroupPower/Ring<br>
        8.21 real         7.84 user         8.23 sys<br>
        3.12 real         3.81 user         0.35 sys<br>
Algebra/GroupRingAction/Basic<br>
        2.66 real         2.37 user         8.14 sys<br>
        2.96 real         2.62 user         0.36 sys<br>
Algebra/GroupWithZero/Basic<br>
        3.43 real         2.97 user         4.91 sys<br>
        1.95 real         2.46 user         0.24 sys<br>
Algebra/GroupWithZero/Commute<br>
        1.94 real         1.55 user         5.22 sys<br>
        1.45 real         1.28 user         0.21 sys<br>
Algebra/GroupWithZero/Defs<br>
        2.28 real         1.91 user         3.15 sys<br>
        2.17 real         2.07 user         0.21 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        1.98 real         1.60 user         5.42 sys<br>
        1.58 real         1.54 user         0.21 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        3.90 real         3.50 user         3.89 sys<br>
        1.90 real         1.73 user         0.22 sys<br>
Algebra/GroupWithZero/Power<br>
        6.87 real         6.59 user         6.47 sys<br>
        3.65 real         4.30 user         0.41 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        2.09 real         1.63 user         5.94 sys<br>
        1.65 real         1.49 user         0.23 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        3.33 real         2.85 user         4.01 sys<br>
        1.84 real         2.12 user         0.23 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        3.43 real         3.02 user         5.03 sys<br>
        1.97 real         2.15 user         0.26 sys<br>
Algebra/HierarchyDesign<br>
        0.90 real         0.61 user         0.47 sys<br>
        0.53 real         0.42 user         0.10 sys<br>
Algebra/Hom/Aut<br>
        7.16 real         6.82 user         8.50 sys<br>
        6.18 real         5.85 user         0.41 sys<br>
Algebra/Hom/Commute<br>
        1.72 real         1.34 user         4.83 sys<br>
        1.39 real         1.17 user         0.20 sys<br>
Algebra/Hom/Embedding<br>
        1.74 real         1.36 user         4.15 sys<br>
        1.40 real         1.20 user         0.21 sys<br>
Algebra/Hom/Equiv/Basic<br>
        8.26 real         7.51 user         4.87 sys<br>
        5.00 real         5.02 user         0.32 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        2.91 real         2.53 user         4.36 sys<br>
        1.89 real         1.67 user         0.22 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        3.99 real         3.42 user         5.40 sys<br>
        2.17 real         2.01 user         0.25 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        1.91 real         1.51 user         5.75 sys<br>
        1.69 real         1.47 user         0.23 sys<br>
Algebra/Hom/Group<br>
       15.44 real        14.44 user         4.00 sys<br>
        5.49 real         5.71 user         0.34 sys<br>
Algebra/Hom/GroupInstances<br>
       10.46 real         9.94 user         5.59 sys<br>
        5.92 real         5.86 user         0.30 sys<br>
Algebra/Hom/Iterate<br>
        6.10 real         5.75 user         7.43 sys<br>
        3.50 real         3.32 user         0.38 sys<br>
Algebra/Hom/Ring<br>
       11.40 real        10.93 user         6.21 sys<br>
        3.59 real         4.30 user         0.32 sys<br>
Algebra/Hom/Units<br>
        6.35 real         5.73 user         4.91 sys<br>
        2.65 real         2.66 user         0.25 sys<br>
Algebra/Homology/ComplexShape<br>
        1.84 real         1.46 user         4.00 sys<br>
        1.40 real         1.29 user         0.19 sys<br>
Algebra/Invertible<br>
        4.97 real         4.50 user         5.94 sys<br>
        2.59 real         2.89 user         0.26 sys<br>
Algebra/Module/Basic<br>
       22.78 real        22.37 user         7.30 sys<br>
        7.76 real        10.73 user         0.53 sys<br>
Algebra/Module/Hom<br>
        7.50 real         7.23 user         8.28 sys<br>
        6.96 real         6.45 user         0.47 sys<br>
Algebra/Module/Pi<br>
        3.78 real         3.50 user         8.48 sys<br>
        3.94 real         3.50 user         0.43 sys<br>
Algebra/Module/Prod<br>
        3.31 real         3.03 user         8.82 sys<br>
        3.29 real         2.90 user         0.40 sys<br>
Algebra/NeZero<br>
        1.66 real         1.29 user         3.87 sys<br>
        0.63 real         0.54 user         0.11 sys<br>
Algebra/Opposites<br>
        2.82 real         2.32 user         3.61 sys<br>
        1.47 real         1.31 user         0.22 sys<br>
Algebra/Order/AbsoluteValue<br>
        7.58 real         7.22 user         8.97 sys<br>
        3.99 real         5.52 user         0.40 sys<br>
Algebra/Order/Archimedean<br>
       37.34 real        36.97 user         8.47 sys<br>
        4.93 real         8.01 user         0.53 sys<br>
Algebra/Order/EuclideanAbsoluteValue<br>
        2.50 real         2.32 user         3.87 sys<br>
        2.62 real         2.30 user         0.33 sys<br>
Algebra/Order/Field/Basic<br>
       19.73 real      <br>
[message truncated]</p>



<a name="320980542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320980542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320980542">(Jan 12 2023 at 16:31)</a>:</h4>
<blockquote>
<p>Algebra/Hom/Commute<br>
1.72 real 1.34 user 4.83 sys<br>
1.39 real 1.17 user 0.20 sys<br>
Algebra/Module/Pi<br>
3.78 real 3.50 user 8.48 sys<br>
3.94 real 3.50 user 0.43 sys<br>
Algebra/Order/EuclideanAbsoluteValue<br>
2.50 real 2.32 user 3.87 sys<br>
2.62 real 2.30 user 0.33 sys</p>
</blockquote>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> Okay, so I think I can't say that this extra sys time is just a change in accounting. In these examples it is a pure addition to time spent, in some cases (like the first two) it's more than everything else combined. <span class="user-mention" data-user-id="110024">@Sebastian Ullrich</span> any ideas what this could be?</p>



<a name="320998517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/320998517" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#320998517">(Jan 12 2023 at 17:52)</a>:</h4>
<p>How does that even make sense? You shouldn't be able to get user+sys&gt;real without multithreading</p>



<a name="321032744"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321032744" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321032744">(Jan 12 2023 at 20:56)</a>:</h4>
<p>Could we have someone on non-macos and someone on macos try reproducing the <code>Algebra/Module/Commute</code> example Mario quoted?</p>



<a name="321032805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321032805" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321032805">(Jan 12 2023 at 20:56)</a>:</h4>
<p>(Start with a complete build of mathlib3/mathlib4, delete the build artifacts for that file, and then build just that file.)</p>



<a name="321033113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321033113" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321033113">(Jan 12 2023 at 20:58)</a>:</h4>
<p>I appreciate that the port-benchmark-bot should really be reporting the data in a more useful format. I won't have time to do anything on this for at least the next 3 days.</p>



<a name="321033193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321033193" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321033193">(Jan 12 2023 at 20:59)</a>:</h4>
<p>If anyone would like to modify <a href="https://github.com/leanprover-community/mathlib4/pull/1513">mathlib4#1513</a> to produce saner output, I <em>think</em> my bot will pick up changes to that branch automatically.</p>



<a name="321036596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321036596" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321036596">(Jan 12 2023 at 21:21)</a>:</h4>
<p><code>Algebra/Hom/Commute</code>, <code>Algebra/Module/Pi</code> or both?</p>



<a name="321037672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321037672" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321037672">(Jan 12 2023 at 21:28)</a>:</h4>
<p>Re-running:</p>
<p>whole suite:<br>
mathlib4 theory files:<br>
      862.82 real      2479.29 user       249.52 sys<br>
corresponding files in mathlib3:<br>
      615.32 real      2082.49 user        55.79 sys</p>



<a name="321037881"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321037881" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Floris van Doorn <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321037881">(Jan 12 2023 at 21:30)</a>:</h4>
<p>I think I got all Lean 4 artifacts? Here's what I get on Windows</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>Floris@MSI MINGW64 /d/projects/mathlib4 <span class="o">((</span>84db453d...<span class="o">))</span>
$ rm build/ir/Mathlib/Algebra/Module/Pi.* build/lib/Mathlib/Algebra/Module/Pi.* <span class="o">&amp;&amp;</span> <span class="nb">time</span> lake build +Mathlib.Algebra.Module.Pi
warning: manifest out of date: package directory changed, use <span class="sb">`</span>lake update<span class="sb">`</span> to update
Building Mathlib.Algebra.Module.Pi

real    0m5.501s
user    0m0.000s
sys     0m0.031s

Floris@MSI MINGW64 /d/projects/mathlib <span class="o">((</span>9003f28797...<span class="o">))</span>
$ rm src/algebra/module/pi.olean <span class="o">&amp;&amp;</span> <span class="nb">time</span> lean --make src/algebra/module/pi.lean

real    0m5.059s
user    0m0.000s
sys     0m0.031s
</code></pre></div>



<a name="321038095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321038095" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321038095">(Jan 12 2023 at 21:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/321032805">said</a>:</p>
<blockquote>
<p>(Start with a complete build of mathlib3/mathlib4, delete the build artifacts for that file, and then build just that file.)</p>
</blockquote>
<p>You can use <code>lake env time lean Mathlib/Algebra/Hom/Commute.lean</code> to avoid having to delete anything first, which has the added benefit of not profiling Lake as well</p>



<a name="321040010"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321040010" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321040010">(Jan 12 2023 at 21:44)</a>:</h4>
<p>4 = original method, e = <code>lake env time lean</code></p>
<p>whole suite<br>
4         862.82 real    2479.29 user  249.52 sys<br>
3         615.32 real    2082.49 user  55.79 sys<br>
Mathlib.Algebra.Hom.Commute<br>
4         7.90 real         1.74 user         1.89 sys<br>
e         0.96 real         0.70 user         0.24 sys<br>
3         2.16 real         1.39 user         0.34 sys<br>
Mathlib.Algebra.Module.Pi<br>
4        9.17 real         4.34 user         2.13 sys<br>
e        3.22 real         2.84 user         0.36 sys<br>
3        5.36 real         4.20 user         0.68 sys</p>



<a name="321060289"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321060289" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321060289">(Jan 13 2023 at 00:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/321038095">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/321032805">said</a>:</p>
<blockquote>
<p>(Start with a complete build of mathlib3/mathlib4, delete the build artifacts for that file, and then build just that file.)</p>
</blockquote>
<p>You can use <code>lake env time lean Mathlib/Algebra/Hom/Commute.lean</code> to avoid having to delete anything first, which has the added benefit of not profiling Lake as well</p>
</blockquote>
<p>Same thing for Lean 3: <code>time lean -j1 src/algebra/hom/commute.lean</code>.</p>



<a name="321110214"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321110214" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321110214">(Jan 13 2023 at 09:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="542196">Arien Malec</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/321040010">said</a>:</p>
<blockquote>
<p>4 = original method, e = <code>lake env time lean</code></p>
<p>whole suite<br>
4         862.82 real    2479.29 user  249.52 sys<br>
3         615.32 real    2082.49 user  55.79 sys<br>
Mathlib.Algebra.Hom.Commute<br>
4         7.90 real         1.74 user         1.89 sys<br>
e         0.96 real         0.70 user         0.24 sys<br>
3         2.16 real         1.39 user         0.34 sys<br>
Mathlib.Algebra.Module.Pi<br>
4        9.17 real         4.34 user         2.13 sys<br>
e        3.22 real         2.84 user         0.36 sys<br>
3        5.36 real         4.20 user         0.68 sys</p>
</blockquote>
<p>So on a single file Lean 4 is less than Lean 3 sys... except when Lake is involved. But on the whole suite it's much larger, which shouldn't be explainable through Lake since it shouldn't do all that much after constructing the build graph...?</p>



<a name="321113761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321113761" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321113761">(Jan 13 2023 at 09:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110024">Sebastian Ullrich</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/320702083">said</a>:</p>
<blockquote>
<p>Here is a visual trace of a matlib4+dependencies build on the machine from above. Unfortunately I don't have the tooling to repeat that for the mathlib 3 build for comparison. <a href="/user_uploads/3121/J3PJr-BMus35HfHVJMSdgP4o/image.png">image.png</a></p>
</blockquote>
<p>New stripy picture, using <a href="https://github.com/leanprover/lean4/pull/2003">lean4#2003</a> + <a href="https://github.com/leanprover-community/mathlib4/compare/bump2003">https://github.com/leanprover-community/mathlib4/compare/bump2003</a> <a href="/user_uploads/3121/Z8_kuNVimP8NvyYNsAYPCOHN/image.png">image.png</a><br>
A fine 27% speedup</p>
<div class="message_inline_image"><a href="/user_uploads/3121/Z8_kuNVimP8NvyYNsAYPCOHN/image.png" title="image.png"><img src="/user_uploads/3121/Z8_kuNVimP8NvyYNsAYPCOHN/image.png"></a></div>



<a name="321498839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321498839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321498839">(Jan 15 2023 at 15:14)</a>:</h4>
<p>mathlib4 theory files:<br>
      336.53 real      2036.53 user       233.37 sys<br>
corresponding files in mathlib3:<br>
      192.40 real      2403.11 user        39.59 sys<br>
Algebra/Abs<br>
        1.49 real         1.13 user         0.46 sys<br>
        0.61 real         0.44 user         0.11 sys<br>
Algebra/Associated<br>
       18.47 real        17.96 user         7.96 sys<br>
        6.25 real        14.64 user         0.52 sys<br>
Algebra/Bounds<br>
        3.70 real         3.39 user         8.11 sys<br>
        3.20 real         2.98 user         0.33 sys<br>
Algebra/CharZero/Defs<br>
        1.69 real         1.38 user         3.22 sys<br>
        1.24 real         1.13 user         0.18 sys<br>
Algebra/CharZero/Lemmas<br>
        3.79 real         3.55 user         8.45 sys<br>
        3.45 real         3.88 user         0.37 sys<br>
Algebra/CovariantAndContravariant<br>
        2.54 real         2.16 user         3.99 sys<br>
        1.66 real         1.54 user         0.21 sys<br>
Algebra/Divisibility/Basic<br>
        2.73 real         2.41 user         3.26 sys<br>
        1.40 real         1.36 user         0.19 sys<br>
Algebra/Divisibility/Units<br>
        2.42 real         2.05 user         4.29 sys<br>
        1.40 real         1.37 user         0.19 sys<br>
Algebra/EuclideanDomain/Basic<br>
        5.11 real         4.72 user         5.59 sys<br>
        2.36 real         3.18 user         0.26 sys<br>
Algebra/EuclideanDomain/Defs<br>
        2.58 real         2.22 user         3.98 sys<br>
        1.66 real         1.68 user         0.20 sys<br>
Algebra/EuclideanDomain/Instances<br>
        7.21 real         6.91 user         5.90 sys<br>
        2.79 real         2.51 user         0.29 sys<br>
Algebra/Field/Basic<br>
        8.40 real         8.10 user         6.74 sys<br>
        4.10 real         4.63 user         0.33 sys<br>
Algebra/Field/Defs<br>
        3.01 real         2.69 user         3.47 sys<br>
        4.47 real         4.33 user         0.22 sys<br>
Algebra/Field/Opposite<br>
        8.46 real         8.10 user         7.87 sys<br>
        2.42 real         2.18 user         0.26 sys<br>
Algebra/Field/Power<br>
        2.10 real         1.92 user         6.85 sys<br>
        2.63 real         2.36 user         0.31 sys<br>
Algebra/FreeMonoid/Basic<br>
        5.61 real         5.17 user         5.76 sys<br>
        4.08 real         3.91 user         0.33 sys<br>
Algebra/FreeMonoid/Count<br>
        2.68 real         2.38 user         5.21 sys<br>
        2.49 real         2.25 user         0.29 sys<br>
Algebra/GCDMonoid/Basic<br>
       46.37 real        45.88 user         7.53 sys<br>
        0.01 real         0.00 user         0.00 sys<br>
Algebra/Group/Basic<br>
        7.56 real         6.89 user         3.46 sys<br>
        4.67 real         4.85 user         0.29 sys<br>
Algebra/Group/Commutator<br>
        1.48 real         1.21 user         2.77 sys<br>
        1.05 real         0.88 user         0.17 sys<br>
Algebra/Group/Commute<br>
        3.13 real         2.65 user         4.96 sys<br>
        1.67 real         1.54 user         0.21 sys<br>
Algebra/Group/Conj<br>
        4.56 real         4.30 user         8.06 sys<br>
        3.58 real         3.98 user         0.37 sys<br>
Algebra/Group/Defs<br>
        5.22 real         4.65 user         2.69 sys<br>
        4.93 real         4.98 user         0.27 sys<br>
Algebra/Group/Ext<br>
        2.50 real         2.18 user         3.07 sys<br>
        4.68 real         4.73 user         0.24 sys<br>
Algebra/Group/InjSurj<br>
        6.38 real         5.94 user         3.85 sys<br>
        4.46 real         4.40 user         0.28 sys<br>
Algebra/Group/Opposite<br>
        9.63 real         9.13 user         5.18 sys<br>
        6.40 real         6.36 user         0.34 sys<br>
Algebra/Group/OrderSynonym<br>
        3.12 real         2.61 user         4.31 sys<br>
        1.62 real         1.47 user         0.22 sys<br>
Algebra/Group/Pi<br>
        7.08 real         6.61 user         6.68 sys<br>
        7.05 real         7.30 user         0.39 sys<br>
Algebra/Group/Prod<br>
        9.72 real         9.09 user         4.41 sys<br>
        7.36 real         7.38 user         0.40 sys<br>
Algebra/Group/Semiconj<br>
        2.66 real         2.27 user         4.92 sys<br>
        1.68 real         1.54 user         0.21 sys<br>
Algebra/Group/TypeTags<br>
        4.32 real         3.96 user         3.97 sys<br>
        2.47 real         2.32 user         0.23 sys<br>
Algebra/Group/ULift<br>
        5.47 real         5.02 user         4.32 sys<br>
        2.05 real         1.87 user         0.25 sys<br>
Algebra/Group/Units<br>
        5.92 real         5.31 user         4.44 sys<br>
        3.09 real         3.23 user         0.26 sys<br>
Algebra/Group/WithOne/Basic<br>
        2.97 real         2.63 user         4.26 sys<br>
        2.59 real         2.43 user         0.24 sys<br>
Algebra/Group/WithOne/Defs<br>
        3.92 real         3.50 user         4.35 sys<br>
        2.36 real         2.19 user         0.25 sys<br>
Algebra/Group/WithOne/Units<br>
        1.76 real         1.54 user         2.58 sys<br>
        1.84 real         1.62 user         0.23 sys<br>
Algebra/GroupPower/Basic<br>
        7.65 real         7.16 user         5.03 sys<br>
        2.96 real         3.00 user         0.26 sys<br>
Algebra/GroupPower/Identities<br>
       13.16 real        12.85 user         8.47 sys<br>
        3.74 real         3.69 user         0.38 sys<br>
Algebra/GroupPower/Lemmas<br>
       23.02 real        22.45 user         8.82 sys<br>
       11.42 real        17.00 user         0.53 sys<br>
Algebra/GroupPower/Order<br>
       13.24 real        12.85 user         7.57 sys<br>
        5.46 real         7.11 user         0.42 sys<br>
Algebra/GroupPower/Ring<br>
        8.06 real         7.80 user         7.35 sys<br>
        3.11 real         3.72 user         0.33 sys<br>
Algebra/GroupRingAction/Basic<br>
        2.55 real         2.34 user         8.48 sys<br>
        2.92 real         2.61 user         0.33 sys<br>
Algebra/GroupWithZero/Basic<br>
        3.29 real         2.93 user         3.88 sys<br>
        1.86 real         2.40 user         0.22 sys<br>
Algebra/GroupWithZero/Commute<br>
        1.88 real         1.54 user         6.12 sys<br>
        1.42 real         1.26 user         0.20 sys<br>
Algebra/GroupWithZero/Defs<br>
        2.22 real         1.91 user         3.15 sys<br>
        2.12 real         2.03 user         0.19 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        1.90 real         1.57 user         5.32 sys<br>
        1.55 real         1.52 user         0.20 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        3.81 real         3.48 user         3.66 sys<br>
        1.88 real         1.71 user         0.21 sys<br>
Algebra/GroupWithZero/Power<br>
        6.75 real         6.44 user         8.61 sys<br>
        3.37 real         4.09 user         0.36 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        1.81 real         1.49 user         5.82 sys<br>
        1.45 real         1.33 user         0.19 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        3.07 real         2.69 user         5.65 sys<br>
        1.81 real         2.11 user         0.22 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        3.40 real         3.03 user         5.68 sys<br>
        1.95 real         2.13 user         0.26 sys<br>
Algebra/HierarchyDesign<br>
        0.88 real         0.61 user         0.44 sys<br>
        0.52 real         0.42 user         0.10 sys<br>
Algebra/Hom/Aut<br>
        7.11 real         6.87 user         7.44 sys<br>
        6.10 real         5.82 user         0.38 sys<br>
Algebra/Hom/Commute<br>
        1.64 real         1.33 user         5.07 sys<br>
        1.37 real         1.19 user         0.19 sys<br>
Algebra/Hom/Embedding<br>
        1.65 real         1.34 user         4.25 sys<br>
        1.36 real         1.18 user         0.19 sys<br>
Algebra/Hom/Equiv/Basic<br>
        8.02 real         7.39 user         5.10 sys<br>
        4.92 real         4.95 user         0.29 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        2.82 real         2.51 user         3.94 sys<br>
        1.84 real         1.64 user         0.21 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        3.66 real         3.32 user         2.18 sys<br>
        2.06 real         1.92 user         0.23 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        1.77 real         1.47 user         5.06 sys<br>
        1.60 real         1.40 user         0.21 sys<br>
Algebra/Hom/Group<br>
       15.96 real        15.05 user         4.81 sys<br>
        5.37 real         5.60 user         0.32 sys<br>
Algebra/Hom/GroupInstances<br>
       10.24 real         9.82 user         5.56 sys<br>
        5.83 real         5.78 user         0.28 sys<br>
Algebra/Hom/Iterate<br>
        5.97 real         5.69 user         7.69 sys<br>
        3.42 real         3.26 user         0.36 sys<br>
Algebra/Hom/Ring<br>
       11.06 real        10.67 user         6.60 sys<br>
        3.41 real         4.12 user         0.30 sys<br>
Algebra/Hom/Units<br>
        6.27 real         5.73 user         4.92 sys<br>
        2.64 real         2.65 user         0.24 sys<br>
Algebra/Homology/ComplexShape<br>
        1.77 real         1.45 user         3.40 sys<br>
        1.40 real         1.29 user         0.18 sys<br>
Algebra/Invertible<br>
        4.83 real         4.44 user         5.69 sys<br>
        2.55 real         2.88 user         0.25 sys<br>
Algebra/Module/Basic<br>
       22.41 real        22.04 user         8.46 sys<br>
        7.58 real        10.49 user         0.50 sys<br>
Algebra/Module/Hom<br>
        7.12 real         6.90 user         8.39 sys<br>
        6.66 real         6.24 user         0.42 sys<br>
Algebra/Module/Pi<br>
        3.66 real         3.47 user         7.93 sys<br>
        3.82 real         3.44 user         0.39 sys<br>
Algebra/Module/Prod<br>
        3.23 real         3.01 user         8.67 sys<br>
        3.21 real         2.85 user         0.36 sys<br>
Algebra/NeZero<br>
        1.62 real         1.29 user         3.51 sys<br>
        0.62 real         0.53 user         0.11 sys<br>
Algebra/Opposites<br>
        2.71 real         2.30 user         3.46 sys<br>
        1.45 real         1.30 user         0.21 sys<br>
Algebra/Order/AbsoluteValue<br>
        7.39 real         7.13 user         7.66 sys<br>
        3.97 real         5.59 user         0.37 sys<br>
Algebra/Order/Archimedean<br>
       36.04 real        35.77 user         7.69 sys<br>
        4.85 real         7.97 user         0.49 sys<br>
Algebra/Order/EuclideanAbsoluteValue<br>
        2.46 real         2.31 user         6.36 sys<br>
        2.62 real         2.32 user         0.31 sys<br>
Algebra/Order/Field/Basic<br>
       19.43 real      <br>
[message truncated]</p>



<a name="321545100"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321545100" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321545100">(Jan 16 2023 at 00:30)</a>:</h4>
<p>mathlib4 theory files:<br>
      309.67 real      2315.70 user       250.24 sys<br>
corresponding files in mathlib3:<br>
      218.44 real      2706.60 user        43.49 sys<br>
Algebra/Abs<br>
        0.77 real         0.64 user         0.11 sys<br>
        0.57 real         0.44 user         0.10 sys<br>
Algebra/Associated<br>
       16.41 real        15.90 user         0.50 sys<br>
       12.05 real        11.66 user         0.37 sys<br>
Algebra/BigOperators/Multiset/Basic<br>
        8.69 real         8.28 user         0.40 sys<br>
        8.93 real         8.51 user         0.41 sys<br>
Algebra/BigOperators/Multiset/Lemmas<br>
        1.21 real         0.96 user         0.25 sys<br>
        3.74 real         3.36 user         0.37 sys<br>
Algebra/Bounds<br>
        2.54 real         2.24 user         0.29 sys<br>
        3.31 real         2.97 user         0.31 sys<br>
Algebra/CharZero/Defs<br>
        0.81 real         0.63 user         0.17 sys<br>
        1.31 real         1.13 user         0.17 sys<br>
Algebra/CharZero/Lemmas<br>
        2.61 real         2.33 user         0.27 sys<br>
        3.90 real         3.53 user         0.34 sys<br>
Algebra/CovariantAndContravariant<br>
        1.54 real         1.31 user         0.22 sys<br>
        1.71 real         1.52 user         0.19 sys<br>
Algebra/Divisibility/Basic<br>
        1.82 real         1.59 user         0.22 sys<br>
        1.53 real         1.32 user         0.18 sys<br>
Algebra/Divisibility/Units<br>
        1.34 real         1.15 user         0.19 sys<br>
        1.53 real         1.32 user         0.18 sys<br>
Algebra/EuclideanDomain/Basic<br>
        4.06 real         3.79 user         0.26 sys<br>
        3.31 real         3.04 user         0.23 sys<br>
Algebra/EuclideanDomain/Defs<br>
        1.73 real         1.50 user         0.22 sys<br>
        2.06 real         1.85 user         0.20 sys<br>
Algebra/EuclideanDomain/Instances<br>
        6.46 real         6.22 user         0.22 sys<br>
        2.91 real         2.61 user         0.29 sys<br>
Algebra/Field/Basic<br>
        7.20 real         6.90 user         0.28 sys<br>
        4.91 real         4.62 user         0.28 sys<br>
Algebra/Field/Defs<br>
        2.06 real         1.85 user         0.20 sys<br>
        3.80 real         3.59 user         0.20 sys<br>
Algebra/Field/Opposite<br>
        7.33 real         7.09 user         0.22 sys<br>
        2.54 real         2.29 user         0.25 sys<br>
Algebra/Field/Power<br>
        1.05 real         0.81 user         0.22 sys<br>
        2.72 real         2.40 user         0.31 sys<br>
Algebra/FreeMonoid/Basic<br>
        4.51 real         4.16 user         0.34 sys<br>
        4.55 real         4.24 user         0.31 sys<br>
Algebra/FreeMonoid/Count<br>
        1.72 real         1.49 user         0.22 sys<br>
        2.63 real         2.32 user         0.29 sys<br>
Algebra/GCDMonoid/Basic<br>
       42.86 real        42.32 user         0.52 sys<br>
&lt;unknown&gt;:1:1: error: file 'src/algebra/gcdmonoid/basic.lean' not found<br>
        0.01 real         0.00 user         0.00 sys<br>
Algebra/Group/Basic<br>
        6.45 real         5.89 user         0.55 sys<br>
        4.76 real         4.57 user         0.20 sys<br>
Algebra/Group/Commutator<br>
        0.66 real         0.48 user         0.17 sys<br>
        1.10 real         0.91 user         0.16 sys<br>
Algebra/Group/Commute<br>
        2.17 real         1.82 user         0.34 sys<br>
        1.69 real         1.51 user         0.18 sys<br>
Algebra/Group/Conj<br>
        3.31 real         3.02 user         0.28 sys<br>
        4.08 real         3.73 user         0.34 sys<br>
Algebra/Group/Defs<br>
        4.46 real         3.97 user         0.49 sys<br>
        5.12 real         4.89 user         0.20 sys<br>
Algebra/Group/Ext<br>
        1.65 real         1.42 user         0.22 sys<br>
        4.89 real         4.67 user         0.21 sys<br>
Algebra/Group/InjSurj<br>
        5.26 real         4.97 user         0.28 sys<br>
        4.58 real         4.38 user         0.21 sys<br>
Algebra/Group/Opposite<br>
        8.17 real         7.80 user         0.36 sys<br>
        6.55 real         6.30 user         0.25 sys<br>
Algebra/Group/OrderSynonym<br>
        2.22 real         1.82 user         0.39 sys<br>
        1.63 real         1.44 user         0.18 sys<br>
Algebra/Group/Pi<br>
        5.76 real         5.31 user         0.43 sys<br>
        7.48 real         7.20 user         0.30 sys<br>
Algebra/Group/Prod<br>
        8.52 real         7.96 user         0.55 sys<br>
        7.70 real         7.47 user         0.27 sys<br>
Algebra/Group/Semiconj<br>
        1.67 real         1.41 user         0.25 sys<br>
        1.67 real         1.49 user         0.18 sys<br>
Algebra/Group/TypeTags<br>
        3.20 real         2.95 user         0.24 sys<br>
        2.54 real         2.30 user         0.20 sys<br>
Algebra/Group/ULift<br>
        4.38 real         4.09 user         0.28 sys<br>
        2.09 real         1.87 user         0.21 sys<br>
Algebra/Group/Units<br>
        4.92 real         4.43 user         0.49 sys<br>
        3.34 real         3.13 user         0.20 sys<br>
Algebra/Group/WithOne/Basic<br>
        2.10 real         1.84 user         0.26 sys<br>
        2.83 real         2.56 user         0.26 sys<br>
Algebra/Group/WithOne/Defs<br>
        2.96 real         2.64 user         0.32 sys<br>
        2.61 real         2.35 user         0.23 sys<br>
Algebra/Group/WithOne/Units<br>
        0.96 real         0.74 user         0.21 sys<br>
        2.05 real         1.78 user         0.26 sys<br>
Algebra/GroupPower/Basic<br>
        6.53 real         6.11 user         0.41 sys<br>
        3.34 real         3.10 user         0.23 sys<br>
Algebra/GroupPower/Identities<br>
       12.16 real        11.82 user         0.33 sys<br>
        4.37 real         3.95 user         0.41 sys<br>
Algebra/GroupPower/Lemmas<br>
       21.18 real        20.54 user         0.63 sys<br>
       18.65 real        18.24 user         0.45 sys<br>
Algebra/GroupPower/Order<br>
       13.01 real        12.49 user         0.50 sys<br>
        8.29 real         7.89 user         0.41 sys<br>
Algebra/GroupPower/Ring<br>
        7.37 real         7.02 user         0.33 sys<br>
        4.61 real         4.25 user         0.36 sys<br>
Algebra/GroupRingAction/Basic<br>
        1.67 real         1.37 user         0.29 sys<br>
        3.50 real         3.09 user         0.39 sys<br>
Algebra/GroupWithZero/Basic<br>
        2.66 real         2.38 user         0.28 sys<br>
        2.82 real         2.59 user         0.23 sys<br>
Algebra/GroupWithZero/Commute<br>
        1.10 real         0.85 user         0.24 sys<br>
        1.69 real         1.46 user         0.22 sys<br>
Algebra/GroupWithZero/Defs<br>
        1.50 real         1.27 user         0.22 sys<br>
        2.58 real         2.36 user         0.21 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        1.13 real         0.88 user         0.23 sys<br>
        2.04 real         1.79 user         0.23 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        3.19 real         2.94 user         0.24 sys<br>
        2.27 real         2.03 user         0.23 sys<br>
Algebra/GroupWithZero/Power<br>
        6.05 real         5.70 user         0.34 sys<br>
        5.07 real         4.64 user         0.43 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        1.02 real         0.78 user         0.23 sys<br>
        1.75 real         1.53 user         0.22 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        2.42 real         2.11 user         0.30 sys<br>
        2.44 real         2.20 user         0.23 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        2.54 real         2.25 user         0.28 sys<br>
        2.76 real         2.42 user         0.29 sys<br>
Algebra/HierarchyDesign<br>
        0.25 real         0.18 user         0.06 sys<br>
        0.63 real         0.50 user         0.12 sys<br>
Algebra/Hom/Aut<br>
        6.14 real         5.78 user         0.35 sys<br>
        7.21 real         6.76 user         0.44 sys<br>
Algebra/Hom/Commute<br>
        0.79 real         0.58 user         0.19 sys<br>
        1.48 real         1.26 user         0.21 sys<br>
Algebra/Hom/Embedding<br>
        0.85 real         0.64 user         0.20 sys<br>
        1.81 real         1.54 user         0.26 sys<br>
Algebra/Hom/Equiv/Basic<br>
        7.91 real         7.29 user         0.61 sys<br>
        6.13 real         5.86 user         0.27 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        2.18 real         1.94 user         0.23 sys<br>
        2.21 real         1.97 user         0.24 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        3.22 real         2.88 user         0.33 sys<br>
        2.50 real         2.25 user         0.25 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        0.95 real         0.72 user         0.22 sys<br>
        1.90 real         1.65 user         0.24 sys<br>
Algebra/Hom/Group<br>
       15.97 real        15.09 user         0.87 sys<br>
        6.87 real         6.61 user         0.27 sys<br>
Algebra/Hom/GroupInstances<br>
       10.49 real        10.14 user         0.34 sys<br>
        7.26 real         6.91 user         0.34 sys<br>
Algebra/Hom/Iterate<br>
        5.51 real         5.10 user         0.39 sys<br>
        4.39 real         3.96 user         0.42 sys<br>
Algebra/Hom/Ring<br>
       11.26 real        10.78 user         0.47 sys<br>
        5.06 real         4.73 user         0.32 sys<br>
Algebra/Hom/Units<br>
        6.14 real         5.62 user         0.51 sys<br>
        3.42 real         3.16 user         0.26 sys<br>
Algebra/Homology/ComplexShape<br>
        1.09 real         0.84 user         0.23 sys<br>
        1.73 real         1.51 user         0.21 sys<br>
Algebra/Invertible<br>
        4.44 real         4.11 user         0.32 sys<br>
        3.83 real         3.54 user         0.28 sys<br>
Algebra/Module/Basic<br>
       25.76 real        25.19 user         0.56 sys<br>
       13.16 real        12.59 user         0.55 sys<br>
Algebra/Module/Hom<br>
        7.18 real         6.83 user         0.33 sys<br>
        8.82 real         8.27 user         0.53 sys<br>
Algebra/Module/Pi<br>
        3.18 real         2.84 user         0.33 sys<br>
        4.89 real         4.41 user         0.47 sys<br>
Algebra/Module/PointwisePi<br>
        1.91 real         1.58 user         0.32 sys<br>
        4.82 real         4.33 user         0.49 sys<br>
Algebra/Module/Prod<br>
        2.59 real         2.26 user         0.31 sys<br>
        4.15 real         3.71 user         0.44 sys<br>
Algebra/NeZero<br>
        0.89 real         0.67 user         0.20 sys<br>
        0.77 real         0.64 user         0.12 sys<br>
Algebra/Opposites<br>
        2.27 real         1.90 user         0.36 sys<br>
        1.78 real    <br>
[message truncated]</p>



<a name="321546432"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321546432" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321546432">(Jan 16 2023 at 00:47)</a>:</h4>
<p>Okay, the port benchmark bot now uses the suggestions above, so for the per-file timing it is not profiling lake or doing whatever work <code>lean --make</code> has to do. It just recompiles the target file.</p>



<a name="321546715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321546715" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Rodriguez <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321546715">(Jan 16 2023 at 00:50)</a>:</h4>
<p>btw, in the above:</p>
<blockquote>
<p>&lt;unknown&gt;:1:1: error: file 'src/algebra/gcdmonoid/basic.lean' not found</p>
</blockquote>



<a name="321547007"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321547007" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321547007">(Jan 16 2023 at 00:54)</a>:</h4>
<p>The algorithm this script uses for converting between snake_case and CamelCase is very simple... It's going to get caught out.</p>



<a name="321547044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321547044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321547044">(Jan 16 2023 at 00:54)</a>:</h4>
<p>Just <code>sed -e 's/\([a-z]\)\([A-Z]\)/\1_\2/'g | tr [:upper:] [:lower:]</code>.</p>



<a name="321547203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321547203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321547203">(Jan 16 2023 at 00:56)</a>:</h4>
<p>Does it have access to the mathlib4 files themselves? they have the corresponding lean 3 module names in them</p>



<a name="321549296"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321549296" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321549296">(Jan 16 2023 at 01:24)</a>:</h4>
<p>Yes, this is a script running in <code>scripts/benchmark.sh</code>. It's being updated in <a href="https://github.com/leanprover-community/mathlib4/pull/1513">mathlib4#1513</a>.</p>



<a name="321549640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321549640" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321549640">(Jan 16 2023 at 01:29)</a>:</h4>
<p>I'll try something like <code>s=$(grep "! This file was ported from Lean 3 source module" &lt; Mathlib/$t.lean | awk '{ print $NF }')</code>.</p>



<a name="321570830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321570830" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321570830">(Jan 16 2023 at 06:35)</a>:</h4>
<p>mathlib4 theory files:<br>
      357.03 real      2711.56 user       297.09 sys<br>
corresponding files in mathlib3:<br>
        4.52 real         3.76 user         0.74 sys<br>
Algebra/Abs<br>
        0.89 real         0.73 user         0.15 sys<br>
        0.66 real         0.53 user         0.13 sys<br>
Algebra/Associated<br>
       18.84 real        18.19 user         0.64 sys<br>
       15.32 real        14.86 user         0.45 sys<br>
Algebra/BigOperators/Multiset/Basic<br>
        9.93 real         9.41 user         0.51 sys<br>
       10.24 real         9.73 user         0.50 sys<br>
Algebra/BigOperators/Multiset/Lemmas<br>
        1.40 real         1.08 user         0.31 sys<br>
        4.29 real         3.73 user         0.51 sys<br>
Algebra/Bounds<br>
        3.11 real         2.70 user         0.40 sys<br>
        3.82 real         3.43 user         0.39 sys<br>
Algebra/CharZero/Defs<br>
        0.95 real         0.73 user         0.21 sys<br>
        1.51 real         1.29 user         0.21 sys<br>
Algebra/CharZero/Lemmas<br>
        3.11 real         2.77 user         0.33 sys<br>
        4.64 real         4.19 user         0.43 sys<br>
Algebra/CovariantAndContravariant<br>
        1.87 real         1.57 user         0.29 sys<br>
        2.10 real         1.85 user         0.24 sys<br>
Algebra/Divisibility/Basic<br>
        2.08 real         1.82 user         0.25 sys<br>
        1.76 real         1.54 user         0.21 sys<br>
Algebra/Divisibility/Units<br>
        1.68 real         1.42 user         0.25 sys<br>
        1.80 real         1.57 user         0.22 sys<br>
Algebra/EuclideanDomain/Basic<br>
        4.63 real         4.31 user         0.31 sys<br>
        3.74 real         3.47 user         0.26 sys<br>
Algebra/EuclideanDomain/Defs<br>
        1.91 real         1.65 user         0.25 sys<br>
        2.18 real         1.93 user         0.24 sys<br>
Algebra/EuclideanDomain/Instances<br>
        7.36 real         7.10 user         0.26 sys<br>
        3.50 real         3.10 user         0.36 sys<br>
Algebra/Field/Basic<br>
        8.54 real         8.16 user         0.37 sys<br>
        5.92 real         5.54 user         0.37 sys<br>
Algebra/Field/Defs<br>
        2.49 real         2.22 user         0.25 sys<br>
        4.62 real         4.32 user         0.28 sys<br>
Algebra/Field/Opposite<br>
        8.64 real         8.33 user         0.30 sys<br>
        3.17 real         2.81 user         0.33 sys<br>
Algebra/Field/Power<br>
        1.28 real         0.98 user         0.29 sys<br>
        3.40 real         2.97 user         0.41 sys<br>
Algebra/FreeMonoid/Basic<br>
        5.48 real         5.01 user         0.44 sys<br>
        5.29 real         4.89 user         0.39 sys<br>
Algebra/FreeMonoid/Count<br>
        1.94 real         1.67 user         0.25 sys<br>
        2.99 real         2.63 user         0.35 sys<br>
Algebra/GCDMonoid/Basic<br>
       50.61 real        49.89 user         0.70 sys<br>
       15.38 real        14.89 user         0.48 sys<br>
Algebra/Group/Basic<br>
        8.06 real         7.34 user         0.71 sys<br>
        6.42 real         6.14 user         0.27 sys<br>
Algebra/Group/Commutator<br>
        0.84 real         0.61 user         0.21 sys<br>
        1.30 real         1.09 user         0.20 sys<br>
Algebra/Group/Commute<br>
        2.64 real         2.21 user         0.42 sys<br>
        2.21 real         1.97 user         0.23 sys<br>
Algebra/Group/Conj<br>
        4.28 real         3.87 user         0.40 sys<br>
        5.27 real         4.78 user         0.47 sys<br>
Algebra/Group/Defs<br>
        5.36 real         4.74 user         0.61 sys<br>
        6.54 real         6.25 user         0.28 sys<br>
Algebra/Group/Ext<br>
        2.10 real         1.80 user         0.29 sys<br>
        6.21 real         5.93 user         0.30 sys<br>
Algebra/Group/InjSurj<br>
        6.52 real         6.11 user         0.40 sys<br>
        5.80 real         5.52 user         0.29 sys<br>
Algebra/Group/Opposite<br>
       10.27 real         9.74 user         0.52 sys<br>
        8.55 real         8.22 user         0.35 sys<br>
Algebra/Group/OrderSynonym<br>
        2.92 real         2.39 user         0.51 sys<br>
        2.12 real         1.86 user         0.26 sys<br>
Algebra/Group/Pi<br>
        7.11 real         6.51 user         0.59 sys<br>
        9.45 real         9.07 user         0.39 sys<br>
Algebra/Group/Prod<br>
       10.52 real         9.78 user         0.72 sys<br>
        9.99 real         9.60 user         0.40 sys<br>
Algebra/Group/Semiconj<br>
        2.15 real         1.80 user         0.35 sys<br>
        2.15 real         1.91 user         0.24 sys<br>
Algebra/Group/TypeTags<br>
        4.05 real         3.72 user         0.32 sys<br>
        3.21 real         2.94 user         0.25 sys<br>
Algebra/Group/ULift<br>
        5.32 real         4.96 user         0.34 sys<br>
        2.57 real         2.29 user         0.27 sys<br>
Algebra/Group/Units<br>
        6.00 real         5.38 user         0.60 sys<br>
        4.18 real         3.92 user         0.26 sys<br>
Algebra/Group/WithOne/Basic<br>
        2.51 real         2.19 user         0.31 sys<br>
        3.45 real         3.14 user         0.29 sys<br>
Algebra/Group/WithOne/Defs<br>
        3.59 real         3.19 user         0.39 sys<br>
        3.09 real         2.81 user         0.28 sys<br>
Algebra/Group/WithOne/Units<br>
        1.15 real         0.88 user         0.25 sys<br>
        2.29 real         2.00 user         0.28 sys<br>
Algebra/GroupPower/Basic<br>
        7.84 real         7.32 user         0.51 sys<br>
        4.12 real         3.82 user         0.30 sys<br>
Algebra/GroupPower/Identities<br>
       14.55 real        14.11 user         0.42 sys<br>
        5.22 real         4.68 user         0.53 sys<br>
Algebra/GroupPower/Lemmas<br>
       25.47 real        24.66 user         0.79 sys<br>
       21.09 real        20.59 user         0.52 sys<br>
Algebra/GroupPower/Order<br>
       14.57 real        13.97 user         0.59 sys<br>
        8.96 real         8.49 user         0.47 sys<br>
Algebra/GroupPower/Ring<br>
        8.16 real         7.78 user         0.37 sys<br>
        5.04 real         4.63 user         0.39 sys<br>
Algebra/GroupRingAction/Basic<br>
        1.82 real         1.47 user         0.32 sys<br>
        3.65 real         3.20 user         0.41 sys<br>
Algebra/GroupWithZero/Basic<br>
        2.83 real         2.51 user         0.31 sys<br>
        3.03 real         2.78 user         0.24 sys<br>
Algebra/GroupWithZero/Commute<br>
        1.21 real         0.93 user         0.27 sys<br>
        1.87 real         1.60 user         0.25 sys<br>
Algebra/GroupWithZero/Defs<br>
        1.67 real         1.41 user         0.25 sys<br>
        2.85 real         2.60 user         0.24 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        1.19 real         0.93 user         0.25 sys<br>
        2.11 real         1.86 user         0.25 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        3.56 real         3.27 user         0.28 sys<br>
        2.37 real         2.12 user         0.24 sys<br>
Algebra/GroupWithZero/Power<br>
        6.57 real         6.17 user         0.39 sys<br>
        5.13 real         4.69 user         0.43 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        1.10 real         0.84 user         0.26 sys<br>
        1.86 real         1.60 user         0.25 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        2.61 real         2.26 user         0.34 sys<br>
        2.86 real         2.56 user         0.28 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        2.79 real         2.48 user         0.30 sys<br>
        2.72 real         2.41 user         0.29 sys<br>
Algebra/HierarchyDesign<br>
        0.24 real         0.17 user         0.06 sys<br>
        0.64 real         0.50 user         0.13 sys<br>
Algebra/Hom/Aut<br>
        6.81 real         6.41 user         0.39 sys<br>
        7.84 real         7.35 user         0.48 sys<br>
Algebra/Hom/Commute<br>
        0.88 real         0.65 user         0.22 sys<br>
        1.69 real         1.44 user         0.24 sys<br>
Algebra/Hom/Embedding<br>
        0.93 real         0.69 user         0.22 sys<br>
        1.76 real         1.48 user         0.25 sys<br>
Algebra/Hom/Equiv/Basic<br>
        8.67 real         7.96 user         0.70 sys<br>
        6.87 real         6.56 user         0.32 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        2.38 real         2.10 user         0.27 sys<br>
        2.36 real         2.08 user         0.27 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        3.39 real         3.01 user         0.38 sys<br>
        2.74 real         2.44 user         0.29 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        1.03 real         0.77 user         0.25 sys<br>
        2.11 real         1.81 user         0.29 sys<br>
Algebra/Hom/Group<br>
       16.57 real        15.58 user         0.97 sys<br>
        7.13 real         6.85 user         0.29 sys<br>
Algebra/Hom/GroupInstances<br>
       10.29 real         9.94 user         0.33 sys<br>
        7.46 real         7.14 user         0.32 sys<br>
Algebra/Hom/Iterate<br>
        5.40 real         4.99 user         0.40 sys<br>
        4.42 real         3.97 user         0.43 sys<br>
Algebra/Hom/Ring<br>
       10.99 real        10.52 user         0.45 sys<br>
        5.05 real         4.75 user         0.30 sys<br>
Algebra/Hom/Units<br>
        6.01 real         5.50 user         0.50 sys<br>
        3.43 real         3.19 user         0.24 sys<br>
Algebra/Homology/ComplexShape<br>
        1.06 real         0.83 user         0.22 sys<br>
        1.73 real         1.50 user         0.20 sys<br>
Algebra/Invertible<br>
        4.26 real         3.93 user         0.31 sys<br>
        3.50 real         3.22 user         0.27 sys<br>
Algebra/Module/Basic<br>
       23.35 real        22.82 user         0.51 sys<br>
       12.58 real        12.02 user         0.52 sys<br>
Algebra/Module/Hom<br>
        6.62 real         6.31 user         0.30 sys<br>
        8.51 real         7.97 user         0.51 sys<br>
Algebra/Module/Pi<br>
        2.96 real         2.64 user         0.30 sys<br>
        4.66 real         4.16 user         0.47 sys<br>
Algebra/Module/PointwisePi<br>
        1.79 real         1.48 user         0.30 sys<br>
        4.76 real         4.25 user         0.49 sys<br>
Algebra/Module/Prod<br>
        2.41 real         2.12 user         0.27 sys<br>
        3.80 real         3.36 user         0.43 sys<br>
Algebra/NeZero<br>
        0.86 real         0.65 user         0.20 sys<br>
        0.75 real         0.62 user         0.12 sys<br>
Algebra/Opposites<br>
        2.10 real         1.75 user         0.34 sys<br>
        1.73 real         1.50 user         0.22 sys<br>
Algebra/Order/AbsoluteValue<br>
        6.77<br>
[message truncated]</p>



<a name="321575550"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321575550" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321575550">(Jan 16 2023 at 07:21)</a>:</h4>
<p>4.52 real looks unrealistic. What happened?</p>



<a name="321594762"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321594762" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321594762">(Jan 16 2023 at 09:28)</a>:</h4>
<p>Oh, I know. Fix coming up.</p>



<a name="321609730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321609730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321609730">(Jan 16 2023 at 10:48)</a>:</h4>
<p>mathlib4 theory files:<br>
      333.11 real      2255.50 user       274.89 sys<br>
corresponding files in mathlib3:<br>
      202.70 real      2683.50 user        44.64 sys<br>
Algebra/Abs<br>
        0.75 real         0.62 user         0.11 sys<br>
        0.54 real         0.43 user         0.10 sys<br>
Algebra/Associated<br>
       15.88 real        15.37 user         0.49 sys<br>
       11.83 real        11.42 user         0.38 sys<br>
Algebra/BigOperators/Multiset/Basic<br>
        8.70 real         8.27 user         0.42 sys<br>
        8.71 real         8.27 user         0.42 sys<br>
Algebra/BigOperators/Multiset/Lemmas<br>
        1.17 real         0.92 user         0.24 sys<br>
        3.61 real         3.23 user         0.37 sys<br>
Algebra/Bounds<br>
        2.50 real         2.19 user         0.30 sys<br>
        3.26 real         2.93 user         0.31 sys<br>
Algebra/CharZero/Defs<br>
        0.82 real         0.63 user         0.18 sys<br>
        1.31 real         1.12 user         0.18 sys<br>
Algebra/CharZero/Lemmas<br>
        2.57 real         2.29 user         0.27 sys<br>
        4.00 real         3.54 user         0.36 sys<br>
Algebra/CovariantAndContravariant<br>
        1.55 real         1.31 user         0.23 sys<br>
        1.68 real         1.48 user         0.19 sys<br>
Algebra/Divisibility/Basic<br>
        1.76 real         1.54 user         0.20 sys<br>
        1.48 real         1.29 user         0.18 sys<br>
Algebra/Divisibility/Units<br>
        1.35 real         1.14 user         0.19 sys<br>
        1.53 real         1.33 user         0.18 sys<br>
Algebra/EuclideanDomain/Basic<br>
        3.94 real         3.66 user         0.27 sys<br>
        3.04 real         2.81 user         0.22 sys<br>
Algebra/EuclideanDomain/Defs<br>
        1.59 real         1.38 user         0.20 sys<br>
        1.82 real         1.61 user         0.20 sys<br>
Algebra/EuclideanDomain/Instances<br>
        6.02 real         5.80 user         0.20 sys<br>
        2.86 real         2.56 user         0.29 sys<br>
Algebra/Field/Basic<br>
        6.86 real         6.57 user         0.28 sys<br>
        4.59 real         4.30 user         0.28 sys<br>
Algebra/Field/Defs<br>
        2.02 real         1.81 user         0.20 sys<br>
        3.67 real         3.45 user         0.20 sys<br>
Algebra/Field/Opposite<br>
        7.11 real         6.87 user         0.22 sys<br>
        2.52 real         2.24 user         0.25 sys<br>
Algebra/Field/Power<br>
        1.03 real         0.79 user         0.23 sys<br>
        2.69 real         2.36 user         0.32 sys<br>
Algebra/FreeMonoid/Basic<br>
        4.39 real         4.05 user         0.33 sys<br>
        4.14 real         3.83 user         0.30 sys<br>
Algebra/FreeMonoid/Count<br>
        1.60 real         1.38 user         0.21 sys<br>
        2.50 real         2.21 user         0.28 sys<br>
Algebra/GCDMonoid/Basic<br>
       41.61 real        41.12 user         0.48 sys<br>
       11.79 real        11.38 user         0.38 sys<br>
Algebra/Group/Basic<br>
        6.32 real         5.77 user         0.54 sys<br>
        4.72 real         4.52 user         0.20 sys<br>
Algebra/Group/Commutator<br>
        0.64 real         0.47 user         0.17 sys<br>
        1.15 real         0.89 user         0.16 sys<br>
Algebra/Group/Commute<br>
        2.11 real         1.77 user         0.32 sys<br>
        1.68 real         1.49 user         0.19 sys<br>
Algebra/Group/Conj<br>
        3.30 real         3.00 user         0.29 sys<br>
        4.09 real         3.70 user         0.36 sys<br>
Algebra/Group/Defs<br>
        4.22 real         3.75 user         0.46 sys<br>
        4.97 real         4.76 user         0.20 sys<br>
Algebra/Group/Ext<br>
        1.64 real         1.39 user         0.22 sys<br>
        4.71 real         4.47 user         0.22 sys<br>
Algebra/Group/InjSurj<br>
        5.11 real         4.82 user         0.28 sys<br>
        4.52 real         4.23 user         0.22 sys<br>
Algebra/Group/Opposite<br>
        8.10 real         7.73 user         0.36 sys<br>
        6.39 real         6.15 user         0.26 sys<br>
Algebra/Group/OrderSynonym<br>
        2.22 real         1.82 user         0.39 sys<br>
        1.62 real         1.42 user         0.19 sys<br>
Algebra/Group/Pi<br>
        5.63 real         5.19 user         0.43 sys<br>
        7.26 real         6.93 user         0.30 sys<br>
Algebra/Group/Prod<br>
        8.17 real         7.64 user         0.52 sys<br>
        7.41 real         7.15 user         0.28 sys<br>
Algebra/Group/Semiconj<br>
        1.67 real         1.41 user         0.26 sys<br>
        1.71 real         1.52 user         0.19 sys<br>
Algebra/Group/TypeTags<br>
        3.20 real         2.94 user         0.24 sys<br>
        2.67 real         2.45 user         0.21 sys<br>
Algebra/Group/ULift<br>
        4.23 real         3.95 user         0.27 sys<br>
        2.06 real         1.84 user         0.22 sys<br>
Algebra/Group/Units<br>
        4.81 real         4.33 user         0.46 sys<br>
        3.26 real         3.05 user         0.21 sys<br>
Algebra/Group/WithOne/Basic<br>
        1.96 real         1.71 user         0.24 sys<br>
        2.66 real         2.42 user         0.23 sys<br>
Algebra/Group/WithOne/Defs<br>
        2.80 real         2.49 user         0.29 sys<br>
        2.37 real         2.12 user         0.22 sys<br>
Algebra/Group/WithOne/Units<br>
        0.88 real         0.68 user         0.19 sys<br>
        1.85 real         1.61 user         0.22 sys<br>
Algebra/GroupPower/Basic<br>
        6.17 real         5.78 user         0.38 sys<br>
        3.04 real         2.82 user         0.21 sys<br>
Algebra/GroupPower/Identities<br>
       11.49 real        11.18 user         0.31 sys<br>
        4.00 real         3.60 user         0.38 sys<br>
Algebra/GroupPower/Lemmas<br>
       20.15 real        19.56 user         0.58 sys<br>
       15.39 real        15.01 user         0.38 sys<br>
Algebra/GroupPower/Order<br>
       11.12 real        10.70 user         0.42 sys<br>
        6.61 real         6.26 user         0.34 sys<br>
Algebra/GroupPower/Ring<br>
        6.36 real         6.07 user         0.28 sys<br>
        3.73 real         3.41 user         0.30 sys<br>
Algebra/GroupRingAction/Basic<br>
        1.39 real         1.13 user         0.24 sys<br>
        2.92 real         2.58 user         0.33 sys<br>
Algebra/GroupWithZero/Basic<br>
        2.27 real         2.01 user         0.23 sys<br>
        2.36 real         2.14 user         0.19 sys<br>
Algebra/GroupWithZero/Commute<br>
        0.89 real         0.69 user         0.19 sys<br>
        1.44 real         1.25 user         0.19 sys<br>
Algebra/GroupWithZero/Defs<br>
        1.35 real         1.10 user         0.20 sys<br>
        2.29 real         2.09 user         0.19 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        0.95 real         0.74 user         0.20 sys<br>
        1.74 real         1.51 user         0.20 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        2.79 real         2.56 user         0.20 sys<br>
        1.86 real         1.67 user         0.19 sys<br>
Algebra/GroupWithZero/Power<br>
        5.14 real         4.85 user         0.28 sys<br>
        4.12 real         3.76 user         0.34 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        0.94 real         0.72 user         0.21 sys<br>
        1.69 real         1.44 user         0.21 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        2.18 real         1.90 user         0.27 sys<br>
        2.13 real         1.93 user         0.19 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        2.28 real         2.03 user         0.24 sys<br>
        2.18 real         1.95 user         0.22 sys<br>
Algebra/HierarchyDesign<br>
        0.19 real         0.13 user         0.04 sys<br>
        0.52 real         0.42 user         0.10 sys<br>
Algebra/Hom/Aut<br>
        5.47 real         5.17 user         0.29 sys<br>
        6.10 real         5.74 user         0.36 sys<br>
Algebra/Hom/Commute<br>
        0.74 real         0.55 user         0.18 sys<br>
        1.38 real         1.16 user         0.19 sys<br>
Algebra/Hom/Embedding<br>
        0.75 real         0.56 user         0.18 sys<br>
        1.36 real         1.17 user         0.19 sys<br>
Algebra/Hom/Equiv/Basic<br>
        6.63 real         6.14 user         0.47 sys<br>
        5.20 real         4.97 user         0.24 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        1.85 real         1.65 user         0.19 sys<br>
        1.81 real         1.60 user         0.20 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        2.62 real         2.34 user         0.27 sys<br>
        2.13 real         1.86 user         0.21 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        0.81 real         0.61 user         0.19 sys<br>
        1.60 real         1.39 user         0.21 sys<br>
Algebra/Hom/Group<br>
       13.09 real        12.37 user         0.70 sys<br>
        5.58 real         5.36 user         0.22 sys<br>
Algebra/Hom/GroupInstances<br>
        8.67 real         8.39 user         0.27 sys<br>
        5.89 real         5.65 user         0.24 sys<br>
Algebra/Hom/Iterate<br>
        4.54 real         4.21 user         0.32 sys<br>
        3.61 real         3.23 user         0.35 sys<br>
Algebra/Hom/Ring<br>
        9.53 real         9.15 user         0.37 sys<br>
        4.01 real         3.73 user         0.25 sys<br>
Algebra/Hom/Units<br>
        5.00 real         4.58 user         0.41 sys<br>
        2.70 real         2.50 user         0.20 sys<br>
Algebra/Homology/ComplexShape<br>
        0.88 real         0.68 user         0.19 sys<br>
        1.42 real         1.24 user         0.17 sys<br>
Algebra/Invertible<br>
        3.65 real         3.38 user         0.25 sys<br>
        2.89 real         2.66 user         0.22 sys<br>
Algebra/Module/Basic<br>
       20.20 real        19.79 user         0.40 sys<br>
        9.98 real         9.53 user         0.42 sys<br>
Algebra/Module/Hom<br>
        5.76 real         5.49 user         0.26 sys<br>
        6.69 real         6.23 user         0.42 sys<br>
Algebra/Module/Pi<br>
        2.47 real         2.21 user         0.25 sys<br>
        3.87 real         3.47 user         0.39 sys<br>
Algebra/Module/PointwisePi<br>
        1.53 real         1.24 user         0.26 sys<br>
        3.92 real         3.46 user         0.41 sys<br>
Algebra/Module/Prod<br>
        2.04 real         1.79 user         0.24 sys<br>
        3.35 real         2.88 user         0.37 sys<br>
Algebra/NeZero<br>
        0.71 real         0.53 user         0.16 sys<br>
        0.63 real         0.52 user         0.10 sys<br>
Algebra/Opposites<br>
        1.77 real         1.47 user         0.28 sys<br>
        1.44 real         1.25 user         0.18 sys<br>
Algebra/Order/AbsoluteValue<br>
        5.84<br>
[message truncated]</p>



<a name="321666520"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321666520" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321666520">(Jan 16 2023 at 15:22)</a>:</h4>
<p>mathlib4 theory files:<br>
      379.30 real      2252.84 user       276.81 sys<br>
corresponding files in mathlib3:<br>
      205.16 real      2693.19 user        48.73 sys<br>
Algebra/Abs<br>
        0.77 real         0.64 user         0.12 sys<br>
        0.55 real         0.44 user         0.10 sys<br>
Algebra/Associated<br>
       16.04 real        15.52 user         0.50 sys<br>
       12.29 real        11.87 user         0.40 sys<br>
Algebra/BigOperators/Multiset/Basic<br>
        9.17 real         8.73 user         0.42 sys<br>
        8.98 real         8.53 user         0.42 sys<br>
Algebra/BigOperators/Multiset/Lemmas<br>
        1.23 real         0.96 user         0.26 sys<br>
        3.72 real         3.32 user         0.39 sys<br>
Algebra/Bounds<br>
        2.59 real         2.26 user         0.31 sys<br>
        3.33 real         2.98 user         0.33 sys<br>
Algebra/CharZero/Defs<br>
        0.82 real         0.63 user         0.18 sys<br>
        1.32 real         1.12 user         0.18 sys<br>
Algebra/CharZero/Lemmas<br>
        2.61 real         2.33 user         0.27 sys<br>
        3.94 real         3.57 user         0.35 sys<br>
Algebra/CovariantAndContravariant<br>
        1.59 real         1.34 user         0.24 sys<br>
        1.77 real         1.56 user         0.20 sys<br>
Algebra/Divisibility/Basic<br>
        1.81 real         1.58 user         0.21 sys<br>
        1.55 real         1.35 user         0.19 sys<br>
Algebra/Divisibility/Units<br>
        1.40 real         1.18 user         0.20 sys<br>
        1.61 real         1.40 user         0.20 sys<br>
Algebra/EuclideanDomain/Basic<br>
        4.02 real         3.74 user         0.27 sys<br>
        3.22 real         2.98 user         0.23 sys<br>
Algebra/EuclideanDomain/Defs<br>
        1.69 real         1.46 user         0.22 sys<br>
        1.96 real         1.72 user         0.21 sys<br>
Algebra/EuclideanDomain/Instances<br>
        6.31 real         6.07 user         0.23 sys<br>
        2.99 real         2.67 user         0.30 sys<br>
Algebra/Field/Basic<br>
        6.99 real         6.68 user         0.30 sys<br>
        4.57 real         4.28 user         0.28 sys<br>
Algebra/Field/Defs<br>
        2.02 real         1.80 user         0.20 sys<br>
        3.64 real         3.43 user         0.21 sys<br>
Algebra/Field/Opposite<br>
        7.09 real         6.85 user         0.22 sys<br>
        2.48 real         2.22 user         0.25 sys<br>
Algebra/Field/Power<br>
        1.03 real         0.79 user         0.23 sys<br>
        2.66 real         2.33 user         0.32 sys<br>
Algebra/FreeMonoid/Basic<br>
        4.48 real         4.12 user         0.35 sys<br>
        4.14 real         3.84 user         0.30 sys<br>
Algebra/FreeMonoid/Count<br>
        1.60 real         1.38 user         0.21 sys<br>
        2.50 real         2.21 user         0.28 sys<br>
Algebra/GCDMonoid/Basic<br>
       41.77 real        41.27 user         0.49 sys<br>
       11.65 real        11.23 user         0.40 sys<br>
Algebra/Group/Basic<br>
        6.32 real         5.77 user         0.54 sys<br>
        4.83 real         4.62 user         0.20 sys<br>
Algebra/Group/Commutator<br>
        0.66 real         0.48 user         0.17 sys<br>
        1.10 real         0.92 user         0.17 sys<br>
Algebra/Group/Commute<br>
        2.16 real         1.80 user         0.34 sys<br>
        1.68 real         1.49 user         0.19 sys<br>
Algebra/Group/Conj<br>
        3.26 real         2.96 user         0.29 sys<br>
        4.08 real         3.72 user         0.35 sys<br>
Algebra/Group/Defs<br>
        4.18 real         3.72 user         0.45 sys<br>
        5.03 real         4.82 user         0.21 sys<br>
Algebra/Group/Ext<br>
        1.60 real         1.37 user         0.21 sys<br>
        4.65 real         4.44 user         0.22 sys<br>
Algebra/Group/InjSurj<br>
        5.24 real         4.94 user         0.28 sys<br>
        4.42 real         4.22 user         0.22 sys<br>
Algebra/Group/Opposite<br>
        8.07 real         7.69 user         0.37 sys<br>
        6.53 real         6.29 user         0.27 sys<br>
Algebra/Group/OrderSynonym<br>
        2.52 real         2.07 user         0.45 sys<br>
        1.80 real         1.59 user         0.21 sys<br>
Algebra/Group/Pi<br>
        5.80 real         5.34 user         0.45 sys<br>
        7.25 real         6.96 user         0.30 sys<br>
Algebra/Group/Prod<br>
        8.07 real         7.53 user         0.52 sys<br>
        7.40 real         7.11 user         0.27 sys<br>
Algebra/Group/Semiconj<br>
        1.67 real         1.40 user         0.26 sys<br>
        1.68 real         1.48 user         0.19 sys<br>
Algebra/Group/TypeTags<br>
        3.43 real         3.18 user         0.24 sys<br>
        2.47 real         2.26 user         0.20 sys<br>
Algebra/Group/ULift<br>
        4.20 real         3.92 user         0.27 sys<br>
        2.06 real         1.84 user         0.21 sys<br>
Algebra/Group/Units<br>
        4.80 real         4.31 user         0.47 sys<br>
        3.34 real         3.09 user         0.20 sys<br>
Algebra/Group/WithOne/Basic<br>
        2.05 real         1.79 user         0.25 sys<br>
        2.77 real         2.53 user         0.24 sys<br>
Algebra/Group/WithOne/Defs<br>
        2.80 real         2.50 user         0.29 sys<br>
        2.34 real         2.12 user         0.21 sys<br>
Algebra/Group/WithOne/Units<br>
        0.86 real         0.66 user         0.18 sys<br>
        1.88 real         1.63 user         0.24 sys<br>
Algebra/GroupPower/Basic<br>
        6.15 real         5.77 user         0.37 sys<br>
        3.11 real         2.89 user         0.22 sys<br>
Algebra/GroupPower/Identities<br>
       11.49 real        11.17 user         0.31 sys<br>
        4.05 real         3.57 user         0.38 sys<br>
Algebra/GroupPower/Lemmas<br>
       20.30 real        19.71 user         0.57 sys<br>
       15.71 real        15.31 user         0.40 sys<br>
Algebra/GroupPower/Order<br>
       11.08 real        10.65 user         0.41 sys<br>
        6.52 real         6.17 user         0.33 sys<br>
Algebra/GroupPower/Ring<br>
        6.94 real         6.64 user         0.28 sys<br>
        3.72 real         3.39 user         0.30 sys<br>
Algebra/GroupRingAction/Basic<br>
        1.40 real         1.14 user         0.25 sys<br>
        2.92 real         2.58 user         0.33 sys<br>
Algebra/GroupWithZero/Basic<br>
        2.27 real         2.02 user         0.24 sys<br>
        2.34 real         2.14 user         0.19 sys<br>
Algebra/GroupWithZero/Commute<br>
        0.89 real         0.68 user         0.19 sys<br>
        1.48 real         1.28 user         0.19 sys<br>
Algebra/GroupWithZero/Defs<br>
        1.30 real         1.09 user         0.20 sys<br>
        2.27 real         2.07 user         0.19 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        0.95 real         0.74 user         0.19 sys<br>
        1.75 real         1.51 user         0.20 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        2.78 real         2.57 user         0.20 sys<br>
        1.88 real         1.68 user         0.19 sys<br>
Algebra/GroupWithZero/Power<br>
        5.10 real         4.81 user         0.28 sys<br>
        4.04 real         3.68 user         0.33 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        0.84 real         0.64 user         0.19 sys<br>
        1.50 real         1.30 user         0.19 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        2.07 real         1.77 user         0.24 sys<br>
        2.13 real         1.91 user         0.19 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        2.29 real         2.04 user         0.23 sys<br>
        2.15 real         1.93 user         0.22 sys<br>
Algebra/HierarchyDesign<br>
        0.19 real         0.13 user         0.05 sys<br>
        0.52 real         0.42 user         0.10 sys<br>
Algebra/Hom/Aut<br>
        5.47 real         5.17 user         0.29 sys<br>
        6.07 real         5.70 user         0.36 sys<br>
Algebra/Hom/Commute<br>
        0.71 real         0.52 user         0.18 sys<br>
        1.35 real         1.16 user         0.18 sys<br>
Algebra/Hom/Embedding<br>
        0.76 real         0.56 user         0.19 sys<br>
        1.39 real         1.18 user         0.20 sys<br>
Algebra/Hom/Equiv/Basic<br>
        6.61 real         6.12 user         0.48 sys<br>
        5.19 real         4.95 user         0.24 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        1.87 real         1.64 user         0.20 sys<br>
        1.83 real         1.60 user         0.20 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        2.61 real         2.33 user         0.27 sys<br>
        2.09 real         1.86 user         0.22 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        0.80 real         0.60 user         0.19 sys<br>
        1.59 real         1.37 user         0.20 sys<br>
Algebra/Hom/Group<br>
       13.07 real        12.35 user         0.70 sys<br>
        5.63 real         5.36 user         0.22 sys<br>
Algebra/Hom/GroupInstances<br>
        8.65 real         8.37 user         0.27 sys<br>
        5.87 real         5.62 user         0.24 sys<br>
Algebra/Hom/Iterate<br>
        4.57 real         4.23 user         0.32 sys<br>
        3.59 real         3.24 user         0.34 sys<br>
Algebra/Hom/Ring<br>
        9.58 real         9.18 user         0.38 sys<br>
        4.02 real         3.74 user         0.25 sys<br>
Algebra/Hom/Units<br>
        4.98 real         4.57 user         0.40 sys<br>
        2.69 real         2.48 user         0.20 sys<br>
Algebra/Homology/ComplexShape<br>
        0.87 real         0.68 user         0.19 sys<br>
        1.43 real         1.23 user         0.17 sys<br>
Algebra/Invertible<br>
        3.66 real         3.40 user         0.26 sys<br>
        2.87 real         2.64 user         0.22 sys<br>
Algebra/Module/Basic<br>
       20.22 real        19.72 user         0.41 sys<br>
       10.13 real         9.68 user         0.44 sys<br>
Algebra/Module/Hom<br>
        6.17 real         5.88 user         0.28 sys<br>
        6.63 real         6.20 user         0.42 sys<br>
Algebra/Module/Pi<br>
        2.49 real         2.22 user         0.25 sys<br>
        3.82 real         3.42 user         0.39 sys<br>
Algebra/Module/PointwisePi<br>
        1.52 real         1.25 user         0.26 sys<br>
        3.94 real         3.51 user         0.42 sys<br>
Algebra/Module/Prod<br>
        2.05 real         1.80 user         0.24 sys<br>
        3.24 real         2.87 user         0.36 sys<br>
Algebra/NeZero<br>
        0.70 real         0.53 user         0.17 sys<br>
        0.62 real         0.51 user         0.10 sys<br>
Algebra/Opposites<br>
        1.77 real         1.47 user         0.28 sys<br>
        1.49 real         1.28 user         0.19 sys<br>
Algebra/Order/AbsoluteValue<br>
        5.81<br>
[message truncated]</p>



<a name="321676262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321676262" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321676262">(Jan 16 2023 at 16:11)</a>:</h4>
<p>I asked this before, but I didn't see an answer: why is Lean 4 single-threaded on files?</p>



<a name="321678105"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321678105" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321678105">(Jan 16 2023 at 16:21)</a>:</h4>
<p>Because it is hard to implement properly, which Lean 3 arguably did not. By which I mean the big hack of inlining any generated auxiliary declarations at the end of concurrent elaboration of a theorem.</p>



<a name="321678268"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321678268" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321678268">(Jan 16 2023 at 16:22)</a>:</h4>
<p>I have a more proper implementation in mind, however</p>



<a name="321678396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321678396" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321678396">(Jan 16 2023 at 16:23)</a>:</h4>
<p>What do you mean with "concurrent elaboration of a theorem"? Was Lean 3 using parallelization for checking proofs of single decls?</p>



<a name="321678659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321678659" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321678659">(Jan 16 2023 at 16:24)</a>:</h4>
<p>Well that's a good reason!</p>



<a name="321679487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321679487" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321679487">(Jan 16 2023 at 16:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/287929-mathlib4/topic/port.20benchmark/near/321678396">said</a>:</p>
<blockquote>
<p>What do you mean with "concurrent elaboration of a theorem"? Was Lean 3 using parallelization for checking proofs of single decls?</p>
</blockquote>
<p>No, just concurrent to elaboration of other declarations</p>



<a name="321679666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321679666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321679666">(Jan 16 2023 at 16:30)</a>:</h4>
<p>Why did that cause the inlining of generated aux defs? (Maybe we should move this to another topic?)</p>



<a name="321685785"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321685785" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Sebastian Ullrich <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321685785">(Jan 16 2023 at 17:07)</a>:</h4>
<p>The environment essentially is a linear trace of <code>add_decl</code> calls. It is unclear how, or when, declarations contributed by concurrent threads should be integrated into it.</p>



<a name="321855885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/321855885" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#321855885">(Jan 17 2023 at 15:21)</a>:</h4>
<p>mathlib4 theory files:<br>
      310.61 real      2359.28 user       296.41 sys<br>
corresponding files in mathlib3:<br>
      208.97 real      2698.46 user        48.97 sys<br>
Algebra/Abs<br>
        0.79 real         0.66 user         0.11 sys<br>
        0.56 real         0.45 user         0.10 sys<br>
Algebra/Associated<br>
       16.56 real        15.99 user         0.55 sys<br>
       12.36 real        11.94 user         0.39 sys<br>
Algebra/BigOperators/Multiset/Basic<br>
        8.93 real         8.48 user         0.43 sys<br>
        9.09 real         8.66 user         0.42 sys<br>
Algebra/BigOperators/Multiset/Lemmas<br>
        1.20 real         0.94 user         0.24 sys<br>
        3.78 real         3.38 user         0.39 sys<br>
Algebra/Bounds<br>
        2.60 real         2.28 user         0.30 sys<br>
        3.34 real         3.00 user         0.33 sys<br>
Algebra/CharZero/Defs<br>
        0.84 real         0.65 user         0.18 sys<br>
        1.32 real         1.13 user         0.18 sys<br>
Algebra/CharZero/Lemmas<br>
        2.65 real         2.36 user         0.27 sys<br>
        3.99 real         3.61 user         0.37 sys<br>
Algebra/CovariantAndContravariant<br>
        1.59 real         1.35 user         0.24 sys<br>
        1.76 real         1.56 user         0.20 sys<br>
Algebra/Divisibility/Basic<br>
        1.79 real         1.56 user         0.21 sys<br>
        1.58 real         1.34 user         0.20 sys<br>
Algebra/Divisibility/Units<br>
        1.37 real         1.17 user         0.20 sys<br>
        1.54 real         1.33 user         0.19 sys<br>
Algebra/EuclideanDomain/Basic<br>
        3.97 real         3.70 user         0.26 sys<br>
        3.22 real         2.96 user         0.22 sys<br>
Algebra/EuclideanDomain/Defs<br>
        1.62 real         1.40 user         0.21 sys<br>
        1.85 real         1.64 user         0.20 sys<br>
Algebra/EuclideanDomain/Instances<br>
        6.19 real         5.97 user         0.21 sys<br>
        2.91 real         2.60 user         0.30 sys<br>
Algebra/Field/Basic<br>
        7.08 real         6.78 user         0.30 sys<br>
        4.75 real         4.46 user         0.29 sys<br>
Algebra/Field/Defs<br>
        2.08 real         1.87 user         0.20 sys<br>
        3.87 real         3.64 user         0.21 sys<br>
Algebra/Field/Opposite<br>
        7.26 real         7.01 user         0.24 sys<br>
        2.60 real         2.33 user         0.27 sys<br>
Algebra/Field/Power<br>
        1.07 real         0.82 user         0.24 sys<br>
        2.77 real         2.43 user         0.33 sys<br>
Algebra/FreeMonoid/Basic<br>
        4.55 real         4.20 user         0.34 sys<br>
        4.29 real         3.98 user         0.31 sys<br>
Algebra/FreeMonoid/Count<br>
        1.65 real         1.42 user         0.22 sys<br>
        2.69 real         2.30 user         0.29 sys<br>
Algebra/GCDMonoid/Basic<br>
       42.77 real        42.24 user         0.52 sys<br>
       12.51 real        12.09 user         0.41 sys<br>
Algebra/Group/Basic<br>
        6.73 real         6.15 user         0.56 sys<br>
        5.19 real         4.97 user         0.23 sys<br>
Algebra/Group/Commutator<br>
        0.67 real         0.49 user         0.17 sys<br>
        1.10 real         0.92 user         0.17 sys<br>
Algebra/Group/Commute<br>
        2.20 real         1.85 user         0.33 sys<br>
        1.79 real         1.59 user         0.20 sys<br>
Algebra/Group/Conj<br>
        3.39 real         3.08 user         0.29 sys<br>
        4.31 real         3.93 user         0.37 sys<br>
Algebra/Group/Defs<br>
        4.29 real         3.80 user         0.48 sys<br>
        5.06 real         4.85 user         0.21 sys<br>
Algebra/Group/Ext<br>
        1.64 real         1.41 user         0.21 sys<br>
        4.72 real         4.51 user         0.22 sys<br>
Algebra/Group/InjSurj<br>
        5.18 real         4.88 user         0.29 sys<br>
        4.46 real         4.25 user         0.22 sys<br>
Algebra/Group/Opposite<br>
        8.16 real         7.78 user         0.37 sys<br>
        6.53 real         6.29 user         0.27 sys<br>
Algebra/Group/OrderSynonym<br>
        2.23 real         1.84 user         0.39 sys<br>
        1.62 real         1.43 user         0.19 sys<br>
Algebra/Group/Pi<br>
        5.71 real         5.25 user         0.44 sys<br>
        7.34 real         7.06 user         0.29 sys<br>
Algebra/Group/Prod<br>
        8.22 real         7.66 user         0.54 sys<br>
        7.50 real         7.22 user         0.28 sys<br>
Algebra/Group/Semiconj<br>
        1.70 real         1.43 user         0.26 sys<br>
        1.70 real         1.50 user         0.19 sys<br>
Algebra/Group/TypeTags<br>
        3.23 real         2.97 user         0.24 sys<br>
        2.53 real         2.31 user         0.20 sys<br>
Algebra/Group/ULift<br>
        4.27 real         3.98 user         0.27 sys<br>
        2.08 real         1.86 user         0.22 sys<br>
Algebra/Group/Units<br>
        4.84 real         4.36 user         0.46 sys<br>
        3.34 real         3.13 user         0.21 sys<br>
Algebra/Group/WithOne/Basic<br>
        2.03 real         1.76 user         0.25 sys<br>
        2.72 real         2.48 user         0.23 sys<br>
Algebra/Group/WithOne/Defs<br>
        2.85 real         2.54 user         0.30 sys<br>
        2.36 real         2.14 user         0.22 sys<br>
Algebra/Group/WithOne/Units<br>
        0.88 real         0.68 user         0.19 sys<br>
        1.87 real         1.63 user         0.23 sys<br>
Algebra/GroupPower/Basic<br>
        6.23 real         5.83 user         0.39 sys<br>
        3.09 real         2.87 user         0.22 sys<br>
Algebra/GroupPower/Identities<br>
       11.71 real        11.38 user         0.32 sys<br>
        4.04 real         3.63 user         0.39 sys<br>
Algebra/GroupPower/Lemmas<br>
       20.30 real        19.70 user         0.59 sys<br>
       15.80 real        15.40 user         0.39 sys<br>
Algebra/GroupPower/Order<br>
       11.27 real        10.83 user         0.43 sys<br>
        6.66 real         6.29 user         0.35 sys<br>
Algebra/GroupPower/Ring<br>
        6.42 real         6.13 user         0.28 sys<br>
        3.76 real         3.45 user         0.30 sys<br>
Algebra/GroupRingAction/Basic<br>
        1.41 real         1.15 user         0.24 sys<br>
        2.98 real         2.64 user         0.33 sys<br>
Algebra/GroupWithZero/Basic<br>
        2.27 real         2.02 user         0.24 sys<br>
        2.37 real         2.16 user         0.19 sys<br>
Algebra/GroupWithZero/Commute<br>
        0.92 real         0.71 user         0.19 sys<br>
        1.47 real         1.27 user         0.19 sys<br>
Algebra/GroupWithZero/Defs<br>
        1.34 real         1.11 user         0.19 sys<br>
        2.22 real         2.03 user         0.18 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        0.93 real         0.72 user         0.20 sys<br>
        1.69 real         1.48 user         0.20 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        2.77 real         2.56 user         0.20 sys<br>
        1.95 real         1.75 user         0.19 sys<br>
Algebra/GroupWithZero/Power<br>
        5.14 real         4.86 user         0.28 sys<br>
        4.05 real         3.69 user         0.35 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        0.84 real         0.64 user         0.18 sys<br>
        1.51 real         1.31 user         0.19 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        2.07 real         1.80 user         0.24 sys<br>
        2.17 real         1.96 user         0.19 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        2.31 real         2.06 user         0.23 sys<br>
        2.19 real         1.95 user         0.23 sys<br>
Algebra/HierarchyDesign<br>
        0.19 real         0.13 user         0.04 sys<br>
        0.53 real         0.42 user         0.10 sys<br>
Algebra/Hom/Aut<br>
        5.51 real         5.21 user         0.29 sys<br>
        6.25 real         5.87 user         0.37 sys<br>
Algebra/Hom/Commute<br>
        0.72 real         0.53 user         0.17 sys<br>
        1.36 real         1.17 user         0.19 sys<br>
Algebra/Hom/Embedding<br>
        0.76 real         0.56 user         0.18 sys<br>
        1.38 real         1.18 user         0.19 sys<br>
Algebra/Hom/Equiv/Basic<br>
        6.72 real         6.22 user         0.49 sys<br>
        5.10 real         4.86 user         0.23 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        1.85 real         1.65 user         0.19 sys<br>
        1.84 real         1.62 user         0.21 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        2.65 real         2.37 user         0.27 sys<br>
        2.13 real         1.91 user         0.21 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        0.81 real         0.61 user         0.19 sys<br>
        1.61 real         1.39 user         0.21 sys<br>
Algebra/Hom/Group<br>
       13.59 real        12.85 user         0.72 sys<br>
        5.64 real         5.42 user         0.22 sys<br>
Algebra/Hom/GroupInstances<br>
        8.77 real         8.49 user         0.27 sys<br>
        6.03 real         5.77 user         0.25 sys<br>
Algebra/Hom/Iterate<br>
        4.60 real         4.28 user         0.32 sys<br>
        3.58 real         3.21 user         0.34 sys<br>
Algebra/Hom/Ring<br>
        9.42 real         9.04 user         0.36 sys<br>
        4.06 real         3.80 user         0.25 sys<br>
Algebra/Hom/Units<br>
        5.04 real         4.63 user         0.40 sys<br>
        2.72 real         2.52 user         0.20 sys<br>
Algebra/Homology/ComplexShape<br>
        0.90 real         0.70 user         0.19 sys<br>
        1.44 real         1.26 user         0.17 sys<br>
Algebra/Invertible<br>
        3.70 real         3.42 user         0.26 sys<br>
        2.90 real         2.67 user         0.22 sys<br>
Algebra/Module/Basic<br>
       20.41 real        19.98 user         0.42 sys<br>
        9.92 real         9.49 user         0.42 sys<br>
Algebra/Module/Hom<br>
        5.76 real         5.50 user         0.25 sys<br>
        6.75 real         6.30 user         0.42 sys<br>
Algebra/Module/Pi<br>
        2.50 real         2.23 user         0.26 sys<br>
        3.88 real         3.47 user         0.40 sys<br>
Algebra/Module/PointwisePi<br>
        1.52 real         1.25 user         0.26 sys<br>
        3.93 real         3.50 user         0.41 sys<br>
Algebra/Module/Prod<br>
        2.11 real         1.85 user         0.26 sys<br>
        3.34 real         2.89 user         0.37 sys<br>
Algebra/NeZero<br>
        0.71 real         0.53 user         0.16 sys<br>
        0.64 real         0.52 user         0.11 sys<br>
Algebra/Opposites<br>
        1.79 real         1.49 user         0.28 sys<br>
        1.48 real         1.28 user         0.19 sys<br>
Algebra/Order/AbsoluteValue<br>
        5.87<br>
[message truncated]</p>



<a name="322080338"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/322080338" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#322080338">(Jan 18 2023 at 15:27)</a>:</h4>
<p>mathlib4 theory files:<br>
      331.07 real      2522.29 user       329.64 sys<br>
corresponding files in mathlib3:<br>
      223.49 real      2792.45 user        68.80 sys<br>
Algebra/Abs<br>
        0.84 real         0.70 user         0.13 sys<br>
        0.60 real         0.48 user         0.11 sys<br>
Algebra/Associated<br>
       17.65 real        16.80 user         0.83 sys<br>
       13.66 real        12.99 user         0.65 sys<br>
Algebra/BigOperators/Multiset/Basic<br>
        9.68 real         9.03 user         0.64 sys<br>
       10.19 real         9.41 user         0.77 sys<br>
Algebra/BigOperators/Multiset/Lemmas<br>
        1.32 real         1.01 user         0.29 sys<br>
        4.14 real         3.61 user         0.47 sys<br>
Algebra/Bounds<br>
        2.82 real         2.46 user         0.35 sys<br>
        3.70 real         3.24 user         0.45 sys<br>
Algebra/CharZero/Defs<br>
        0.94 real         0.70 user         0.22 sys<br>
        1.43 real         1.21 user         0.22 sys<br>
Algebra/CharZero/Lemmas<br>
        2.89 real         2.54 user         0.35 sys<br>
        4.30 real         3.84 user         0.44 sys<br>
Algebra/CovariantAndContravariant<br>
        1.75 real         1.44 user         0.29 sys<br>
        1.92 real         1.63 user         0.27 sys<br>
Algebra/Divisibility/Basic<br>
        1.98 real         1.72 user         0.25 sys<br>
        1.72 real         1.47 user         0.24 sys<br>
Algebra/Divisibility/Units<br>
        1.54 real         1.28 user         0.24 sys<br>
        1.69 real         1.44 user         0.24 sys<br>
Algebra/EuclideanDomain/Basic<br>
        4.44 real         4.01 user         0.42 sys<br>
        3.51 real         3.15 user         0.35 sys<br>
Algebra/EuclideanDomain/Defs<br>
        1.78 real         1.52 user         0.25 sys<br>
        1.99 real         1.74 user         0.24 sys<br>
Algebra/EuclideanDomain/Instances<br>
        6.63 real         6.29 user         0.33 sys<br>
        3.14 real         2.77 user         0.36 sys<br>
Algebra/Field/Basic<br>
        7.70 real         7.22 user         0.46 sys<br>
        5.23 real         4.80 user         0.42 sys<br>
Algebra/Field/Defs<br>
        2.23 real         1.98 user         0.24 sys<br>
        4.07 real         3.76 user         0.29 sys<br>
Algebra/Field/Opposite<br>
        7.92 real         7.41 user         0.49 sys<br>
        2.97 real         2.48 user         0.48 sys<br>
Algebra/Field/Power<br>
        1.15 real         0.88 user         0.26 sys<br>
        2.98 real         2.56 user         0.40 sys<br>
Algebra/FreeMonoid/Basic<br>
        4.86 real         4.42 user         0.43 sys<br>
        4.66 real         4.25 user         0.40 sys<br>
Algebra/FreeMonoid/Count<br>
        1.83 real         1.51 user         0.31 sys<br>
        2.82 real         2.42 user         0.36 sys<br>
Algebra/GCDMonoid/Basic<br>
       45.91 real        44.53 user         1.35 sys<br>
       13.74 real        13.07 user         0.65 sys<br>
Algebra/Group/Basic<br>
        7.16 real         6.44 user         0.70 sys<br>
        5.71 real         5.31 user         0.40 sys<br>
Algebra/Group/Commutator<br>
        0.79 real         0.54 user         0.24 sys<br>
        1.21 real         0.98 user         0.22 sys<br>
Algebra/Group/Commute<br>
        2.43 real         1.98 user         0.44 sys<br>
        2.01 real         1.67 user         0.26 sys<br>
Algebra/Group/Conj<br>
        3.68 real         3.26 user         0.41 sys<br>
        4.57 real         4.05 user         0.51 sys<br>
Algebra/Group/Defs<br>
        4.56 real         4.01 user         0.54 sys<br>
        5.54 real         5.19 user         0.35 sys<br>
Algebra/Group/Ext<br>
        1.77 real         1.48 user         0.28 sys<br>
        5.28 real         4.89 user         0.41 sys<br>
Algebra/Group/InjSurj<br>
        5.57 real         5.15 user         0.41 sys<br>
        5.00 real         4.59 user         0.41 sys<br>
Algebra/Group/Opposite<br>
        9.05 real         8.32 user         0.71 sys<br>
        7.26 real         6.85 user         0.44 sys<br>
Algebra/Group/OrderSynonym<br>
        2.46 real         1.96 user         0.46 sys<br>
        1.81 real         1.55 user         0.26 sys<br>
Algebra/Group/Pi<br>
        6.26 real         5.60 user         0.64 sys<br>
        8.37 real         7.74 user         0.55 sys<br>
Algebra/Group/Prod<br>
        8.97 real         8.19 user         0.77 sys<br>
        8.46 real         7.88 user         0.62 sys<br>
Algebra/Group/Semiconj<br>
        1.86 real         1.52 user         0.32 sys<br>
        1.85 real         1.60 user         0.24 sys<br>
Algebra/Group/TypeTags<br>
        3.57 real         3.18 user         0.38 sys<br>
        2.79 real         2.46 user         0.32 sys<br>
Algebra/Group/ULift<br>
        4.68 real         4.26 user         0.41 sys<br>
        2.31 real         2.02 user         0.28 sys<br>
Algebra/Group/Units<br>
        5.29 real         4.68 user         0.58 sys<br>
        3.71 real         3.34 user         0.36 sys<br>
Algebra/Group/WithOne/Basic<br>
        2.14 real         1.86 user         0.27 sys<br>
        2.93 real         2.61 user         0.31 sys<br>
Algebra/Group/WithOne/Defs<br>
        3.06 real         2.72 user         0.33 sys<br>
        2.63 real         2.33 user         0.29 sys<br>
Algebra/Group/WithOne/Units<br>
        0.94 real         0.72 user         0.20 sys<br>
        1.99 real         1.73 user         0.25 sys<br>
Algebra/GroupPower/Basic<br>
        6.72 real         6.25 user         0.45 sys<br>
        3.42 real         3.12 user         0.30 sys<br>
Algebra/GroupPower/Identities<br>
       12.60 real        11.94 user         0.65 sys<br>
        4.36 real         3.87 user         0.47 sys<br>
Algebra/GroupPower/Lemmas<br>
       22.31 real        21.32 user         0.98 sys<br>
       17.49 real        16.78 user         0.72 sys<br>
Algebra/GroupPower/Order<br>
       12.21 real        11.51 user         0.68 sys<br>
        7.40 real         6.83 user         0.55 sys<br>
Algebra/GroupPower/Ring<br>
        7.05 real         6.63 user         0.41 sys<br>
        4.13 real         3.72 user         0.40 sys<br>
Algebra/GroupRingAction/Basic<br>
        1.55 real         1.25 user         0.29 sys<br>
        3.19 real         2.79 user         0.39 sys<br>
Algebra/GroupWithZero/Basic<br>
        2.47 real         2.15 user         0.31 sys<br>
        2.61 real         2.32 user         0.28 sys<br>
Algebra/GroupWithZero/Commute<br>
        1.00 real         0.76 user         0.22 sys<br>
        1.58 real         1.34 user         0.23 sys<br>
Algebra/GroupWithZero/Defs<br>
        1.39 real         1.16 user         0.22 sys<br>
        2.40 real         2.16 user         0.23 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        1.05 real         0.79 user         0.25 sys<br>
        1.83 real         1.58 user         0.24 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        3.02 real         2.75 user         0.26 sys<br>
        2.03 real         1.80 user         0.23 sys<br>
Algebra/GroupWithZero/Power<br>
        6.01 real         5.48 user         0.51 sys<br>
        4.48 real         4.00 user         0.45 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        0.96 real         0.70 user         0.25 sys<br>
        1.71 real         1.41 user         0.29 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        2.26 real         1.93 user         0.32 sys<br>
        2.31 real         2.07 user         0.23 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        2.48 real         2.17 user         0.30 sys<br>
        2.40 real         2.08 user         0.31 sys<br>
Algebra/HierarchyDesign<br>
        0.23 real         0.16 user         0.06 sys<br>
        0.59 real         0.46 user         0.12 sys<br>
Algebra/Hom/Aut<br>
        6.00 real         5.60 user         0.39 sys<br>
        7.09 real         6.45 user         0.60 sys<br>
Algebra/Hom/Commute<br>
        0.77 real         0.56 user         0.20 sys<br>
        1.50 real         1.24 user         0.25 sys<br>
Algebra/Hom/Embedding<br>
        0.85 real         0.61 user         0.21 sys<br>
        1.56 real         1.26 user         0.28 sys<br>
Algebra/Hom/Equiv/Basic<br>
        7.23 real         6.59 user         0.63 sys<br>
        5.64 real         5.24 user         0.40 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        2.00 real         1.76 user         0.24 sys<br>
        2.01 real         1.74 user         0.26 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        2.88 real         2.54 user         0.33 sys<br>
        2.37 real         2.04 user         0.32 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        0.91 real         0.66 user         0.24 sys<br>
        1.73 real         1.48 user         0.24 sys<br>
Algebra/Hom/Group<br>
       14.40 real        13.38 user         1.00 sys<br>
        6.28 real         5.84 user         0.44 sys<br>
Algebra/Hom/GroupInstances<br>
        9.69 real         9.12 user         0.55 sys<br>
        6.58 real         6.16 user         0.41 sys<br>
Algebra/Hom/Iterate<br>
        5.09 real         4.61 user         0.47 sys<br>
        3.95 real         3.47 user         0.47 sys<br>
Algebra/Hom/Ring<br>
       10.29 real         9.66 user         0.62 sys<br>
        4.46 real         4.10 user         0.35 sys<br>
Algebra/Hom/Units<br>
        5.42 real         4.93 user         0.48 sys<br>
        3.08 real         2.76 user         0.31 sys<br>
Algebra/Homology/ComplexShape<br>
        0.98 real         0.74 user         0.24 sys<br>
        1.59 real         1.34 user         0.23 sys<br>
Algebra/Invertible<br>
        3.94 real         3.60 user         0.34 sys<br>
        3.24 real         2.93 user         0.30 sys<br>
Algebra/Module/Basic<br>
       22.26 real        21.34 user         0.91 sys<br>
       11.09 real        10.36 user         0.70 sys<br>
Algebra/Module/Hom<br>
        6.20 real         5.82 user         0.36 sys<br>
        7.58 real         6.92 user         0.64 sys<br>
Algebra/Module/Pi<br>
        2.74 real         2.42 user         0.30 sys<br>
        4.20 real         3.71 user         0.49 sys<br>
Algebra/Module/PointwisePi<br>
        1.71 real         1.35 user         0.36 sys<br>
        4.37 real         3.78 user         0.57 sys<br>
Algebra/Module/Prod<br>
        2.21 real         1.93 user         0.27 sys<br>
        3.70 real         3.09 user         0.51 sys<br>
Algebra/NeZero<br>
        0.79 real         0.58 user         0.21 sys<br>
        0.68 real         0.55 user         0.12 sys<br>
Algebra/Opposites<br>
        2.03 real         1.62 user         0.40 sys<br>
        1.59 real         1.34 user         0.24 sys<br>
Algebra/Order/AbsoluteValue<br>
        6.37<br>
[message truncated]</p>



<a name="322306252"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/322306252" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#322306252">(Jan 19 2023 at 15:19)</a>:</h4>
<p>mathlib4 theory files:<br>
      344.16 real      2242.93 user       264.05 sys<br>
corresponding files in mathlib3:<br>
      204.29 real      2667.77 user        46.41 sys<br>
Algebra/Abs<br>
        0.77 real         0.65 user         0.12 sys<br>
        0.56 real         0.44 user         0.10 sys<br>
Algebra/Associated<br>
       16.03 real        15.53 user         0.48 sys<br>
       12.06 real        11.67 user         0.37 sys<br>
Algebra/BigOperators/Multiset/Basic<br>
        8.73 real         8.32 user         0.40 sys<br>
        8.89 real         8.46 user         0.40 sys<br>
Algebra/BigOperators/Multiset/Lemmas<br>
        1.17 real         0.93 user         0.23 sys<br>
        3.67 real         3.29 user         0.37 sys<br>
Algebra/Bounds<br>
        2.50 real         2.20 user         0.28 sys<br>
        3.29 real         2.98 user         0.31 sys<br>
Algebra/CharZero/Defs<br>
        0.81 real         0.62 user         0.17 sys<br>
        1.28 real         1.11 user         0.17 sys<br>
Algebra/CharZero/Lemmas<br>
        2.57 real         2.30 user         0.26 sys<br>
        3.92 real         3.57 user         0.33 sys<br>
Algebra/CovariantAndContravariant<br>
        1.57 real         1.33 user         0.23 sys<br>
        1.78 real         1.51 user         0.18 sys<br>
Algebra/Divisibility/Basic<br>
        1.74 real         1.53 user         0.20 sys<br>
        1.50 real         1.31 user         0.18 sys<br>
Algebra/Divisibility/Units<br>
        1.36 real         1.16 user         0.18 sys<br>
        1.51 real         1.32 user         0.18 sys<br>
Algebra/EuclideanDomain/Basic<br>
        3.93 real         3.66 user         0.26 sys<br>
        3.14 real         2.92 user         0.21 sys<br>
Algebra/EuclideanDomain/Defs<br>
        1.63 real         1.42 user         0.20 sys<br>
        1.82 real         1.62 user         0.19 sys<br>
Algebra/EuclideanDomain/Instances<br>
        6.10 real         5.89 user         0.20 sys<br>
        2.90 real         2.59 user         0.28 sys<br>
Algebra/Field/Basic<br>
        6.91 real         6.62 user         0.27 sys<br>
        4.68 real         4.40 user         0.27 sys<br>
Algebra/Field/Defs<br>
        2.04 real         1.84 user         0.19 sys<br>
        3.80 real         3.49 user         0.20 sys<br>
Algebra/Field/Opposite<br>
        7.11 real         6.87 user         0.23 sys<br>
        2.52 real         2.26 user         0.24 sys<br>
Algebra/Field/Power<br>
        1.05 real         0.81 user         0.23 sys<br>
        2.73 real         2.39 user         0.31 sys<br>
Algebra/FreeMonoid/Basic<br>
        4.82 real         4.48 user         0.32 sys<br>
        4.26 real         3.94 user         0.29 sys<br>
Algebra/FreeMonoid/Count<br>
        1.59 real         1.38 user         0.20 sys<br>
        2.61 real         2.25 user         0.28 sys<br>
Algebra/GCDMonoid/Basic<br>
       41.85 real        41.34 user         0.49 sys<br>
       12.45 real        12.05 user         0.38 sys<br>
Algebra/Group/Basic<br>
        6.56 real         6.00 user         0.54 sys<br>
        4.70 real         4.50 user         0.20 sys<br>
Algebra/Group/Commutator<br>
        0.65 real         0.48 user         0.16 sys<br>
        1.04 real         0.87 user         0.16 sys<br>
Algebra/Group/Commute<br>
        2.06 real         1.74 user         0.31 sys<br>
        1.67 real         1.49 user         0.17 sys<br>
Algebra/Group/Conj<br>
        3.22 real         2.94 user         0.27 sys<br>
        4.02 real         3.68 user         0.33 sys<br>
Algebra/Group/Defs<br>
        4.22 real         3.69 user         0.44 sys<br>
        5.01 real         4.81 user         0.20 sys<br>
Algebra/Group/Ext<br>
        1.57 real         1.35 user         0.21 sys<br>
        4.67 real         4.46 user         0.21 sys<br>
Algebra/Group/InjSurj<br>
        5.12 real         4.84 user         0.27 sys<br>
        4.39 real         4.19 user         0.21 sys<br>
Algebra/Group/Opposite<br>
        8.03 real         7.67 user         0.36 sys<br>
        6.42 real         6.18 user         0.25 sys<br>
Algebra/Group/OrderSynonym<br>
        2.18 real         1.80 user         0.37 sys<br>
        1.60 real         1.41 user         0.18 sys<br>
Algebra/Group/Pi<br>
        5.62 real         5.19 user         0.42 sys<br>
        7.14 real         6.87 user         0.28 sys<br>
Algebra/Group/Prod<br>
        8.09 real         7.57 user         0.51 sys<br>
        7.32 real         7.06 user         0.26 sys<br>
Algebra/Group/Semiconj<br>
        1.66 real         1.40 user         0.26 sys<br>
        1.69 real         1.47 user         0.18 sys<br>
Algebra/Group/TypeTags<br>
        3.17 real         2.93 user         0.23 sys<br>
        2.42 real         2.23 user         0.18 sys<br>
Algebra/Group/ULift<br>
        4.16 real         3.89 user         0.25 sys<br>
        2.03 real         1.82 user         0.21 sys<br>
Algebra/Group/Units<br>
        4.74 real         4.27 user         0.45 sys<br>
        3.24 real         3.05 user         0.20 sys<br>
Algebra/Group/WithOne/Basic<br>
        1.95 real         1.71 user         0.22 sys<br>
        2.64 real         2.40 user         0.22 sys<br>
Algebra/Group/WithOne/Defs<br>
        2.78 real         2.48 user         0.28 sys<br>
        2.30 real         2.10 user         0.20 sys<br>
Algebra/Group/WithOne/Units<br>
        0.85 real         0.66 user         0.17 sys<br>
        1.86 real         1.64 user         0.21 sys<br>
Algebra/GroupPower/Basic<br>
        6.11 real         5.73 user         0.37 sys<br>
        3.02 real         2.81 user         0.20 sys<br>
Algebra/GroupPower/Identities<br>
       11.34 real        11.04 user         0.29 sys<br>
        3.93 real         3.55 user         0.36 sys<br>
Algebra/GroupPower/Lemmas<br>
       20.16 real        19.61 user         0.54 sys<br>
       15.37 real        14.98 user         0.38 sys<br>
Algebra/GroupPower/Order<br>
       11.05 real        10.64 user         0.40 sys<br>
        6.51 real         6.18 user         0.33 sys<br>
Algebra/GroupPower/Ring<br>
        6.33 real         6.06 user         0.26 sys<br>
        3.67 real         3.38 user         0.28 sys<br>
Algebra/GroupRingAction/Basic<br>
        1.35 real         1.12 user         0.23 sys<br>
        2.90 real         2.58 user         0.30 sys<br>
Algebra/GroupWithZero/Basic<br>
        2.21 real         1.98 user         0.22 sys<br>
        2.30 real         2.11 user         0.18 sys<br>
Algebra/GroupWithZero/Commute<br>
        0.87 real         0.68 user         0.18 sys<br>
        1.47 real         1.24 user         0.18 sys<br>
Algebra/GroupWithZero/Defs<br>
        1.26 real         1.06 user         0.18 sys<br>
        2.19 real         1.99 user         0.18 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        0.91 real         0.71 user         0.19 sys<br>
        1.63 real         1.44 user         0.18 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        2.71 real         2.52 user         0.19 sys<br>
        1.84 real         1.65 user         0.18 sys<br>
Algebra/GroupWithZero/Power<br>
        5.12 real         4.83 user         0.27 sys<br>
        3.95 real         3.62 user         0.31 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        0.83 real         0.64 user         0.18 sys<br>
        1.49 real         1.30 user         0.19 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        2.03 real         1.77 user         0.25 sys<br>
        2.10 real         1.91 user         0.18 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        2.23 real         2.00 user         0.22 sys<br>
        2.17 real         1.93 user         0.20 sys<br>
Algebra/HierarchyDesign<br>
        0.18 real         0.13 user         0.05 sys<br>
        0.52 real         0.42 user         0.09 sys<br>
Algebra/Hom/Aut<br>
        5.39 real         5.11 user         0.27 sys<br>
        6.11 real         5.76 user         0.34 sys<br>
Algebra/Hom/Commute<br>
        0.71 real         0.52 user         0.18 sys<br>
        1.34 real         1.15 user         0.17 sys<br>
Algebra/Hom/Embedding<br>
        0.73 real         0.55 user         0.18 sys<br>
        1.35 real         1.16 user         0.18 sys<br>
Algebra/Hom/Equiv/Basic<br>
        6.60 real         6.12 user         0.46 sys<br>
        5.00 real         4.76 user         0.23 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        1.84 real         1.64 user         0.19 sys<br>
        1.80 real         1.60 user         0.19 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        2.62 real         2.35 user         0.26 sys<br>
        2.06 real         1.86 user         0.20 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        0.79 real         0.60 user         0.17 sys<br>
        1.60 real         1.39 user         0.20 sys<br>
Algebra/Hom/Group<br>
       12.95 real        12.26 user         0.68 sys<br>
        5.45 real         5.24 user         0.21 sys<br>
Algebra/Hom/GroupInstances<br>
        8.63 real         8.36 user         0.26 sys<br>
        5.88 real         5.65 user         0.23 sys<br>
Algebra/Hom/Iterate<br>
        4.51 real         4.20 user         0.30 sys<br>
        3.52 real         3.19 user         0.32 sys<br>
Algebra/Hom/Ring<br>
        9.31 real         8.94 user         0.36 sys<br>
        3.93 real         3.69 user         0.23 sys<br>
Algebra/Hom/Units<br>
        4.91 real         4.52 user         0.37 sys<br>
        2.69 real         2.49 user         0.19 sys<br>
Algebra/Homology/ComplexShape<br>
        0.85 real         0.67 user         0.18 sys<br>
        1.39 real         1.22 user         0.16 sys<br>
Algebra/Invertible<br>
        3.61 real         3.34 user         0.25 sys<br>
        2.92 real         2.70 user         0.21 sys<br>
Algebra/Module/Basic<br>
       20.07 real        19.66 user         0.39 sys<br>
        9.67 real         9.24 user         0.40 sys<br>
Algebra/Module/Hom<br>
        5.63 real         5.38 user         0.23 sys<br>
        6.68 real         6.28 user         0.39 sys<br>
Algebra/Module/Pi<br>
        2.45 real         2.19 user         0.24 sys<br>
        3.77 real         3.39 user         0.36 sys<br>
Algebra/Module/PointwisePi<br>
        1.50 real         1.24 user         0.25 sys<br>
        3.80 real         3.41 user         0.38 sys<br>
Algebra/Module/Prod<br>
        2.03 real         1.78 user         0.23 sys<br>
        3.17 real         2.82 user         0.33 sys<br>
Algebra/NeZero<br>
        0.70 real         0.52 user         0.17 sys<br>
        0.61 real         0.51 user         0.10 sys<br>
Algebra/Opposites<br>
        1.76 real         1.47 user         0.28 sys<br>
        1.42 real         1.24 user         0.17 sys<br>
Algebra/Order/AbsoluteValue<br>
        5.79<br>
[message truncated]</p>



<a name="322873008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/322873008" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#322873008">(Jan 22 2023 at 15:15)</a>:</h4>
<p>mathlib4 theory files:<br>
      281.72 real      2223.04 user       247.72 sys<br>
corresponding files in mathlib3:<br>
      194.67 real      2609.99 user        41.01 sys<br>
Algebra/Abs<br>
        0.71 real         0.60 user         0.10 sys<br>
        0.54 real         0.44 user         0.09 sys<br>
Algebra/Associated<br>
       15.41 real        14.95 user         0.45 sys<br>
       11.33 real        11.00 user         0.32 sys<br>
Algebra/BigOperators/Multiset/Basic<br>
        8.41 real         8.03 user         0.37 sys<br>
        8.35 real         7.99 user         0.34 sys<br>
Algebra/BigOperators/Multiset/Lemmas<br>
        1.12 real         0.89 user         0.22 sys<br>
        3.49 real         3.15 user         0.32 sys<br>
Algebra/Bounds<br>
        2.42 real         2.15 user         0.27 sys<br>
        3.08 real         2.80 user         0.27 sys<br>
Algebra/CharZero/Defs<br>
        0.77 real         0.60 user         0.17 sys<br>
        1.22 real         1.07 user         0.15 sys<br>
Algebra/CharZero/Lemmas<br>
        2.48 real         2.23 user         0.24 sys<br>
        3.73 real         3.42 user         0.30 sys<br>
Algebra/CovariantAndContravariant<br>
        1.48 real         1.26 user         0.21 sys<br>
        1.62 real         1.45 user         0.16 sys<br>
Algebra/Divisibility/Basic<br>
        1.69 real         1.49 user         0.18 sys<br>
        1.42 real         1.26 user         0.15 sys<br>
Algebra/Divisibility/Units<br>
        1.32 real         1.13 user         0.17 sys<br>
        1.44 real         1.27 user         0.16 sys<br>
Algebra/EuclideanDomain/Basic<br>
        3.79 real         3.54 user         0.24 sys<br>
        2.94 real         2.74 user         0.19 sys<br>
Algebra/EuclideanDomain/Defs<br>
        1.55 real         1.36 user         0.19 sys<br>
        1.71 real         1.54 user         0.16 sys<br>
Algebra/EuclideanDomain/Instances<br>
        5.83 real         5.64 user         0.19 sys<br>
        2.71 real         2.46 user         0.24 sys<br>
Algebra/Field/Basic<br>
        6.66 real         6.39 user         0.26 sys<br>
        4.41 real         4.16 user         0.24 sys<br>
Algebra/Field/Defs<br>
        1.95 real         1.76 user         0.18 sys<br>
        3.52 real         3.34 user         0.17 sys<br>
Algebra/Field/Opposite<br>
        6.98 real         6.77 user         0.20 sys<br>
        2.38 real         2.16 user         0.21 sys<br>
Algebra/Field/Power<br>
        0.99 real         0.77 user         0.21 sys<br>
        2.61 real         2.33 user         0.27 sys<br>
Algebra/FreeMonoid/Basic<br>
        4.27 real         3.94 user         0.31 sys<br>
        3.93 real         3.67 user         0.26 sys<br>
Algebra/FreeMonoid/Count<br>
        1.56 real         1.36 user         0.19 sys<br>
        2.38 real         2.13 user         0.24 sys<br>
Algebra/GCDMonoid/Basic<br>
       40.52 real        40.05 user         0.45 sys<br>
       11.28 real        10.94 user         0.32 sys<br>
Algebra/Group/Basic<br>
        6.10 real         5.58 user         0.51 sys<br>
        4.73 real         4.55 user         0.18 sys<br>
Algebra/Group/Commutator<br>
        0.60 real         0.45 user         0.14 sys<br>
        1.01 real         0.86 user         0.14 sys<br>
Algebra/Group/Commute<br>
        2.02 real         1.70 user         0.30 sys<br>
        1.61 real         1.44 user         0.16 sys<br>
Algebra/Group/Conj<br>
        3.16 real         2.88 user         0.26 sys<br>
        3.87 real         3.57 user         0.30 sys<br>
Algebra/Group/Defs<br>
        4.04 real         3.61 user         0.43 sys<br>
        4.81 real         4.63 user         0.18 sys<br>
Algebra/Group/Ext<br>
        1.53 real         1.33 user         0.20 sys<br>
        4.55 real         4.37 user         0.19 sys<br>
Algebra/Group/InjSurj<br>
        4.93 real         4.66 user         0.26 sys<br>
        4.50 real         4.33 user         0.18 sys<br>
Algebra/Group/Opposite<br>
        7.85 real         7.50 user         0.33 sys<br>
        6.15 real         5.94 user         0.23 sys<br>
Algebra/Group/OrderSynonym<br>
        2.15 real         1.77 user         0.36 sys<br>
        1.54 real         1.38 user         0.16 sys<br>
Algebra/Group/Pi<br>
        5.49 real         5.07 user         0.40 sys<br>
        7.02 real         6.77 user         0.26 sys<br>
Algebra/Group/Prod<br>
        7.83 real         7.32 user         0.50 sys<br>
        7.13 real         6.90 user         0.24 sys<br>
Algebra/Group/Semiconj<br>
        1.60 real         1.36 user         0.23 sys<br>
        1.60 real         1.43 user         0.16 sys<br>
Algebra/Group/TypeTags<br>
        3.07 real         2.84 user         0.22 sys<br>
        2.37 real         2.19 user         0.17 sys<br>
Algebra/Group/ULift<br>
        4.07 real         3.82 user         0.25 sys<br>
        2.00 real         1.80 user         0.19 sys<br>
Algebra/Group/Units<br>
        4.61 real         4.17 user         0.43 sys<br>
        3.12 real         2.95 user         0.17 sys<br>
Algebra/Group/WithOne/Basic<br>
        1.93 real         1.69 user         0.22 sys<br>
        2.53 real         2.33 user         0.20 sys<br>
Algebra/Group/WithOne/Defs<br>
        2.72 real         2.44 user         0.27 sys<br>
        2.25 real         2.06 user         0.18 sys<br>
Algebra/Group/WithOne/Units<br>
        0.86 real         0.67 user         0.17 sys<br>
        1.77 real         1.57 user         0.19 sys<br>
Algebra/GroupPower/Basic<br>
        6.01 real         5.65 user         0.35 sys<br>
        2.96 real         2.78 user         0.18 sys<br>
Algebra/GroupPower/Identities<br>
       11.17 real        10.90 user         0.27 sys<br>
        3.81 real         3.47 user         0.33 sys<br>
Algebra/GroupPower/Lemmas<br>
       19.60 real        19.06 user         0.53 sys<br>
       14.77 real        14.46 user         0.34 sys<br>
Algebra/GroupPower/Order<br>
       10.79 real        10.40 user         0.38 sys<br>
        6.30 real         6.00 user         0.30 sys<br>
Algebra/GroupPower/Ring<br>
        6.22 real         5.96 user         0.24 sys<br>
        3.58 real         3.32 user         0.26 sys<br>
Algebra/GroupRingAction/Basic<br>
        1.33 real         1.10 user         0.21 sys<br>
        2.80 real         2.51 user         0.28 sys<br>
Algebra/GroupWithZero/Basic<br>
        2.17 real         1.94 user         0.21 sys<br>
        2.23 real         2.07 user         0.16 sys<br>
Algebra/GroupWithZero/Commute<br>
        0.84 real         0.66 user         0.17 sys<br>
        1.38 real         1.21 user         0.16 sys<br>
Algebra/GroupWithZero/Defs<br>
        1.22 real         1.04 user         0.17 sys<br>
        2.14 real         1.97 user         0.15 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        0.88 real         0.69 user         0.18 sys<br>
        1.59 real         1.41 user         0.16 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        2.65 real         2.47 user         0.18 sys<br>
        1.79 real         1.63 user         0.16 sys<br>
Algebra/GroupWithZero/Power<br>
        4.97 real         4.72 user         0.24 sys<br>
        3.84 real         3.54 user         0.29 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        0.79 real         0.61 user         0.16 sys<br>
        1.44 real         1.27 user         0.16 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        1.96 real         1.72 user         0.22 sys<br>
        2.04 real         1.87 user         0.16 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        2.20 real         1.97 user         0.21 sys<br>
        2.05 real         1.86 user         0.18 sys<br>
Algebra/HierarchyDesign<br>
        0.18 real         0.13 user         0.04 sys<br>
        0.50 real         0.41 user         0.08 sys<br>
Algebra/Hom/Aut<br>
        5.32 real         5.05 user         0.26 sys<br>
        5.90 real         5.58 user         0.31 sys<br>
Algebra/Hom/Commute<br>
        0.68 real         0.51 user         0.16 sys<br>
        1.28 real         1.12 user         0.16 sys<br>
Algebra/Hom/Embedding<br>
        0.71 real         0.54 user         0.16 sys<br>
        1.30 real         1.13 user         0.16 sys<br>
Algebra/Hom/Equiv/Basic<br>
        6.61 real         6.15 user         0.45 sys<br>
        4.80 real         4.60 user         0.20 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        1.77 real         1.59 user         0.17 sys<br>
        1.77 real         1.59 user         0.17 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        2.55 real         2.29 user         0.25 sys<br>
        1.98 real         1.79 user         0.18 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        0.76 real         0.58 user         0.17 sys<br>
        1.52 real         1.33 user         0.17 sys<br>
Algebra/Hom/Group<br>
       12.79 real        12.11 user         0.67 sys<br>
        5.30 real         5.12 user         0.19 sys<br>
Algebra/Hom/GroupInstances<br>
        8.45 real         8.19 user         0.25 sys<br>
        5.66 real         5.45 user         0.21 sys<br>
Algebra/Hom/Iterate<br>
        4.38 real         4.08 user         0.29 sys<br>
        3.37 real         3.08 user         0.29 sys<br>
Algebra/Hom/Ring<br>
        9.09 real         8.74 user         0.34 sys<br>
        3.86 real         3.64 user         0.21 sys<br>
Algebra/Hom/Units<br>
        4.84 real         4.45 user         0.37 sys<br>
        2.58 real         2.41 user         0.17 sys<br>
Algebra/Homology/ComplexShape<br>
        0.83 real         0.66 user         0.16 sys<br>
        1.38 real         1.23 user         0.14 sys<br>
Algebra/Invertible<br>
        3.49 real         3.25 user         0.23 sys<br>
        2.78 real         2.58 user         0.19 sys<br>
Algebra/Module/Basic<br>
       19.88 real        19.51 user         0.36 sys<br>
        9.33 real         8.97 user         0.35 sys<br>
Algebra/Module/Hom<br>
        5.56 real         5.32 user         0.23 sys<br>
        6.37 real         6.00 user         0.36 sys<br>
Algebra/Module/Pi<br>
        2.39 real         2.15 user         0.23 sys<br>
        3.70 real         3.34 user         0.34 sys<br>
Algebra/Module/PointwisePi<br>
        1.45 real         1.21 user         0.23 sys<br>
        3.70 real         3.34 user         0.35 sys<br>
Algebra/Module/Prod<br>
        2.01 real         1.78 user         0.22 sys<br>
        3.08 real         2.77 user         0.31 sys<br>
Algebra/NeZero<br>
        0.67 real         0.51 user         0.15 sys<br>
        0.59 real         0.50 user         0.09 sys<br>
Algebra/Opposites<br>
        1.70 real         1.43 user         0.26 sys<br>
        1.37 real         1.21 user         0.15 sys<br>
Algebra/Order/AbsoluteValue<br>
        5.65<br>
[message truncated]</p>



<a name="323045888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/323045888" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#323045888">(Jan 23 2023 at 15:16)</a>:</h4>
<p>mathlib4 theory files:<br>
      320.10 real      2191.14 user       241.89 sys<br>
corresponding files in mathlib3:<br>
      195.55 real      2624.40 user        41.10 sys<br>
Algebra/Abs<br>
        0.72 real         0.60 user         0.10 sys<br>
        0.51 real         0.42 user         0.08 sys<br>
Algebra/Associated<br>
       15.36 real        14.89 user         0.45 sys<br>
       11.64 real        11.17 user         0.33 sys<br>
Algebra/BigOperators/Multiset/Basic<br>
        8.38 real         7.99 user         0.37 sys<br>
        8.32 real         7.96 user         0.35 sys<br>
Algebra/BigOperators/Multiset/Lemmas<br>
        1.12 real         0.89 user         0.22 sys<br>
        3.49 real         3.15 user         0.33 sys<br>
Algebra/Bounds<br>
        2.41 real         2.12 user         0.28 sys<br>
        3.09 real         2.80 user         0.28 sys<br>
Algebra/CharZero/Defs<br>
        0.78 real         0.60 user         0.16 sys<br>
        1.23 real         1.07 user         0.15 sys<br>
Algebra/CharZero/Lemmas<br>
        2.51 real         2.26 user         0.24 sys<br>
        3.69 real         3.38 user         0.30 sys<br>
Algebra/CovariantAndContravariant<br>
        1.49 real         1.27 user         0.21 sys<br>
        1.61 real         1.44 user         0.16 sys<br>
Algebra/Divisibility/Basic<br>
        1.68 real         1.48 user         0.18 sys<br>
        1.45 real         1.28 user         0.16 sys<br>
Algebra/Divisibility/Units<br>
        1.30 real         1.11 user         0.18 sys<br>
        1.43 real         1.26 user         0.16 sys<br>
Algebra/EuclideanDomain/Basic<br>
        3.78 real         3.53 user         0.24 sys<br>
        2.97 real         2.77 user         0.19 sys<br>
Algebra/EuclideanDomain/Defs<br>
        1.54 real         1.34 user         0.19 sys<br>
        1.72 real         1.54 user         0.16 sys<br>
Algebra/EuclideanDomain/Instances<br>
        5.89 real         5.70 user         0.19 sys<br>
        2.69 real         2.43 user         0.25 sys<br>
Algebra/Field/Basic<br>
        6.71 real         6.44 user         0.26 sys<br>
        4.38 real         4.13 user         0.25 sys<br>
Algebra/Field/Defs<br>
        1.95 real         1.76 user         0.18 sys<br>
        3.54 real         3.35 user         0.18 sys<br>
Algebra/Field/Opposite<br>
        6.95 real         6.73 user         0.20 sys<br>
        2.39 real         2.17 user         0.21 sys<br>
Algebra/Field/Power<br>
        1.02 real         0.80 user         0.22 sys<br>
        2.55 real         2.27 user         0.27 sys<br>
Algebra/FreeMonoid/Basic<br>
        4.25 real         3.93 user         0.31 sys<br>
        3.99 real         3.73 user         0.25 sys<br>
Algebra/FreeMonoid/Count<br>
        1.53 real         1.33 user         0.19 sys<br>
        2.39 real         2.14 user         0.24 sys<br>
Algebra/GCDMonoid/Basic<br>
       40.46 real        40.00 user         0.45 sys<br>
       11.18 real        10.85 user         0.32 sys<br>
Algebra/Group/Basic<br>
        6.13 real         5.61 user         0.51 sys<br>
        4.68 real         4.51 user         0.18 sys<br>
Algebra/Group/Commutator<br>
        0.60 real         0.45 user         0.15 sys<br>
        1.00 real         0.85 user         0.14 sys<br>
Algebra/Group/Commute<br>
        2.05 real         1.74 user         0.31 sys<br>
        1.61 real         1.45 user         0.16 sys<br>
Algebra/Group/Conj<br>
        3.16 real         2.89 user         0.26 sys<br>
        3.89 real         3.57 user         0.30 sys<br>
Algebra/Group/Defs<br>
        4.05 real         3.60 user         0.44 sys<br>
        4.82 real         4.64 user         0.18 sys<br>
Algebra/Group/Ext<br>
        1.55 real         1.35 user         0.20 sys<br>
        4.51 real         4.33 user         0.19 sys<br>
Algebra/Group/InjSurj<br>
        4.95 real         4.67 user         0.26 sys<br>
        4.53 real         4.35 user         0.19 sys<br>
Algebra/Group/Opposite<br>
        7.88 real         7.53 user         0.34 sys<br>
        6.09 real         5.88 user         0.22 sys<br>
Algebra/Group/OrderSynonym<br>
        2.15 real         1.78 user         0.36 sys<br>
        1.55 real         1.39 user         0.16 sys<br>
Algebra/Group/Pi<br>
        5.45 real         5.04 user         0.40 sys<br>
        7.02 real         6.77 user         0.26 sys<br>
Algebra/Group/Prod<br>
        7.85 real         7.35 user         0.49 sys<br>
        7.08 real         6.85 user         0.24 sys<br>
Algebra/Group/Semiconj<br>
        1.65 real         1.40 user         0.25 sys<br>
        1.60 real         1.44 user         0.16 sys<br>
Algebra/Group/TypeTags<br>
        3.30 real         3.07 user         0.23 sys<br>
        2.38 real         2.20 user         0.17 sys<br>
Algebra/Group/ULift<br>
        4.10 real         3.84 user         0.25 sys<br>
        1.97 real         1.78 user         0.18 sys<br>
Algebra/Group/Units<br>
        4.61 real         4.16 user         0.44 sys<br>
        3.16 real         2.98 user         0.17 sys<br>
Algebra/Group/WithOne/Basic<br>
        1.89 real         1.66 user         0.21 sys<br>
        2.53 real         2.32 user         0.20 sys<br>
Algebra/Group/WithOne/Defs<br>
        2.79 real         2.51 user         0.27 sys<br>
        2.27 real         2.07 user         0.19 sys<br>
Algebra/Group/WithOne/Units<br>
        0.84 real         0.66 user         0.17 sys<br>
        1.77 real         1.57 user         0.19 sys<br>
Algebra/GroupPower/Basic<br>
        6.02 real         5.67 user         0.35 sys<br>
        2.93 real         2.74 user         0.19 sys<br>
Algebra/GroupPower/Identities<br>
       11.19 real        10.91 user         0.27 sys<br>
        3.81 real         3.47 user         0.33 sys<br>
Algebra/GroupPower/Lemmas<br>
       19.58 real        19.02 user         0.54 sys<br>
       14.85 real        14.53 user         0.35 sys<br>
Algebra/GroupPower/Order<br>
       10.85 real        10.46 user         0.38 sys<br>
        6.26 real         5.98 user         0.29 sys<br>
Algebra/GroupPower/Ring<br>
        6.24 real         5.97 user         0.26 sys<br>
        3.58 real         3.31 user         0.26 sys<br>
Algebra/GroupRingAction/Basic<br>
        1.36 real         1.13 user         0.22 sys<br>
        2.81 real         2.51 user         0.29 sys<br>
Algebra/GroupWithZero/Basic<br>
        2.19 real         1.96 user         0.22 sys<br>
        2.23 real         2.06 user         0.16 sys<br>
Algebra/GroupWithZero/Commute<br>
        0.85 real         0.67 user         0.17 sys<br>
        1.42 real         1.25 user         0.16 sys<br>
Algebra/GroupWithZero/Defs<br>
        1.24 real         1.05 user         0.17 sys<br>
        2.10 real         1.93 user         0.15 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        0.90 real         0.71 user         0.17 sys<br>
        1.59 real         1.42 user         0.16 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        2.66 real         2.48 user         0.18 sys<br>
        1.82 real         1.64 user         0.17 sys<br>
Algebra/GroupWithZero/Power<br>
        5.39 real         5.14 user         0.25 sys<br>
        3.88 real         3.58 user         0.29 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        0.79 real         0.61 user         0.16 sys<br>
        1.44 real         1.27 user         0.16 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        1.96 real         1.72 user         0.22 sys<br>
        2.04 real         1.86 user         0.16 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        2.21 real         1.99 user         0.22 sys<br>
        2.06 real         1.87 user         0.19 sys<br>
Algebra/HierarchyDesign<br>
        0.18 real         0.13 user         0.04 sys<br>
        0.49 real         0.41 user         0.08 sys<br>
Algebra/Hom/Aut<br>
        5.32 real         5.04 user         0.26 sys<br>
        5.90 real         5.57 user         0.32 sys<br>
Algebra/Hom/Commute<br>
        0.68 real         0.51 user         0.16 sys<br>
        1.29 real         1.12 user         0.16 sys<br>
Algebra/Hom/Embedding<br>
        0.75 real         0.57 user         0.17 sys<br>
        1.31 real         1.14 user         0.16 sys<br>
Algebra/Hom/Equiv/Basic<br>
        6.44 real         5.96 user         0.46 sys<br>
        4.82 real         4.62 user         0.20 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        1.77 real         1.59 user         0.18 sys<br>
        1.74 real         1.56 user         0.17 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        2.54 real         2.28 user         0.25 sys<br>
        1.97 real         1.79 user         0.18 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        0.79 real         0.60 user         0.18 sys<br>
        1.53 real         1.34 user         0.18 sys<br>
Algebra/Hom/Group<br>
       12.78 real        12.10 user         0.67 sys<br>
        5.32 real         5.14 user         0.19 sys<br>
Algebra/Hom/GroupInstances<br>
        8.45 real         8.19 user         0.25 sys<br>
        5.82 real         5.60 user         0.22 sys<br>
Algebra/Hom/Iterate<br>
        4.40 real         4.10 user         0.29 sys<br>
        3.43 real         3.13 user         0.29 sys<br>
Algebra/Hom/Ring<br>
        9.06 real         8.71 user         0.33 sys<br>
        3.84 real         3.62 user         0.21 sys<br>
Algebra/Hom/Units<br>
        4.82 real         4.43 user         0.37 sys<br>
        2.63 real         2.45 user         0.17 sys<br>
Algebra/Homology/ComplexShape<br>
        0.85 real         0.67 user         0.17 sys<br>
        1.37 real         1.21 user         0.15 sys<br>
Algebra/Invertible<br>
        3.51 real         3.27 user         0.23 sys<br>
        2.81 real         2.62 user         0.19 sys<br>
Algebra/Module/Basic<br>
       20.74 real        20.36 user         0.37 sys<br>
        9.39 real         9.02 user         0.36 sys<br>
Algebra/Module/Hom<br>
        5.53 real         5.29 user         0.23 sys<br>
        6.43 real         6.06 user         0.36 sys<br>
Algebra/Module/Pi<br>
        2.40 real         2.16 user         0.22 sys<br>
        3.69 real         3.33 user         0.34 sys<br>
Algebra/Module/PointwisePi<br>
        1.46 real         1.21 user         0.23 sys<br>
        3.75 real         3.37 user         0.36 sys<br>
Algebra/Module/Prod<br>
        1.98 real         1.75 user         0.21 sys<br>
        3.08 real         2.76 user         0.31 sys<br>
Algebra/NeZero<br>
        0.67 real         0.51 user         0.14 sys<br>
        0.63 real         0.53 user         0.09 sys<br>
Algebra/Opposites<br>
        1.72 real         1.44 user         0.26 sys<br>
        1.37 real         1.21 user         0.16 sys<br>
Algebra/Order/AbsoluteValue<br>
        5.61<br>
[message truncated]</p>



<a name="323278216"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/port%20benchmark/near/323278216" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> port-benchmark-bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/port.20benchmark.html#323278216">(Jan 24 2023 at 15:15)</a>:</h4>
<p>mathlib4 theory files:<br>
      289.89 real      2216.37 user       239.30 sys<br>
corresponding files in mathlib3:<br>
      196.73 real      2608.00 user        41.63 sys<br>
Algebra/Abs<br>
        0.72 real         0.60 user         0.10 sys<br>
        0.51 real         0.42 user         0.08 sys<br>
Algebra/Associated<br>
       15.36 real        14.90 user         0.45 sys<br>
       11.29 real        10.96 user         0.31 sys<br>
Algebra/BigOperators/Multiset/Basic<br>
        8.43 real         8.04 user         0.38 sys<br>
        8.39 real         8.02 user         0.36 sys<br>
Algebra/BigOperators/Multiset/Lemmas<br>
        1.13 real         0.89 user         0.22 sys<br>
        3.55 real         3.18 user         0.34 sys<br>
Algebra/Bounds<br>
        2.41 real         2.12 user         0.27 sys<br>
        3.09 real         2.80 user         0.28 sys<br>
Algebra/CharZero/Defs<br>
        0.77 real         0.60 user         0.16 sys<br>
        1.23 real         1.07 user         0.15 sys<br>
Algebra/CharZero/Lemmas<br>
        2.51 real         2.25 user         0.25 sys<br>
        3.69 real         3.38 user         0.30 sys<br>
Algebra/CovariantAndContravariant<br>
        1.50 real         1.27 user         0.21 sys<br>
        1.62 real         1.45 user         0.16 sys<br>
Algebra/Divisibility/Basic<br>
        1.72 real         1.52 user         0.18 sys<br>
        1.42 real         1.26 user         0.16 sys<br>
Algebra/Divisibility/Units<br>
        1.30 real         1.11 user         0.18 sys<br>
        1.43 real         1.26 user         0.16 sys<br>
Algebra/EuclideanDomain/Basic<br>
        3.78 real         3.53 user         0.23 sys<br>
        2.97 real         2.78 user         0.19 sys<br>
Algebra/EuclideanDomain/Defs<br>
        1.53 real         1.34 user         0.19 sys<br>
        1.71 real         1.54 user         0.16 sys<br>
Algebra/EuclideanDomain/Instances<br>
        5.87 real         5.68 user         0.19 sys<br>
        2.67 real         2.41 user         0.25 sys<br>
Algebra/Field/Basic<br>
        6.79 real         6.52 user         0.26 sys<br>
        4.39 real         4.14 user         0.24 sys<br>
Algebra/Field/Defs<br>
        1.96 real         1.77 user         0.18 sys<br>
        3.57 real         3.38 user         0.18 sys<br>
Algebra/Field/Opposite<br>
        6.93 real         6.71 user         0.21 sys<br>
        2.42 real         2.19 user         0.22 sys<br>
Algebra/Field/Power<br>
        0.99 real         0.77 user         0.21 sys<br>
        2.56 real         2.27 user         0.27 sys<br>
Algebra/FreeMonoid/Basic<br>
        4.27 real         3.94 user         0.33 sys<br>
        4.00 real         3.74 user         0.26 sys<br>
Algebra/FreeMonoid/Count<br>
        1.55 real         1.35 user         0.19 sys<br>
        2.40 real         2.15 user         0.24 sys<br>
Algebra/GCDMonoid/Basic<br>
       40.37 real        39.90 user         0.45 sys<br>
       11.27 real        10.91 user         0.34 sys<br>
Algebra/Group/Basic<br>
        6.15 real         5.62 user         0.53 sys<br>
        4.65 real         4.48 user         0.17 sys<br>
Algebra/Group/Commutator<br>
        0.61 real         0.45 user         0.15 sys<br>
        1.01 real         0.86 user         0.14 sys<br>
Algebra/Group/Commute<br>
        2.06 real         1.73 user         0.31 sys<br>
        1.61 real         1.45 user         0.16 sys<br>
Algebra/Group/Conj<br>
        3.15 real         2.88 user         0.26 sys<br>
        3.93 real         3.61 user         0.31 sys<br>
Algebra/Group/Defs<br>
        4.04 real         3.59 user         0.43 sys<br>
        4.85 real         4.67 user         0.18 sys<br>
Algebra/Group/Ext<br>
        1.57 real         1.36 user         0.20 sys<br>
        4.48 real         4.30 user         0.19 sys<br>
Algebra/Group/InjSurj<br>
        4.96 real         4.69 user         0.27 sys<br>
        4.48 real         4.31 user         0.18 sys<br>
Algebra/Group/Opposite<br>
        7.89 real         7.54 user         0.35 sys<br>
        6.12 real         5.92 user         0.23 sys<br>
Algebra/Group/OrderSynonym<br>
        2.19 real         1.80 user         0.38 sys<br>
        1.55 real         1.38 user         0.16 sys<br>
Algebra/Group/Pi<br>
        5.46 real         5.05 user         0.40 sys<br>
        7.01 real         6.76 user         0.26 sys<br>
Algebra/Group/Prod<br>
        7.88 real         7.36 user         0.50 sys<br>
        7.08 real         6.85 user         0.24 sys<br>
Algebra/Group/Semiconj<br>
        1.62 real         1.37 user         0.24 sys<br>
        1.61 real         1.44 user         0.16 sys<br>
Algebra/Group/TypeTags<br>
        3.12 real         2.89 user         0.23 sys<br>
        2.38 real         2.20 user         0.17 sys<br>
Algebra/Group/ULift<br>
        4.12 real         3.86 user         0.24 sys<br>
        1.98 real         1.79 user         0.19 sys<br>
Algebra/Group/Units<br>
        4.63 real         4.18 user         0.45 sys<br>
        3.14 real         2.96 user         0.18 sys<br>
Algebra/Group/WithOne/Basic<br>
        1.90 real         1.67 user         0.23 sys<br>
        2.53 real         2.33 user         0.20 sys<br>
Algebra/Group/WithOne/Defs<br>
        2.75 real         2.47 user         0.27 sys<br>
        2.28 real         2.08 user         0.19 sys<br>
Algebra/Group/WithOne/Units<br>
        0.83 real         0.65 user         0.18 sys<br>
        1.78 real         1.58 user         0.19 sys<br>
Algebra/GroupPower/Basic<br>
        6.02 real         5.67 user         0.34 sys<br>
        2.92 real         2.73 user         0.18 sys<br>
Algebra/GroupPower/Identities<br>
       11.16 real        10.87 user         0.28 sys<br>
        3.81 real         3.47 user         0.33 sys<br>
Algebra/GroupPower/Lemmas<br>
       19.59 real        19.05 user         0.53 sys<br>
       14.80 real        14.47 user         0.34 sys<br>
Algebra/GroupPower/Order<br>
       10.82 real        10.43 user         0.38 sys<br>
        6.28 real         6.00 user         0.28 sys<br>
Algebra/GroupPower/Ring<br>
        6.17 real         5.91 user         0.25 sys<br>
        3.58 real         3.31 user         0.26 sys<br>
Algebra/GroupRingAction/Basic<br>
        1.36 real         1.12 user         0.22 sys<br>
        2.81 real         2.51 user         0.28 sys<br>
Algebra/GroupWithZero/Basic<br>
        2.18 real         1.96 user         0.22 sys<br>
        2.24 real         2.07 user         0.16 sys<br>
Algebra/GroupWithZero/Commute<br>
        0.85 real         0.67 user         0.18 sys<br>
        1.41 real         1.23 user         0.17 sys<br>
Algebra/GroupWithZero/Defs<br>
        1.23 real         1.05 user         0.18 sys<br>
        2.11 real         1.94 user         0.15 sys<br>
Algebra/GroupWithZero/Divisibility<br>
        0.90 real         0.71 user         0.17 sys<br>
        1.59 real         1.42 user         0.16 sys<br>
Algebra/GroupWithZero/InjSurj<br>
        2.68 real         2.49 user         0.17 sys<br>
        1.80 real         1.63 user         0.17 sys<br>
Algebra/GroupWithZero/Power<br>
        4.96 real         4.70 user         0.25 sys<br>
        3.89 real         3.58 user         0.29 sys<br>
Algebra/GroupWithZero/Semiconj<br>
        0.80 real         0.62 user         0.17 sys<br>
        1.45 real         1.28 user         0.16 sys<br>
Algebra/GroupWithZero/Units/Basic<br>
        1.96 real         1.72 user         0.23 sys<br>
        2.02 real         1.85 user         0.16 sys<br>
Algebra/GroupWithZero/Units/Lemmas<br>
        2.22 real         1.99 user         0.21 sys<br>
        2.06 real         1.87 user         0.19 sys<br>
Algebra/HierarchyDesign<br>
        0.18 real         0.13 user         0.04 sys<br>
        0.49 real         0.40 user         0.08 sys<br>
Algebra/Hom/Aut<br>
        5.30 real         5.03 user         0.26 sys<br>
        5.89 real         5.55 user         0.32 sys<br>
Algebra/Hom/Commute<br>
        0.68 real         0.51 user         0.17 sys<br>
        1.29 real         1.12 user         0.16 sys<br>
Algebra/Hom/Embedding<br>
        0.72 real         0.54 user         0.16 sys<br>
        1.31 real         1.14 user         0.16 sys<br>
Algebra/Hom/Equiv/Basic<br>
        6.42 real         5.96 user         0.45 sys<br>
        4.83 real         4.63 user         0.20 sys<br>
Algebra/Hom/Equiv/TypeTags<br>
        1.79 real         1.60 user         0.18 sys<br>
        1.74 real         1.56 user         0.17 sys<br>
Algebra/Hom/Equiv/Units/Basic<br>
        2.55 real         2.29 user         0.25 sys<br>
        1.98 real         1.79 user         0.18 sys<br>
Algebra/Hom/Equiv/Units/GroupWithZero<br>
        0.78 real         0.59 user         0.18 sys<br>
        1.52 real         1.33 user         0.18 sys<br>
Algebra/Hom/Group<br>
       12.73 real        12.05 user         0.66 sys<br>
        5.30 real         5.11 user         0.19 sys<br>
Algebra/Hom/GroupInstances<br>
        8.42 real         8.16 user         0.25 sys<br>
        5.74 real         5.52 user         0.21 sys<br>
Algebra/Hom/Iterate<br>
        4.41 real         4.11 user         0.28 sys<br>
        3.43 real         3.12 user         0.29 sys<br>
Algebra/Hom/Ring<br>
        9.04 real         8.70 user         0.33 sys<br>
        3.85 real         3.62 user         0.22 sys<br>
Algebra/Hom/Units<br>
        4.82 real         4.44 user         0.37 sys<br>
        2.62 real         2.43 user         0.18 sys<br>
Algebra/Homology/ComplexShape<br>
        0.83 real         0.66 user         0.17 sys<br>
        1.35 real         1.19 user         0.15 sys<br>
Algebra/Invertible<br>
        3.52 real         3.27 user         0.23 sys<br>
        2.82 real         2.62 user         0.19 sys<br>
Algebra/Module/Basic<br>
       19.66 real        19.27 user         0.38 sys<br>
        9.42 real         9.00 user         0.39 sys<br>
Algebra/Module/Hom<br>
        5.59 real         5.33 user         0.25 sys<br>
        6.42 real         6.04 user         0.36 sys<br>
Algebra/Module/Pi<br>
        2.39 real         2.16 user         0.23 sys<br>
        3.68 real         3.33 user         0.34 sys<br>
Algebra/Module/PointwisePi<br>
        1.46 real         1.22 user         0.24 sys<br>
        3.73 real         3.37 user         0.36 sys<br>
Algebra/Module/Prod<br>
        1.98 real         1.75 user         0.22 sys<br>
        3.07 real         2.76 user         0.31 sys<br>
Algebra/NeZero<br>
        0.67 real         0.51 user         0.15 sys<br>
        0.60 real         0.51 user         0.09 sys<br>
Algebra/Opposites<br>
        1.72 real         1.44 user         0.27 sys<br>
        1.37 real         1.21 user         0.16 sys<br>
Algebra/Order/AbsoluteValue<br>
        5.64<br>
[message truncated]</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>