---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html">olympiad problems with mathlib4</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="314346813"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/314346813" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#314346813">(Dec 06 2022 at 23:28)</a>:</h4>
<p>I think we're at the point where we can try some simple olympiad problems with mathlib4, so I'm going to try that right now on stream: <a href="https://www.twitch.tv/dwrensha">https://www.twitch.tv/dwrensha</a></p>



<a name="314347599"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/314347599" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#314347599">(Dec 06 2022 at 23:33)</a>:</h4>
<p>Can mathport not translate this stuff for you?</p>



<a name="314347739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/314347739" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#314347739">(Dec 06 2022 at 23:34)</a>:</h4>
<p>yeah, but that's less fun</p>



<a name="314350021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/314350021" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jason Rute <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#314350021">(Dec 06 2022 at 23:54)</a>:</h4>
<p>But can LeanAid (<a class="stream-topic" data-stream-id="270676" href="/#narrow/stream/270676-lean4/topic/LeanAide.20translation.3A.20Natural.20language.20to.20Lean.204">#lean4 &gt; LeanAide translation: Natural language to Lean 4</a>) translate it for you.  That sounds fun!</p>



<a name="314354201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/314354201" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#314354201">(Dec 07 2022 at 00:24)</a>:</h4>
<p>First problem: done!<br>
<a href="https://github.com/dwrensha/math-puzzles-in-lean4/blob/5e87d4a793f9ec04846b63bdbbdd4ebe5c73f949/MathPuzzles/russia1998_q42.lean">https://github.com/dwrensha/math-puzzles-in-lean4/blob/5e87d4a793f9ec04846b63bdbbdd4ebe5c73f949/MathPuzzles/russia1998_q42.lean</a></p>



<a name="314354418"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/314354418" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#314354418">(Dec 07 2022 at 00:26)</a>:</h4>
<p>I at first had </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">variable</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">CommRing</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">NeZero</span> <span class="o">(</span><span class="mi">2</span><span class="o">:</span><span class="n">R</span><span class="o">)]</span> <span class="o">[</span><span class="n">CancelMonoidWithZero</span> <span class="n">R</span><span class="o">]</span>
</code></pre></div>
<p>and that didn't work due to an error</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">application</span> <span class="n">type</span> <span class="n">mismatch</span>
  <span class="n">Iff.mp</span> <span class="o">(</span><span class="n">mul_right_inj'</span> <span class="bp">?</span><span class="n">m.7061</span><span class="o">)</span> <span class="n">h2</span>
<span class="n">argument</span>
  <span class="n">h2</span>
<span class="n">has</span> <span class="n">type</span>
  <span class="bp">@</span><span class="n">HMul.hMul</span> <span class="n">R</span> <span class="n">R</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">instHMul</span> <span class="n">R</span> <span class="n">NonUnitalNonAssocRing.toMul</span><span class="o">)</span> <span class="mi">2</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">a</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="n">but</span> <span class="n">is</span> <span class="n">expected</span> <span class="n">to</span> <span class="k">have</span> <span class="n">type</span>
  <span class="bp">@</span><span class="n">HMul.hMul</span> <span class="n">R</span> <span class="n">R</span> <span class="n">R</span> <span class="o">(</span><span class="bp">@</span><span class="n">instHMul</span> <span class="n">R</span> <span class="n">MulZeroClass.toMul</span><span class="o">)</span> <span class="mi">2</span> <span class="n">x</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> <span class="n">a</span> <span class="o">:</span> <span class="kt">Prop</span>
</code></pre></div>



<a name="314354486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/314354486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#314354486">(Dec 07 2022 at 00:26)</a>:</h4>
<p>but then when I did </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">class</span> <span class="n">RealLike</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="kd">extends</span>
  <span class="n">CommRing</span> <span class="n">R</span><span class="o">,</span> <span class="n">NeZero</span> <span class="o">(</span><span class="mi">2</span><span class="o">:</span><span class="n">R</span><span class="o">),</span> <span class="n">CancelMonoidWithZero</span> <span class="n">R</span>

<span class="kd">variable</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">)</span> <span class="o">[</span><span class="n">CommRing</span> <span class="n">R</span><span class="o">]</span> <span class="o">[</span><span class="n">NeZero</span> <span class="o">(</span><span class="mi">2</span><span class="o">:</span><span class="n">R</span><span class="o">)]</span> <span class="o">[</span><span class="n">CancelMonoidWithZero</span> <span class="n">R</span><span class="o">]</span>
</code></pre></div>
<p>it worked.</p>



<a name="314354632"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/314354632" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#314354632">(Dec 07 2022 at 00:27)</a>:</h4>
<p>(I don't think this is a Lean 3 / Lean 4 difference, just something that I stumbled on when trying to mock out the real numbers)</p>



<a name="320567868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/320567868" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#320567868">(Jan 11 2023 at 00:01)</a>:</h4>
<p>Tonight I'm going to try formalizing some MiniF2F problems with Mathlib4.  <a href="https://www.twitch.tv/dwrensha">https://www.twitch.tv/dwrensha</a></p>



<a name="320568065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/320568065" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#320568065">(Jan 11 2023 at 00:02)</a>:</h4>
<p>Good luck!  But I imagine <a href="https://github.com/leanprover-community/mathlib4/pull/1102">mathlib4#1102</a> and <a href="https://github.com/leanprover-community/mathlib4/pull/1189">mathlib4#1189</a> will be major obstacles ...</p>



<a name="320568746"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/320568746" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#320568746">(Jan 11 2023 at 00:09)</a>:</h4>
<p>yeah, I'm probably going to mostly stick to ints and nats</p>



<a name="320576044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/320576044" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#320576044">(Jan 11 2023 at 01:23)</a>:</h4>
<p>We found a bug in one of the problems! <a href="https://github.com/openai/miniF2F/issues/125">https://github.com/openai/miniF2F/issues/125</a></p>



<a name="320577242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/320577242" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#320577242">(Jan 11 2023 at 01:37)</a>:</h4>
<p>miniF2F has many such problems, there was a thread about that elsewhere. Facebook's version fixes a small fraction of those.</p>



<a name="320577415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/olympiad%20problems%20with%20mathlib4/near/320577415" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/olympiad.20problems.20with.20mathlib4.html#320577415">(Jan 11 2023 at 01:39)</a>:</h4>
<p>fwiw, this particular bug is not fixed on the Facebook fork: <a href="https://github.com/facebookresearch/miniF2F/blob/5271ddec788677c815cf818a06f368ef6498a106/lean/src/valid.lean#L57-L66">https://github.com/facebookresearch/miniF2F/blob/5271ddec788677c815cf818a06f368ef6498a106/lean/src/valid.lean#L57-L66</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>