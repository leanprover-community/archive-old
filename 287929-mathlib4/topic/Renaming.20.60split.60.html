---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/Renaming.20.60split.60.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html">Renaming `split`</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="257500590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257500590" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257500590">(Oct 14 2021 at 08:46)</a>:</h4>
<p>As you've probably noticed, core Lean has also defined a <code>split</code> tactic now.  Of course, the new tactic does something completely different---<code>split</code> now seems to be a generalization of <code>split_ifs</code>.</p>
<p>In other words, we should rename the <code>split</code> (≈ <code>constructor</code>) tactic.  Any suggestions for a new name?</p>



<a name="257500798"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257500798" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257500798">(Oct 14 2021 at 08:48)</a>:</h4>
<p>First suggestions by a random thesaurus:    rip, rent, snag, tear,</p>



<a name="257500887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257500887" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257500887">(Oct 14 2021 at 08:49)</a>:</h4>
<p><code>intro</code></p>



<a name="257500919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257500919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257500919">(Oct 14 2021 at 08:49)</a>:</h4>
<p>But <code>split</code> worked on the goal.</p>



<a name="257500947"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257500947" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257500947">(Oct 14 2021 at 08:49)</a>:</h4>
<p><code>intro</code> also works on the goal</p>



<a name="257501054"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501054" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501054">(Oct 14 2021 at 08:50)</a>:</h4>
<p>I think if you have <code>P ∧ Q</code> as goal, using <code>intro</code> to split it into pieces is weird from a semantic point of view.</p>



<a name="257501084"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501084" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501084">(Oct 14 2021 at 08:50)</a>:</h4>
<p>why is that? You are literally applying <code>and.intro</code></p>



<a name="257501162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501162">(Oct 14 2021 at 08:51)</a>:</h4>
<p>alternatively, we could just lean into <code>constructor</code> if the name isn't taken</p>



<a name="257501204"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501204" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501204">(Oct 14 2021 at 08:51)</a>:</h4>
<p><code>mk</code>?</p>



<a name="257501384"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501384" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501384">(Oct 14 2021 at 08:52)</a>:</h4>
<p>I think <code>intro</code> is a synonym for <code>assume</code> in my mind. Maybe I should decouple that.</p>



<a name="257501410"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501410" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501410">(Oct 14 2021 at 08:53)</a>:</h4>
<p><code>destruct</code>?</p>



<a name="257501416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501416" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501416">(Oct 14 2021 at 08:53)</a>:</h4>
<p><code>construct</code>?</p>



<a name="257501457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501457">(Oct 14 2021 at 08:53)</a>:</h4>
<p>it's a constructor, an introduction rule</p>



<a name="257501477"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501477" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501477">(Oct 14 2021 at 08:53)</a>:</h4>
<p>lambda is the introduction rule for pi, which is why <code>intro</code> is called that</p>



<a name="257501580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501580">(Oct 14 2021 at 08:54)</a>:</h4>
<p>but it could easily(ish) be generalized to intro'ing arbitrary inductives too</p>



<a name="257501664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501664" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501664">(Oct 14 2021 at 08:55)</a>:</h4>
<p>admittedly, everything gets turned around when working on the goal, so introduction patterns make type operators go away</p>



<a name="257501846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501846" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501846">(Oct 14 2021 at 08:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/287929-mathlib4/topic/Renaming.20.60split.60/near/257501162">said</a>:</p>
<blockquote>
<p>alternatively, we could just lean into <code>constructor</code> if the name isn't taken</p>
</blockquote>
<p>Is there any difference between <code>constructor</code> and <code>split</code> besides <code>split</code> having a shorter name?</p>



<a name="257501867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257501867" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257501867">(Oct 14 2021 at 08:57)</a>:</h4>
<p><code>constructor</code> applies any of the constructors, not just the first</p>



<a name="257502088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502088" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502088">(Oct 14 2021 at 08:58)</a>:</h4>
<p>but I don't find this difference in behavior particularly helpful since it's basically just rejecting some class of inputs that could be reasonably handled</p>



<a name="257502162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502162" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502162">(Oct 14 2021 at 08:59)</a>:</h4>
<p>that is, if you made <code>split</code> an alias to <code>constructor</code> today mathlib would still build</p>



<a name="257502171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502171" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502171">(Oct 14 2021 at 08:59)</a>:</h4>
<p>Can we merge <code>split</code> and <code>split_ifs</code>? It's hard to beat <code>split</code> if it comes to meaningful tactic names: take the goal and split it into subgoals for me.</p>



<a name="257502191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502191" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502191">(Oct 14 2021 at 08:59)</a>:</h4>
<p><code>split</code> and <code>split_ifs</code> are completely different</p>



<a name="257502203"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502203" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502203">(Oct 14 2021 at 08:59)</a>:</h4>
<p>Under the hood.</p>



<a name="257502271"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502271" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502271">(Oct 14 2021 at 09:00)</a>:</h4>
<p>no, they visibly have very different effects</p>



<a name="257502369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502369" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502369">(Oct 14 2021 at 09:00)</a>:</h4>
<p>if you have <code>(if a then b else c) /\ d</code> then <code>split</code> turns the goal into <code>if a then b else c</code> and <code>d</code> and <code>split_ifs</code> turns the goal into <code>b /\ d</code> and <code>c /\ d</code></p>



<a name="257502442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502442" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502442">(Oct 14 2021 at 09:01)</a>:</h4>
<p>Okay, I'm gonna remove <code>split</code> for now in favor of <code>constructor</code>: <a href="https://github.com/leanprover-community/mathlib4/pull/70">https://github.com/leanprover-community/mathlib4/pull/70</a><br>
We can always set up a shorter alias if we find a better name.</p>



<a name="257502547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502547">(Oct 14 2021 at 09:02)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <code>super_split</code> could give me three goals: <code>b</code>, <code>c</code>, and <code>d</code>.</p>



<a name="257502556"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502556" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502556">(Oct 14 2021 at 09:02)</a>:</h4>
<p>no takers for <code>mk</code>? The golfers will love us</p>



<a name="257502625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502625" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502625">(Oct 14 2021 at 09:03)</a>:</h4>
<p>What I like about <code>split</code> is that it's a verb. <code>constructor</code> isn't.</p>



<a name="257502665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502665" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502665">(Oct 14 2021 at 09:03)</a>:</h4>
<p><del><code>mk</code> is a vrb, I guess.</del> <code>mk</code> s  vrb, gss.</p>



<a name="257502681"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502681" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502681">(Oct 14 2021 at 09:03)</a>:</h4>
<p><code>constr</code>, you get to decide whether it's abbreviating a noun or verb</p>



<a name="257502782"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257502782" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257502782">(Oct 14 2021 at 09:04)</a>:</h4>
<p><code>∧I</code></p>



<a name="257503039"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503039" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503039">(Oct 14 2021 at 09:06)</a>:</h4>
<p>If <code>mk</code> takes an optional (space-separated?) list of arguments, like <code>use</code>, I think it will be pretty convenient</p>



<a name="257503110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503110">(Oct 14 2021 at 09:07)</a>:</h4>
<p>It would replace <code>rfn</code> (aka <code>refine</code>), right?</p>



<a name="257503125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503125" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503125">(Oct 14 2021 at 09:07)</a>:</h4>
<p>right</p>



<a name="257503145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503145">(Oct 14 2021 at 09:08)</a>:</h4>
<p>I almost never use <code>split</code> normally</p>



<a name="257503227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503227" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503227">(Oct 14 2021 at 09:08)</a>:</h4>
<p>But it's very beginner-friendly. Which is why I'm sad to see it go.</p>



<a name="257503267"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503267" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503267">(Oct 14 2021 at 09:09)</a>:</h4>
<p><code>and_intro</code> seems pretty friendly</p>



<a name="257503339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503339">(Oct 14 2021 at 09:09)</a>:</h4>
<p>You mean <code>split_and</code>?</p>



<a name="257503382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503382" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503382">(Oct 14 2021 at 09:10)</a>:</h4>
<p>we could do that</p>



<a name="257503438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503438" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503438">(Oct 14 2021 at 09:10)</a>:</h4>
<p>But I think that you main point is that it would be nice to have a very cheap way to switch to term mode. <code>exact</code> is quite long for that.</p>



<a name="257503493"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503493" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503493">(Oct 14 2021 at 09:11)</a>:</h4>
<p>having <code>⟨</code> be an exact-shortcut would be nice</p>



<a name="257503495"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503495" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503495">(Oct 14 2021 at 09:11)</a>:</h4>
<p>We could make <code>⟨?left, ?right⟩</code> a tactic, this should be unambiguous.</p>



<a name="257503498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503498" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503498">(Oct 14 2021 at 09:11)</a>:</h4>
<p><code>by</code> puts you in tactic mode. How do you leave it? With as little chars as possible?</p>



<a name="257503545"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503545" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503545">(Oct 14 2021 at 09:11)</a>:</h4>
<p>did you know that lean 3 has exact-shortcuts too? There is only one though, and it is hard coded: <code>calc</code></p>



<a name="257503547"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503547" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503547">(Oct 14 2021 at 09:11)</a>:</h4>
<p><code>⟨</code> would work whenever there is a constructor that you want to use, right? But it's not the general thing.</p>



<a name="257503594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503594" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503594">(Oct 14 2021 at 09:12)</a>:</h4>
<p><code>calc</code> is not a tactic, but you don't need to write <code>exact</code> first by magic</p>



<a name="257503602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503602">(Oct 14 2021 at 09:12)</a>:</h4>
<p><code>calc</code> even uses <code>refine</code> these dats (-;</p>



<a name="257503712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503712" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503712">(Oct 14 2021 at 09:13)</a>:</h4>
<p>We can make most expr-starters be exact-shortcuts, except for identifiers, which are unfortunately quite common</p>



<a name="257503845"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503845" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503845">(Oct 14 2021 at 09:14)</a>:</h4>
<p>I don't think we should interpret an unknown tactic identifier as an exact-shortcut because that will cause forward compatibility problems</p>



<a name="257503851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503851">(Oct 14 2021 at 09:14)</a>:</h4>
<p><code>from</code> is of course also a way to switch to term mode, in lean 3. But it's still 4 chars.</p>



<a name="257503878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503878" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503878">(Oct 14 2021 at 09:14)</a>:</h4>
<p>Would <code>t</code> or <code>x</code> be too cryptic?</p>



<a name="257503886"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503886" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503886">(Oct 14 2021 at 09:14)</a>:</h4>
<p><code>=</code></p>



<a name="257503890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503890">(Oct 14 2021 at 09:14)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">macro</span> <span class="o">(</span><span class="n">priority</span> <span class="o">:=</span> <span class="mi">0</span><span class="o">)</span> <span class="n">t</span><span class="o">:</span><span class="n">term</span> <span class="o">:</span> <span class="n">tactic</span> <span class="bp">=&gt;</span> <span class="bp">`</span><span class="o">(</span><span class="n">tactic</span><span class="bp">|</span> <span class="n">exact</span> <span class="bp">$</span><span class="n">t</span><span class="o">)</span>
<span class="kd">example</span> <span class="o">:</span> <span class="n">True</span> <span class="o">:=</span> <span class="kd">by</span> <span class="n">True.intro</span>
</code></pre></div>



<a name="257503919"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503919" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503919">(Oct 14 2021 at 09:14)</a>:</h4>
<p>That's the best solution, I guess.</p>



<a name="257503965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257503965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257503965">(Oct 14 2021 at 09:15)</a>:</h4>
<p>I'm not sure if this too cryptic though.</p>



<a name="257504002"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504002" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504002">(Oct 14 2021 at 09:15)</a>:</h4>
<p>Like I said, I don't think that's a good idea because tactic names will now compete with variable and constant names. Think about <code>ring</code> for example</p>



<a name="257504018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504018">(Oct 14 2021 at 09:15)</a>:</h4>
<p>It's Ring, now.</p>



<a name="257504076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504076">(Oct 14 2021 at 09:16)</a>:</h4>
<p>checkmate</p>



<a name="257504077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504077" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504077">(Oct 14 2021 at 09:16)</a>:</h4>
<p>But it's <code>Ring</code> in both cases, right?</p>



<a name="257504092"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504092" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504092">(Oct 14 2021 at 09:16)</a>:</h4>
<p>no, tactics are snake case</p>



<a name="257504116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504116" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504116">(Oct 14 2021 at 09:16)</a>:</h4>
<p>check_Mate</p>



<a name="257504246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504246" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504246">(Oct 14 2021 at 09:17)</a>:</h4>
<p>It's also going to interact weirdly with tactic combinators</p>



<a name="257504333"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504333" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504333">(Oct 14 2021 at 09:18)</a>:</h4>
<p>Is it any worse than exact, though?</p>



<a name="257504417"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504417" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504417">(Oct 14 2021 at 09:19)</a>:</h4>
<p>Not sure. I wouldn't be surprised if some parsing oddity shows up like with the <code>-</code> block syntax</p>



<a name="257504573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504573">(Oct 14 2021 at 09:20)</a>:</h4>
<p>that said, I'm not really too much against the pattern. MM0 has had refine-shortcut exactly like this since the beginning</p>



<a name="257504815"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257504815" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257504815">(Oct 14 2021 at 09:22)</a>:</h4>
<p>There is one unfortunate ambiguity though: <code>by rfl</code></p>



<a name="257505011"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257505011" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257505011">(Oct 14 2021 at 09:24)</a>:</h4>
<p>luckily <code>rfl</code> means <code>exact rfl</code> in lean 4 so there is no problem</p>



<a name="257505141"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257505141" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257505141">(Oct 14 2021 at 09:24)</a>:</h4>
<p>Don't forget about the nondeterministic tactics. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span>   It could also mean <code>exact Iff.rfl</code>.</p>



<a name="257505518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257505518" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257505518">(Oct 14 2021 at 09:27)</a>:</h4>
<p>It also breaks <code>rw [l] at h</code>. <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span> <a href="https://github.com/leanprover-community/mathlib4/pull/71">https://github.com/leanprover-community/mathlib4/pull/71</a></p>



<a name="257505624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257505624" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257505624">(Oct 14 2021 at 09:28)</a>:</h4>
<p>Did you set the priority right? Tactics should always win</p>



<a name="257505666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257505666" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257505666">(Oct 14 2021 at 09:29)</a>:</h4>
<p>I hope so.  At least I tried <code>priority := 0</code> and <code>priority := low</code> and it didn't make a difference.</p>



<a name="257506164"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257506164" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257506164">(Oct 14 2021 at 09:31)</a>:</h4>
<p>The set of leading tactic tokens is known to the system, right? Can we make a custom parser for "term, but where the first token is not a tactic token"</p>



<a name="257506302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257506302" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257506302">(Oct 14 2021 at 09:32)</a>:</h4>
<p>that should also prevent parser issues where a syntactically incorrect tactic backtracks a lot and gets parsed as a term</p>



<a name="257506304"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257506304" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257506304">(Oct 14 2021 at 09:32)</a>:</h4>
<p>If I remove the <code>have</code> above, then it works..</p>



<a name="257506367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257506367" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257506367">(Oct 14 2021 at 09:33)</a>:</h4>
<p>what does the bad code look like?</p>



<a name="257506425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257506425" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257506425">(Oct 14 2021 at 09:33)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">lemma</span> <span class="n">implies_of_if_pos</span> <span class="o">{</span><span class="n">c</span> <span class="n">t</span> <span class="n">e</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">[</span><span class="n">Decidable</span> <span class="n">c</span><span class="o">]</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">ite</span> <span class="n">c</span> <span class="n">t</span> <span class="n">e</span><span class="o">)</span> <span class="o">:</span> <span class="n">c</span> <span class="bp">→</span> <span class="n">t</span> <span class="o">:=</span>
<span class="kd">by</span> <span class="n">intro</span> <span class="n">hc</span>
   <span class="k">have</span> <span class="n">hp</span> <span class="o">:</span> <span class="n">ite</span> <span class="n">c</span> <span class="n">t</span> <span class="n">e</span> <span class="bp">=</span> <span class="n">t</span> <span class="o">:=</span> <span class="n">if_pos</span> <span class="n">hc</span>
   <span class="n">rwa</span> <span class="o">[</span><span class="n">hp</span><span class="o">]</span> <span class="n">at</span> <span class="n">h</span>
</code></pre></div>



<a name="257506525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257506525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257506525">(Oct 14 2021 at 09:34)</a>:</h4>
<p>I think it's treating <code>have</code> as a term</p>



<a name="257506542"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257506542" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257506542">(Oct 14 2021 at 09:34)</a>:</h4>
<p>I agree, but I don't know why.</p>



<a name="257506554"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257506554" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257506554">(Oct 14 2021 at 09:34)</a>:</h4>
<p>it's a longer match?</p>



<a name="257506692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257506692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257506692">(Oct 14 2021 at 09:36)</a>:</h4>
<p>woe is us for making the tactic language look so much like the term language...</p>



<a name="257697189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257697189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257697189">(Oct 15 2021 at 13:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/287929-mathlib4/topic/Renaming.20.60split.60/near/257506302">said</a>:</p>
<blockquote>
<p>that should also prevent parser issues where a syntactically incorrect tactic backtracks a lot and gets parsed as a term</p>
</blockquote>
<p><span aria-label="up" class="emoji emoji-2b06" role="img" title="up">:up:</span>  I  tried a similar strategy in Papyrus. This will cause virtually all tactic syntax errors to turn into very hard to debug term errors. You need some kind of token to enter term mode. I plan on using <code>#</code> in papyrus, and I think it could be a good idea here as well.</p>



<a name="257697305"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257697305" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257697305">(Oct 15 2021 at 13:28)</a>:</h4>
<p>we already have such a token, it is <code>exact</code></p>



<a name="257697351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257697351" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mac <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257697351">(Oct 15 2021 at 13:29)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> yes but that, as mentioned, is quite long</p>



<a name="257698378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257698378" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257698378">(Oct 15 2021 at 13:37)</a>:</h4>
<p>I think I like the <code>#</code> suggestion. Writing <code>##ℕ</code> for <code>exact cardinal.mk ℕ</code> will look a bit funny, but besides that, I think it's an excellent symbol for the job.</p>



<a name="257699057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257699057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257699057">(Oct 15 2021 at 13:41)</a>:</h4>
<p>I would put a space after it</p>



<a name="257699147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257699147" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257699147">(Oct 15 2021 at 13:42)</a>:</h4>
<p>like <code># #ℕ</code></p>



<a name="257759651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/257759651" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#257759651">(Oct 15 2021 at 20:24)</a>:</h4>
<p>Is <code>%</code> a possibility? We are use <code>foo</code> and <code>foo%</code> as a naming scheme for analogous tactics and term-elaborators, so <code>%</code> is going to have a "this is a term" connotation already.</p>



<a name="262959529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/262959529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#262959529">(Nov 29 2021 at 01:41)</a>:</h4>
<p>Shall we backport the decision to use <code>constructor</code> instead of <code>split</code> to mathlib3? If not, we'll need some special casing in mathport to handle the translation, which seems more trouble than it is worth.</p>



<a name="262962714"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/262962714" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Alex J. Best <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#262962714">(Nov 29 2021 at 03:02)</a>:</h4>
<p>Can you say a bit more about what special casing is needed? From reading this thread it just sounds like the name split in lean4 is taken by a different tactic, so split should be renamed to something else in Lean 4, but my understanding of the whole mathport process is that there is an automated source to source translation which handles a lot harder things than just simple renames already, is the goal to have no tactic renames in the process?</p>



<a name="262965275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/262965275" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#262965275">(Nov 29 2021 at 04:07)</a>:</h4>
<p>I was confused, special casing is trivial: I can (and will shortly) just change <a href="https://github.com/leanprover-community/mathport/blob/master/Mathport/Syntax/Translate/Tactic/Lean3.lean#L268">https://github.com/leanprover-community/mathport/blob/master/Mathport/Syntax/Translate/Tactic/Lean3.lean#L268</a> to say </p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="kd">@[trTactic split]</span> <span class="kd">def</span> <span class="n">trSplit</span> <span class="o">:</span> <span class="n">TacM</span> <span class="n">Syntax</span> <span class="o">:=</span> <span class="bp">`</span><span class="o">(</span><span class="n">tactic</span><span class="bp">|</span> <span class="n">constructor</span><span class="o">)</span>
</code></pre></div>
<p>which should do it.</p>



<a name="262965492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Renaming%20%60split%60/near/262965492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Renaming.20.60split.60.html#262965492">(Nov 29 2021 at 04:12)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathport/pull/59">https://github.com/leanprover-community/mathport/pull/59</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>