---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html">data.set.intervals.basic</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="315932619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315932619" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315932619">(Dec 14 2022 at 23:13)</a>:</h4>
<p>We had a race condition: <a href="https://github.com/leanprover-community/mathlib4/pull/1034">https://github.com/leanprover-community/mathlib4/pull/1034</a> and <a href="https://github.com/leanprover-community/mathlib4/pull/1033">https://github.com/leanprover-community/mathlib4/pull/1033</a> a mere two minutes apart.</p>
<p><span class="user-mention" data-user-id="416472">@Winston Yin</span>, <span class="user-mention" data-user-id="542196">@Arien Malec</span>, would either or both of you have a change to triage these into a single PR shortly? Perhaps one can just be closed, or you can move some pieces from one to the other if appropriate.</p>



<a name="315932708"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315932708" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315932708">(Dec 14 2022 at 23:14)</a>:</h4>
<p>Let me check who's farther...</p>



<a name="315932721"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315932721" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315932721">(Dec 14 2022 at 23:14)</a>:</h4>
<p>most likely <span class="user-mention" data-user-id="416472">@Winston Yin</span></p>



<a name="315932730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315932730" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Winston Yin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315932730">(Dec 14 2022 at 23:14)</a>:</h4>
<p><span class="user-mention" data-user-id="542196">@Arien Malec</span> I've ported till line 1149</p>



<a name="315932786"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315932786" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315932786">(Dec 14 2022 at 23:15)</a>:</h4>
<p>I mostly did the grunt work of cleaning up obvious fixes -- I'll close mine...</p>



<a name="315932946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315932946" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315932946">(Dec 14 2022 at 23:16)</a>:</h4>
<p><span class="user-mention" data-user-id="416472">@Winston Yin</span>  if you want to focus on the broken proofs I'm happy to repeat the grunt work on your branch.</p>



<a name="315933014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315933014" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Winston Yin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315933014">(Dec 14 2022 at 23:16)</a>:</h4>
<p>Sure. I'm trying to rewrite all the <code>tauto</code> proofs</p>



<a name="315933064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315933064" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Winston Yin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315933064">(Dec 14 2022 at 23:17)</a>:</h4>
<p>Sorry that you're doing repetitive work!</p>



<a name="315933200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315933200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315933200">(Dec 14 2022 at 23:18)</a>:</h4>
<p>FWIW, I'm in the middle of porting <code>tauto</code>.</p>



<a name="315933393"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315933393" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Winston Yin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315933393">(Dec 14 2022 at 23:20)</a>:</h4>
<p>How long do you anticipate that to take? If <code>Data.Set.Intervals.Basic</code> is not in the way of everything, I can leave the <code>tauto</code>s in for now</p>



<a name="315933453"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315933453" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315933453">(Dec 14 2022 at 23:21)</a>:</h4>
<p>I hope it should just be a few more days, but it's hard to say.</p>



<a name="315933524"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315933524" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315933524">(Dec 14 2022 at 23:21)</a>:</h4>
<p>If it's going to accelerate things, I might consider trying to land an incomplete less-optimized version.</p>



<a name="315933800"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315933800" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315933800">(Dec 14 2022 at 23:24)</a>:</h4>
<p><span class="user-mention" data-user-id="416472">@Winston Yin</span>  don't touch anything that's not <code>tauto</code> and we'll be good rn.</p>



<a name="315933839"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315933839" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Winston Yin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315933839">(Dec 14 2022 at 23:24)</a>:</h4>
<p>What does it mean "anything that's not <code>tauto</code>"?</p>



<a name="315933859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315933859" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Winston Yin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315933859">(Dec 14 2022 at 23:24)</a>:</h4>
<p>There are some broken proofs having nothing to do with <code>tauto</code></p>



<a name="315934018"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315934018" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315934018">(Dec 14 2022 at 23:26)</a>:</h4>
<p>e.g., unknown <code>h.trans</code> or <code>simp [Ici]</code></p>



<a name="315934133"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315934133" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Winston Yin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315934133">(Dec 14 2022 at 23:27)</a>:</h4>
<p>Actually I have only another half hour or so to work on this. Feel free to take over the PR in 30 min</p>



<a name="315934240"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315934240" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315934240">(Dec 14 2022 at 23:28)</a>:</h4>
<p>OK -- &amp; just pushed some super simple fixes.</p>



<a name="315951353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315951353" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Winston Yin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315951353">(Dec 15 2022 at 03:03)</a>:</h4>
<p><span class="user-mention" data-user-id="243791">@David Renshaw</span> I've replaced all the <code>tauto</code> in this file with <code>simp</code> proofs, with a porting note to restore them back to <code>tauto</code> when your work is done</p>



<a name="315951529"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315951529" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Winston Yin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315951529">(Dec 15 2022 at 03:06)</a>:</h4>
<p>I mean, we don't <em>have</em> to restore the <code>tauto</code>s but it's good for testing and examples of its use</p>



<a name="315969339"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/315969339" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ruben Van de Velde <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#315969339">(Dec 15 2022 at 06:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="243791">David Renshaw</span> <a href="#narrow/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic/near/315933524">said</a>:</p>
<blockquote>
<p>If it's going to accelerate things, I might consider trying to land an incomplete less-optimized version.</p>
</blockquote>
<p>Are you saying your current code is incomplete or slow or both? Because I think a complete but slow implementation would be very helpful to land asap</p>



<a name="316049049"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/316049049" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#316049049">(Dec 15 2022 at 14:06)</a>:</h4>
<p>Yeah, I have a working implementation that does not yet handle relations with symmetry (though should automatically pick up that ability to some extent once <code>solve_by_elim</code> does). I'll work on  putting up a PR for that.</p>
<p>mathlib3 <code>tauto</code> uses a fancy union-find data structure to try to apply symmetry as efficiently as possible. I'm finding what look like some bugs in it: <a href="https://github.com/leanprover-community/mathlib/pull/17958">https://github.com/leanprover-community/mathlib/pull/17958</a> . I think it makes sense for mathlib4's first version of <code>tauto</code> to not bother with this stuff yet.</p>



<a name="316304412"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/data.set.intervals.basic/near/316304412" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> David Renshaw <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/data.2Eset.2Eintervals.2Ebasic.html#316304412">(Dec 16 2022 at 16:13)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/pull/1081">https://github.com/leanprover-community/mathlib4/pull/1081</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>