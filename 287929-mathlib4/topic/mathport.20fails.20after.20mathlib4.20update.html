---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html">mathport fails after mathlib4 update</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="321269913"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20fails%20after%20mathlib4%20update/near/321269913" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html#321269913">(Jan 13 2023 at 22:29)</a>:</h4>
<p>These are the changes: <a href="https://github.com/leanprover-community/mathlib4/compare/6d86a6ac7aa6eae79181b6bae1fca53be16d2379..090a8a08255671e5d06f2b22131421871f2b373f">https://github.com/leanprover-community/mathlib4/compare/6d86a6ac7aa6eae79181b6bae1fca53be16d2379..090a8a08255671e5d06f2b22131421871f2b373f</a></p>



<a name="321270108"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20fails%20after%20mathlib4%20update/near/321270108" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html#321270108">(Jan 13 2023 at 22:30)</a>:</h4>
<p>Not yet sure what's going on here.  After the update mathport takes about two hours and fails in <code>data.polynomial.mirror</code> <a href="https://github.com/leanprover-community/mathport/actions/runs/3913731949/jobs/6689971655">https://github.com/leanprover-community/mathport/actions/runs/3913731949/jobs/6689971655</a></p>



<a name="321270327"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20fails%20after%20mathlib4%20update/near/321270327" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html#321270327">(Jan 13 2023 at 22:32)</a>:</h4>
<p>Are we sure this is due to mathlib4 and not mathlib3?</p>



<a name="321270404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20fails%20after%20mathlib4%20update/near/321270404" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html#321270404">(Jan 13 2023 at 22:33)</a>:</h4>
<p>We update mathlib4 12x more frequently than mathlib3.  There was no mathlib3 update between the succeeding and failing mathport runs.</p>



<a name="321295828"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20fails%20after%20mathlib4%20update/near/321295828" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html#321295828">(Jan 14 2023 at 03:26)</a>:</h4>
<p>Looks like checking the definition in the kernel takes forever.  Unfortunately we can't set a timeout, because the timeout is reported as an uncatchable C++ exception.  <a href="https://github.com/leanprover/lean4/pull/2036">https://github.com/leanprover/lean4/pull/2036</a></p>



<a name="321297293"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20fails%20after%20mathlib4%20update/near/321297293" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html#321297293">(Jan 14 2023 at 03:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> Is there anything that stands out to you?</p>



<a name="321297386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20fails%20after%20mathlib4%20update/near/321297386" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html#321297386">(Jan 14 2023 at 03:54)</a>:</h4>
<p>I wouldn't know where to start looking for an issue. Is it worth bisecting the failure, to see which of these files exactly is causing a problem?</p>



<a name="321297486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20fails%20after%20mathlib4%20update/near/321297486" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Gabriel Ebner <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html#321297486">(Jan 14 2023 at 03:56)</a>:</h4>
<p>With the dubious translations, I expect this failure mode to occur again sooner or later.</p>



<a name="321297591"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/mathport%20fails%20after%20mathlib4%20update/near/321297591" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/mathport.20fails.20after.20mathlib4.20update.html#321297591">(Jan 14 2023 at 03:58)</a>:</h4>
<p>Aha, so you think it might be an issue of a missing <code>â‚“</code>?</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>