---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/error.20when.20executing.20port.20status.20script.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/error.20when.20executing.20port.20status.20script.html">error when executing port status script</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="305052250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/error%20when%20executing%20port%20status%20script/near/305052250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jakob von Raumer <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/error.20when.20executing.20port.20status.20script.html#305052250">(Oct 19 2022 at 22:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110087">@Scott Morrison</span> The python script now gives me a</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="o">(</span><span class="n">base</span><span class="o">)</span> <span class="n">javra</span><span class="bp">@</span><span class="n">wollaton</span><span class="o">:</span><span class="bp">~/</span><span class="n">Dokumente</span><span class="bp">/</span><span class="n">kit</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">$</span> <span class="bp">./</span><span class="n">scripts</span><span class="bp">/</span><span class="n">port_status.py</span>
<span class="n">Traceback</span> <span class="o">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="o">):</span>
  <span class="n">File</span> <span class="s2">"/home/javra/Dokumente/kit/mathlib/./scripts/port_status.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">38</span><span class="o">,</span> <span class="k">in</span> <span class="bp">&lt;</span><span class="n">module</span><span class="bp">&gt;</span>
    <span class="n">data</span> <span class="bp">=</span> <span class="n">yaml.safe_load</span><span class="o">(</span><span class="n">urlopen</span><span class="o">(</span><span class="bp">'</span><span class="n">https</span><span class="o">:</span><span class="bp">//</span><span class="n">raw.githubusercontent.com</span><span class="bp">/</span><span class="n">wiki</span><span class="bp">/</span><span class="n">leanprover</span><span class="bp">-</span><span class="n">community</span><span class="bp">/</span><span class="n">mathlib</span><span class="bp">/</span><span class="n">mathlib4</span><span class="bp">-</span><span class="n">port</span><span class="bp">-</span><span class="n">status.md'</span><span class="o">))</span>
  <span class="n">File</span> <span class="s2">"/home/javra/.local/lib/python3.9/site-packages/yaml/__init__.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">125</span><span class="o">,</span> <span class="k">in</span> <span class="n">safe_load</span>
    <span class="n">return</span> <span class="n">load</span><span class="o">(</span><span class="n">stream</span><span class="o">,</span> <span class="n">SafeLoader</span><span class="o">)</span>
  <span class="n">File</span> <span class="s2">"/home/javra/.local/lib/python3.9/site-packages/yaml/__init__.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">81</span><span class="o">,</span> <span class="k">in</span> <span class="n">load</span>
    <span class="n">return</span> <span class="n">loader.get_single_data</span><span class="o">()</span>
  <span class="n">File</span> <span class="s2">"/home/javra/.local/lib/python3.9/site-packages/yaml/constructor.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">49</span><span class="o">,</span> <span class="k">in</span> <span class="n">get_single_data</span>
    <span class="n">node</span> <span class="bp">=</span> <span class="n">self.get_single_node</span><span class="o">()</span>
  <span class="n">File</span> <span class="s2">"/home/javra/.local/lib/python3.9/site-packages/yaml/composer.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">35</span><span class="o">,</span> <span class="k">in</span> <span class="n">get_single_node</span>
    <span class="k">if</span> <span class="n">not</span> <span class="n">self.check_event</span><span class="o">(</span><span class="n">StreamEndEvent</span><span class="o">):</span>
  <span class="n">File</span> <span class="s2">"/home/javra/.local/lib/python3.9/site-packages/yaml/parser.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">98</span><span class="o">,</span> <span class="k">in</span> <span class="n">check_event</span>
    <span class="n">self.current_event</span> <span class="bp">=</span> <span class="n">self.state</span><span class="o">()</span>
  <span class="n">File</span> <span class="s2">"/home/javra/.local/lib/python3.9/site-packages/yaml/parser.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">142</span><span class="o">,</span> <span class="k">in</span> <span class="n">parse_implicit_document_start</span>
    <span class="k">if</span> <span class="n">not</span> <span class="n">self.check_token</span><span class="o">(</span><span class="n">DirectiveToken</span><span class="o">,</span> <span class="n">DocumentStartToken</span><span class="o">,</span>
  <span class="n">File</span> <span class="s2">"/home/javra/.local/lib/python3.9/site-packages/yaml/scanner.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">116</span><span class="o">,</span> <span class="k">in</span> <span class="n">check_token</span>
    <span class="n">self.fetch_more_tokens</span><span class="o">()</span>
  <span class="n">File</span> <span class="s2">"/home/javra/.local/lib/python3.9/site-packages/yaml/scanner.py"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">258</span><span class="o">,</span> <span class="k">in</span> <span class="n">fetch_more_tokens</span>
    <span class="n">raise</span> <span class="n">ScannerError</span><span class="o">(</span><span class="s2">"while scanning for the next token"</span><span class="o">,</span> <span class="n">None</span><span class="o">,</span>
<span class="n">yaml.scanner.ScannerError</span><span class="o">:</span> <span class="n">while</span> <span class="n">scanning</span> <span class="n">for</span> <span class="n">the</span> <span class="n">next</span> <span class="n">token</span>
<span class="n">found</span> <span class="n">character</span> <span class="sc">'`'</span> <span class="n">that</span> <span class="n">cannot</span> <span class="n">start</span> <span class="n">any</span> <span class="n">token</span>
  <span class="k">in</span> <span class="s2">"&lt;file&gt;"</span><span class="o">,</span> <span class="n">line</span> <span class="mi">10</span><span class="o">,</span> <span class="n">column</span> <span class="mi">1</span>
</code></pre></div>
<p>on execution <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="305052469"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/error%20when%20executing%20port%20status%20script/near/305052469" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/error.20when.20executing.20port.20status.20script.html#305052469">(Oct 19 2022 at 22:30)</a>:</h4>
<p>Try again in a moment. Someone helpfully added backticks at the start and end of the list to try to make it format nicely, but that breaks the yaml parser.</p>



<a name="305052602"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/error%20when%20executing%20port%20status%20script/near/305052602" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/error.20when.20executing.20port.20status.20script.html#305052602">(Oct 19 2022 at 22:32)</a>:</h4>
<p>(<span class="user-mention" data-user-id="308899">@Yakov Pechersky</span>, unfortunately this change broke the script. I guess we could have <code>port_status.py</code> attempt to strip from the file before it parses?)</p>



<a name="305052692"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/error%20when%20executing%20port%20status%20script/near/305052692" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/error.20when.20executing.20port.20status.20script.html#305052692">(Oct 19 2022 at 22:32)</a>:</h4>
<p>I apologize for breaking userspace! Will update the script accordingly</p>



<a name="305052724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/error%20when%20executing%20port%20status%20script/near/305052724" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/error.20when.20executing.20port.20status.20script.html#305052724">(Oct 19 2022 at 22:32)</a>:</h4>
<p>Thanks!</p>



<a name="305053985"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/error%20when%20executing%20port%20status%20script/near/305053985" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yakov Pechersky <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/error.20when.20executing.20port.20status.20script.html#305053985">(Oct 19 2022 at 22:43)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17076">#17076</a></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>