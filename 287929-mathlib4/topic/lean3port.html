---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/lean3port.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html">lean3port</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="311845580"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/311845580" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#311845580">(Nov 23 2022 at 15:11)</a>:</h4>
<p><code>lean_core.data.vector</code> is on the most wanted list; this is <code>data.vector</code> from Lean 3 core. Did someone mention that there was a way to get an autoported version of this file somehow? I'm looking for a porting job.</p>



<a name="311846965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/311846965" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#311846965">(Nov 23 2022 at 15:18)</a>:</h4>
<p>Yes, there is the <code>lean3port</code> repository, just like the <code>mathlib3port</code> repository.</p>



<a name="311848070"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/311848070" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Moritz Doll <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#311848070">(Nov 23 2022 at 15:23)</a>:</h4>
<p>Kevin, if you are out of work: <a href="https://github.com/leanprover-community/mathlib4/pull/674">mathlib4#674</a> has some rather weird coercion errors and Arien has asked for help with that</p>



<a name="311849448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/311849448" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Kevin Buzzard <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#311849448">(Nov 23 2022 at 15:30)</a>:</h4>
<p>OK I'll look at 674 for now :-) Thanks both!</p>



<a name="311932977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/311932977" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#311932977">(Nov 24 2022 at 02:24)</a>:</h4>
<p>Is the ported file supposed to be <code>Mathlib/Lean/Data/Vector.lean</code> (or just <code>Mathlib/Data/Vector.lean</code> )?</p>



<a name="311933078"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/311933078" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#311933078">(Nov 24 2022 at 02:26)</a>:</h4>
<p>If you are porting a file from lean 3 core, it should go in <code>Mathlib/Init/</code>.</p>



<a name="311933083"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/311933083" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#311933083">(Nov 24 2022 at 02:26)</a>:</h4>
<p>(The <code>Mathlib/Lean/</code> folder is for add-ons to Lean 4 core that are for now residing in mathlib4.)</p>



<a name="311936218"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/311936218" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#311936218">(Nov 24 2022 at 03:15)</a>:</h4>
<p>I was looking at the <code>Vector.lean</code> file and it seems that it uses <code>List.mapâ‚‚</code> and some other functions that are not ported. Was this missed in saying <code>lean_core.data.vector</code> is ready to port or am I missing something?</p>



<a name="312034352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/312034352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#312034352">(Nov 24 2022 at 15:00)</a>:</h4>
<p>I would not trust the <code>port_status.py</code> script when it comes to analysing what is ready to port from lean 3 core. It is not attempting to analyse anything there at all, and the fact that <code>lean_core.data.vector</code> is shown on the list is more or less a bug to begin with.</p>



<a name="312043189"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/312043189" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#312043189">(Nov 24 2022 at 15:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/287929-mathlib4/topic/lean3port/near/312034352">said</a>:</p>
<blockquote>
<p>I would not trust the <code>port_status.py</code> script when it comes to analysing what is ready to port from lean 3 core. It is not attempting to analyse anything there at all, and the fact that <code>lean_core.data.vector</code> is shown on the list is more or less a bug to begin with.</p>
</blockquote>
<p>Thanks. Would the correct approach be to port this to <code>Mathlib/Init/</code> and also create a file there <code>/Mathlib/Init/List/BasicExtras.lean</code> with functions that were in Lean 3's <code>list/basic.lean</code> but were dropped from Lean 4's  <code>List/Basic.lean</code>?</p>



<a name="312062757"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/312062757" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#312062757">(Nov 24 2022 at 17:59)</a>:</h4>
<p>Anything that is still unported from Lean 3 core's <code>list/basic.lean</code> belongs in <code>Mathlib/Init/List/Basic.lean</code></p>



<a name="312062790"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/312062790" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#312062790">(Nov 24 2022 at 17:59)</a>:</h4>
<p>no need for <code>BasicExtras</code>: the fact that it is in <code>Mathlib/Init/</code> is enough.</p>



<a name="312070745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/312070745" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#312070745">(Nov 24 2022 at 19:02)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/287929-mathlib4/topic/lean3port/near/312062757">said</a>:</p>
<blockquote>
<p>Anything that is still unported from Lean 3 core's <code>list/basic.lean</code> belongs in <code>Mathlib/Init/List/Basic.lean</code></p>
</blockquote>
<p>Where do things in Lean3 core's <code>init/data/list/basic.lean</code> belong then?</p>



<a name="312070857"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/312070857" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#312070857">(Nov 24 2022 at 19:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110087">Scott Morrison</span> <a href="#narrow/stream/287929-mathlib4/topic/lean3port/near/311933078">said</a>:</p>
<blockquote>
<p>If you are porting a file from lean 3 core, it should go in <code>Mathlib/Init/</code>.</p>
</blockquote>
<p>I think this rule might be wrong; isn't it "if you are porting a file from the <code>init</code> folder in lean3 core, it belongs in <code>Init</code>, otherwise if not it belongs not in <code>Init</code>"?</p>



<a name="312083930"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/312083930" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#312083930">(Nov 24 2022 at 21:01)</a>:</h4>
<p>I agree with Eric: <code>init.data.list.basic</code> -&gt; <code>Mathlib.Init.Data.List.Basic</code> and <code>data.vector</code> -&gt; <code>Mathlib.Data.Vector</code></p>



<a name="313626964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/313626964" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#313626964">(Dec 03 2022 at 03:24)</a>:</h4>
<p>Working on this. Will update the wiki.</p>



<a name="313695793"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lean3port/near/313695793" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Siddhartha Gadgil <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/lean3port.html#313695793">(Dec 03 2022 at 14:36)</a>:</h4>
<p>Wasn't sure if one should alert about PRs here too. In any case <a href="https://github.com/leanprover-community/mathlib4/pull/834">https://github.com/leanprover-community/mathlib4/pull/834</a> does the following (I hope)</p>
<ul>
<li>port <code>Mathlib.Data.Vector</code></li>
<li>port a handful of definitions and lemmas needed for this that are not (yet?) in <code>Std4</code>.</li>
</ul>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>