---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html">#port-status not showing modified files</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="314738165"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314738165" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314738165">(Dec 08 2022 at 18:07)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> There seem to be several different issues here.  But one is that, <a href="#narrow/stream/287929-mathlib4/topic/OfNat/near/314709145">apparently</a>, the website does not show the same output as running the port-status script locally.</p>



<a name="314741851"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314741851" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314741851">(Dec 08 2022 at 18:25)</a>:</h4>
<p>Hmmm, when I run the script locally, I get all sorts of errors like</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">fatal</span><span class="o">:</span> <span class="n">ambiguous</span> <span class="n">argument</span> <span class="bp">'@</span><span class="n">kbuzzard..HEAD'</span><span class="o">:</span> <span class="n">unknown</span> <span class="n">revision</span> <span class="n">or</span> <span class="n">path</span> <span class="n">not</span> <span class="k">in</span> <span class="n">the</span> <span class="n">working</span> <span class="n">tree.</span>
<span class="n">Use</span> <span class="bp">'</span><span class="c1">--' to separate paths from revisions, like this:</span>
<span class="bp">'</span><span class="n">git</span> <span class="bp">&lt;</span><span class="n">command</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">revision</span><span class="bp">&gt;...</span><span class="o">]</span> <span class="c1">-- [&lt;file&gt;...]'</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">fatal</span><span class="o">:</span> <span class="n">ambiguous</span> <span class="n">argument</span> <span class="bp">'</span><span class="n">as..HEAD'</span><span class="o">:</span> <span class="n">unknown</span> <span class="n">revision</span> <span class="n">or</span> <span class="n">path</span> <span class="n">not</span> <span class="k">in</span> <span class="n">the</span> <span class="n">working</span> <span class="n">tree.</span>
<span class="n">Use</span> <span class="bp">'</span><span class="c1">--' to separate paths from revisions, like this:</span>
<span class="bp">'</span><span class="n">git</span> <span class="bp">&lt;</span><span class="n">command</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">revision</span><span class="bp">&gt;...</span><span class="o">]</span> <span class="c1">-- [&lt;file&gt;...]'</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
<span class="n">usage</span><span class="o">:</span> <span class="n">git</span> <span class="n">diff</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">options</span><span class="bp">&gt;</span><span class="o">]</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span> <span class="o">[</span><span class="bp">&lt;</span><span class="n">commit</span><span class="bp">&gt;</span><span class="o">]]</span> <span class="o">[</span><span class="c1">--] [&lt;path&gt;...]</span>
</code></pre></div>



<a name="314742163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314742163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314742163">(Dec 08 2022 at 18:26)</a>:</h4>
<p>So it seems that I have a broken <code>port_status.py</code>. I'm on a very recent version of mathlib.</p>



<a name="314742627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314742627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314742627">(Dec 08 2022 at 18:29)</a>:</h4>
<p>The yaml file is corrupt again</p>



<a name="314742697"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314742697" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314742697">(Dec 08 2022 at 18:29)</a>:</h4>
<p>I've worked out how to fix the matching, thanks <span class="user-mention" data-user-id="325367">@Mauricio Collares</span>!</p>



<a name="314743726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314743726" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314743726">(Dec 08 2022 at 18:33)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/pull/17865">#17865</a></p>



<a name="314743890"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314743890" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314743890">(Dec 08 2022 at 18:34)</a>:</h4>
<p>The output is now</p>
<div class="codehilite" data-code-language="Markdown"><pre><span></span><code><span class="gh"># The following files have all dependencies ported already, and should be ready to port:</span>
<span class="gh"># Earlier items in the list are required in more places in mathlib.</span>
data.set.basic    -- contributions welcome mathlib4#892
data.nat.order.basic    -- WIP mathlib4#907 655994e298904d7e5bbd1e18c95defd7b543eb94
algebra.order.with_zero    -- WIP mathlib4#903 655994e298904d7e5bbd1e18c95defd7b543eb94
algebra.order.group.abs    -- mathlib4#896 a95b16cbade0f938fc24abd05412bde1e84bab9b
algebra.hom.group_instances
algebra.order.monoid.with_top    -- WIP mathlib4#902 655994e298904d7e5bbd1e18c95defd7b543eb94
algebra.group.opposite    -- mathlib4#912 655994e298904d7e5bbd1e18c95defd7b543eb94
algebra.group_with_zero.units.lemmas
lean_core.data.vector    -- mathlib4#834 e574b1a4e891376b0ef974b926da39e05da12a06
control.traversable.lemmas
data.string.basic    -- WIP <span class="ni">@javra</span>, needs major changes
data.nat.bits    -- -- ignore for now, will probably end up in core or std
algebra.order.positive.ring    -- mathlib4#911
algebra.order.group.inj_surj    -- mathlib4 <span class="ni">#916</span>
algebra.order.ring.inj_surj    -- mathlib4 <span class="ni">#917</span>
ring_theory.coprime.basic    -- mathlib4#899 a95b16cbade0f938fc24abd05412bde1e84bab9b
algebra.ring.idempotents    -- mathlib4 <span class="ni">#918</span>
order.hom.bounded    -- mathlib4#888 f1a2caaf51ef593799107fe9a8d5e411599f3996
algebra.euclidean_domain.basic    -- mathlib4 <span class="ni">#919</span>
algebra.order.group.type_tags
control.bifunctor    -- mathlib4#809 62a5626868683c104774de8d85b9855234ac807c
category_theory.functor.fully_faithful    -- WIP mathlib4#846 70d50ecfd4900dd6d328da39ab7ebd516abe4025
category_theory.bicategory.basic    -- depends on slice tactic
algebra.hom.equiv.type_tags
data.stream.init    -- mathlib4#849 e574b1a4e891376b0ef974b926da39e05da12a06
data.rbtree.init    -- WIP <span class="ni">@digama</span>
data.typevec    -- WIP j-loreaux mathlib4#891 39af7d3bf61a98e928812dbc3e16f4ea8b795ca3
control.monad.writer    -- mathlib4#866 f1a2caaf51ef593799107fe9a8d5e411599f3996
data.rbtree.default_lt    -- WIP <span class="ni">@digama</span>
algebra.group.with_one.basic
algebra.order.hom.monoid
category_theory.category.Kleisli    -- WIP mathlib4#843 70d50ecfd4900dd6d328da39ab7ebd516abe4025
lean_core.data.buffer.parser
data.two_pointing
data.vector3    -- WIP Thomas mathlib4#633 fd47bdf09e90f553519c712378e651975fe8c829
lean_core.data.dlist
algebra.group_with_zero.default    -- do not port default files
algebra.order.group.densely_ordered
algebra.order.ring.cone
algebra.order.sub.basic
algebra.ring.default    -- do not port default files
combinatorics.quiver.cast
data.erased
data.json
data.mllist    -- probably not needed
data.nat.even_odd_rec
data.sigma.default    -- do not port default files

<span class="gh"># The following files have their immediate dependencies ported already, and may be ready to port:</span>
data.ordmap.ordnode
data.string.defs    -- WIP <span class="ni">@javra</span>

<span class="gh"># The following files are marked as ported, but do not have a SYNCHRONIZED WITH MATHLIB4 label.</span>
algebra.group.ulift     -- mathlib4#906
algebra.order.field.defs     -- mathlib4#905
algebra.order.ring.canonical     -- mathlib4#905
algebra.order.ring.char_zero     -- mathlib4#905
algebra.order.ring.defs     -- mathlib4#905
category_theory.functor.default     -- mathlib4#822
control.basic     -- mathlib4#588

<span class="gh"># The following files are marked as ported, but have not been verified against a commit hash from mathlib.</span>

<span class="gh"># The following files have been modified since the commit at which they were verified.</span>
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' 8c53048add6ffacdda0b36c4917bfe37e209b0ba..HEAD -- src/algebra/hom/group.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' 76171581280d5b5d1e2d1f4f37e5420357bdc636..HEAD -- src/algebra/hom/equiv/basic.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' 99e8971dc62f1f7ecf693d75e75fbbabd55849de..HEAD -- src/algebra/order/monoid/lemmas.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' f1a2caaf51ef593799107fe9a8d5e411599f3996..HEAD -- src/algebra/order/monoid/type_tags.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' dad7ecf9a1feae63e6e49f07619b7087403fb8d4..HEAD -- src/algebra/order/monoid/with_zero/defs.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' 70d50ecfd4900dd6d328da39ab7ebd516abe4025..HEAD -- src/algebra/ring/basic.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' 70d50ecfd4900dd6d328da39ab7ebd516abe4025..HEAD -- src/algebra/ring/regular.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' a148d797a1094ab554ad4183a4ad6f130358ef64..HEAD -- src/algebra/ring/units.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' 8350c34a64b9bc3fc64335df8006bffcadc7baa6..HEAD -- src/combinatorics/quiver/basic.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' 62a5626868683c104774de8d85b9855234ac807c..HEAD -- src/combinatorics/quiver/path.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' d6aae1bcbd04b8de2022b9b83a5b5b10e10c777d..HEAD -- src/data/option/n_ary.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' d6aae1bcbd04b8de2022b9b83a5b5b10e10c777d..HEAD -- src/logic/basic.lean
git diff '--ignore-matching-lines=\`(&gt;\ THIS\ FILE\ IS\ SYNCHRONIZED\ WITH\ MATHLIB4\.|&gt;\ https://github\.com/leanprover\-community/mathlib4/pull/[0-9]*|&gt;\ Any\ changes\ to\ this\ file\ require\ a\ corresponding\ PR\ to\ mathlib4\.|)
' c4658a649d216f57e99621708b09dcb3dcccbd23..HEAD -- src/order/monotone.lean
</code></pre></div>



<a name="314744424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314744424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Notification Bot <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314744424">(Dec 08 2022 at 18:37)</a>:</h4>
<p>32 messages were moved here from <a class="stream-topic" data-stream-id="287929" href="/#narrow/stream/287929-mathlib4/topic/OfNat">#mathlib4 &gt; OfNat</a> by <span class="user-mention silent" data-user-id="310045">Eric Wieser</span>.</p>



<a name="314744847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314744847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314744847">(Dec 08 2022 at 18:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="112680">Johan Commelin</span> <a href="#narrow/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files/near/314741851">said</a>:</p>
<blockquote>
<p>Hmmm, when I run the script locally, I get all sorts of errors like</p>
</blockquote>
<p>What does <code>git --version</code> give?</p>



<a name="314744962"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314744962" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314744962">(Dec 08 2022 at 18:40)</a>:</h4>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">git</span> <span class="c1">--version</span>
<span class="n">git</span> <span class="n">version</span> <span class="mi">2</span><span class="bp">.</span><span class="mi">25</span><span class="bp">.</span><span class="mi">1</span>
</code></pre></div>



<a name="314745424"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314745424" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314745424">(Dec 08 2022 at 18:42)</a>:</h4>
<p>You need <a href="https://github.com/git/git/commit/296d4a94e7231a1d57356889f51bff57a1a3c5a1">at least 2.30.0 I think</a>; that's 2.5 years old</p>



<a name="314745570"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314745570" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314745570">(Dec 08 2022 at 18:43)</a>:</h4>
<p>We have some work ahead of us updating</p>
<div class="codehilite" data-code-language="Lean"><pre><span></span><code><span class="n">algebra.hom.group</span>
<span class="n">algebra.hom.equiv.basic</span>
<span class="n">algebra.order.monoid.lemmas</span>
<span class="n">algebra.order.monoid.type_tags</span>
<span class="n">algebra.order.monoid.with_zero.defs</span>
<span class="n">algebra.ring.basic</span>
<span class="n">algebra.ring.regular</span>
<span class="n">algebra.ring.units</span>
<span class="n">combinatorics.quiver.basic</span>
<span class="n">combinatorics.quiver.path</span>
<span class="n">data.option.n_ary</span>
<span class="n">logic.basic</span>
<span class="n">order.monotone</span>
</code></pre></div>
<p><span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="314745709"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314745709" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314745709">(Dec 08 2022 at 18:44)</a>:</h4>
<p>I'm sorry for contributing to this mess.</p>



<a name="314745764"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314745764" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314745764">(Dec 08 2022 at 18:44)</a>:</h4>
<p>I think some of these are caused by reverting <span class="user-mention" data-user-id="238446">@Anne Baanen</span>'s coe stuff</p>



<a name="314745783"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314745783" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314745783">(Dec 08 2022 at 18:44)</a>:</h4>
<p>Optimistically the reverted code was never ported and someone just wrote down the SHA badly</p>



<a name="314745825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314745825" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314745825">(Dec 08 2022 at 18:44)</a>:</h4>
<p>I'll disable <a href="https://math.commelin.net/files/port_status.html">#port-status</a> until I've updated git</p>



<a name="314745914"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314745914" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314745914">(Dec 08 2022 at 18:45)</a>:</h4>
<p>Can you get your bot to capture stderr and dump that on the page too?</p>



<a name="314746006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314746006" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314746006">(Dec 08 2022 at 18:45)</a>:</h4>
<p>Surely no need Johan -- your website is super convenient and I would much rather have a buggy version than none!</p>



<a name="314746499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314746499" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314746499">(Dec 08 2022 at 18:48)</a>:</h4>
<p>If upgrading git is hard, we could switch to letting github-pages host the status</p>



<a name="314751037"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314751037" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314751037">(Dec 08 2022 at 19:12)</a>:</h4>
<p><span class="user-mention" data-user-id="260507">@Heather Macbeth</span>, just because there are changes besides the mathlib4 sync label doesn't necessarily mean we have to do more porting work to make them match. Ideally, there would have already been matching PRs which do the updates, and all we have to do is check that all the changes have been made on the mathlib4 side.</p>
<p>Do we want to make this task the responsibility of the PR authors?</p>



<a name="314751539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314751539" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314751539">(Dec 08 2022 at 19:14)</a>:</h4>
<p>One way we could handle this is have a bot that opens issues for each file that's out of sync, along with the diff. The PR author is then responsible to linking to the relevant mathlib4 lines for each part of the diff to prove that everything was handled</p>



<a name="314751996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314751996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314751996">(Dec 08 2022 at 19:17)</a>:</h4>
<p>Yeah, I think something like this would be warranted to put some of the burden back onto the PR authors. Right now it's still manageable for us (i.e., people porting) to do it,  but 1500 files into the port it likely won't be anymore.</p>



<a name="314761239"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314761239" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314761239">(Dec 08 2022 at 20:04)</a>:</h4>
<p>That seems like a good plan.  But note there's a borderline case (which happened here with e.g. <code>algebra/order/monoid/with_zero/def</code>): the file was modified in mathlib3 after the commit from which the porter based the port, but before the file was frozen.  The author of the intermediate modification is less directly to blame in such a case.</p>



<a name="314774457"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314774457" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Heather Macbeth <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314774457">(Dec 08 2022 at 21:23)</a>:</h4>
<p>I've opened <a href="https://github.com/leanprover-community/mathlib4/pull/923">mathlib4#923</a> for a "re-port" of <code>algebra/order/monoid/with_zero/def</code>.  What should our procedure be here?  Do I modify the wiki?  Or maybe I should just wait til it's merged, and then modify the SHA listed on the wiki then?</p>



<a name="314776573"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314776573" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Jireh Loreaux <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314776573">(Dec 08 2022 at 21:35)</a>:</h4>
<p>I'm hoping this will be sufficiently rare that we don't need a procedure for this problem.</p>



<a name="314783325"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314783325" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314783325">(Dec 08 2022 at 22:22)</a>:</h4>
<p>I think just updating the sha after it merges is sufficient.</p>



<a name="314789897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314789897" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314789897">(Dec 08 2022 at 23:11)</a>:</h4>
<p>Ideally we'd make a list of PRs for each file</p>



<a name="314789934"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314789934" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314789934">(Dec 08 2022 at 23:11)</a>:</h4>
<p>Or PR/Sha pairs</p>



<a name="314810041"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314810041" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314810041">(Dec 09 2022 at 02:47)</a>:</h4>
<p>software upgrades complete<br>
<a href="https://math.commelin.net/files/port_status.html">#port-status</a> is working again</p>



<a name="314812644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314812644" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314812644">(Dec 09 2022 at 03:19)</a>:</h4>
<p>I've fixed the errors in the wiki that caused the errors at the top.</p>



<a name="314859737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314859737" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314859737">(Dec 09 2022 at 10:16)</a>:</h4>
<p>It looks like the <code>git diff</code> commands are being mangled by your markdown parser</p>



<a name="314863200"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314863200" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314863200">(Dec 09 2022 at 10:35)</a>:</h4>
<p>I'm just using regular pandoc.</p>



<a name="314863352"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314863352" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314863352">(Dec 09 2022 at 10:36)</a>:</h4>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nb">cd</span> ~/data/math/mathlib
git checkout master
git pull

./scripts/port_status.py &gt; ~/tmp/port_status.out <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>

cat ~/tmp/port_status.out <span class="se">\</span>
        <span class="p">|</span> sed -E <span class="s1">'s|mathlib4#([0-9]*)|[mathlib4#\1](https://github.com/leanprover-community/mathlib4/pull/\1)|'</span> <span class="se">\</span>
        <span class="p">|</span> sed -E <span class="s1">'s|([0-9a-f]{40})$|[`\1`](https://github.com/leanprover-community/mathlib/commit/\1)|'</span> <span class="se">\</span>
        <span class="p">|</span> sed -E <span class="s1">'s|^(git .*)|* `\1`|'</span> <span class="se">\</span>
        <span class="p">|</span> sed -E <span class="s1">'s|^([^#*][^ ]*)|* `\1`|'</span> <span class="se">\</span>
        <span class="p">|</span> pandoc --from<span class="o">=</span>markdown --to<span class="o">=</span>html --standalone --metadata <span class="nv">pagetitle</span><span class="o">=</span><span class="s2">"Port status"</span> <span class="se">\</span>
        &gt; port_status.html
</code></pre></div>



<a name="314863373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314863373" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314863373">(Dec 09 2022 at 10:36)</a>:</h4>
<p>This is the script I run</p>



<a name="314871005"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314871005" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314871005">(Dec 09 2022 at 11:18)</a>:</h4>
<p>The problem is that the git command contains embedded backticks (git's regex dialect has <code>\` </code> as "start of input")</p>



<a name="314871076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314871076" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314871076">(Dec 09 2022 at 11:19)</a>:</h4>
<p>Maybe replace with <code> ``\1`` </code> instead?</p>



<a name="314873943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314873943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314873943">(Dec 09 2022 at 11:33)</a>:</h4>
<p>done</p>



<a name="314873951"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314873951" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314873951">(Dec 09 2022 at 11:33)</a>:</h4>
<p>seems to have worked</p>



<a name="314874993"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314874993" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314874993">(Dec 09 2022 at 11:38)</a>:</h4>
<p>Something still seems off there</p>



<a name="314875057"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314875057" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314875057">(Dec 09 2022 at 11:38)</a>:</h4>
<p>Oh, it's because there is a literal newline character in the git command! (git's regex dialect doesn't support <code>\n</code>)</p>



<a name="314875399"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314875399" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314875399">(Dec 09 2022 at 11:40)</a>:</h4>
<p>So I guess you need the <code>git</code> match to be <code>git .*\n.*</code> or something similar (you might need to enable a multiline flag on sed somehow)</p>



<a name="314962628"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314962628" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314962628">(Dec 09 2022 at 19:04)</a>:</h4>
<p>Could we just omit the whole regex in the output of port_status?</p>



<a name="314962702"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314962702" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314962702">(Dec 09 2022 at 19:04)</a>:</h4>
<p>In my mind it makes the output much harder to use. I'm less likely to copy paste it because I can't see anymore what it does.</p>



<a name="314962943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314962943" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314962943">(Dec 09 2022 at 19:06)</a>:</h4>
<p>The regex is useful internally to decide which files to report, but it's not particularly important that we omit the comment lines when a human looks at the diff.</p>



<a name="314963199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314963199" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314963199">(Dec 09 2022 at 19:07)</a>:</h4>
<p>Yes, I think that makes a lot of sense</p>



<a name="314963776"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314963776" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314963776">(Dec 09 2022 at 19:10)</a>:</h4>
<p>The git diffs at the end could be links to github <code>/compare</code></p>



<a name="314965627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314965627" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314965627">(Dec 09 2022 at 19:20)</a>:</h4>
<p>oof, github has some hashes for the anchors so it's not easy to come up with e.g. <a href="https://github.com/leanprover-community/mathlib/compare/a95b16cbade0f938fc24abd05412bde1e84bab9b..HEAD#diff-b6ac6218aa8b61d28bfaaf0e84aa3594acc018f67af40255de392ffd46e7505a">https://github.com/leanprover-community/mathlib/compare/a95b16cbade0f938fc24abd05412bde1e84bab9b..HEAD#diff-b6ac6218aa8b61d28bfaaf0e84aa3594acc018f67af40255de392ffd46e7505a</a></p>



<a name="314965802"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314965802" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314965802">(Dec 09 2022 at 19:21)</a>:</h4>
<p>you probably have to scrape the page on the server side to come up with the link name</p>



<a name="314965847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314965847" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314965847">(Dec 09 2022 at 19:22)</a>:</h4>
<p>Maybe the compromise is a <code>--with-long-git-commands</code> flag</p>



<a name="314965933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314965933" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314965933">(Dec 09 2022 at 19:22)</a>:</h4>
<p>I added those back because when they weren't there, it turns out I got the command wrong</p>



<a name="314965996"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314965996" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314965996">(Dec 09 2022 at 19:22)</a>:</h4>
<p>We could just have the output include the diffs directly?</p>



<a name="314966043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/%23port-status%20not%20showing%20modified%20files/near/314966043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/.23port-status.20not.20showing.20modified.20files.html#314966043">(Dec 09 2022 at 19:23)</a>:</h4>
<p>(again, toggled by a flag)</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>