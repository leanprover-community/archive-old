---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/Applicative.20variants.20of.20Monadic.20functions.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Applicative.20variants.20of.20Monadic.20functions.html">Applicative variants of Monadic functions</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="313187036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Applicative%20variants%20of%20Monadic%20functions/near/313187036" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Applicative.20variants.20of.20Monadic.20functions.html#313187036">(Dec 01 2022 at 01:06)</a>:</h4>
<p>In the <code>data.list.defs</code> there are functions that are analogues of <code>List.mapIdxM</code> but are defined in terms of <code>Applicative</code> (from a type signature perspective, the only difference is replacing <code>Monad m</code> with <code>Applicative m</code></p>
<p>I could either:</p>
<ol>
<li><code>#align</code> the difference away, betting that zero code in <code>mathlib</code> cares about the difference &amp; it's covariant anyway.</li>
<li>Create <code>List.mapIdxA</code> variants with the <code>Applicative</code> constraint (with the con that the monadic variants are going to be better maintained over time b/c they are in <code>Std4</code>.</li>
</ol>
<p>In the Haskell community, people Care Deeply about constraining to the minimum set of laws; I don't get the sense than the Lean community does as much?</p>



<a name="313190071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Applicative%20variants%20of%20Monadic%20functions/near/313190071" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Scott Morrison <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Applicative.20variants.20of.20Monadic.20functions.html#313190071">(Dec 01 2022 at 01:44)</a>:</h4>
<p>My guess is that in the long run we may end up with none of the "Haskell category theory" in mathlib itself, and that it will all move out to std or a separate library.</p>



<a name="313213172"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Applicative%20variants%20of%20Monadic%20functions/near/313213172" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Applicative.20variants.20of.20Monadic.20functions.html#313213172">(Dec 01 2022 at 06:39)</a>:</h4>
<p>Note that the monadic functions actually perform better than the applicative ones even when both are applicable, because applicative functors require lots of mapping over closures to do anything with the value. It is a conscious design choice of lean 4 to stick to <code>Monad</code> functions</p>



<a name="313312163"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Applicative%20variants%20of%20Monadic%20functions/near/313312163" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Arien Malec <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/Applicative.20variants.20of.20Monadic.20functions.html#313312163">(Dec 01 2022 at 15:58)</a>:</h4>
<p>Cool -- I'll <code>#align</code> away these to the <code>Monad</code>-flavored ones in <code>Std</code></p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>