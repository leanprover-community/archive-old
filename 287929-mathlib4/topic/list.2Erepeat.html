---
layout: archive
title: Zulip Chat Archive
permalink: /stream/287929-mathlib4/topic/list.2Erepeat.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/index.html">mathlib4</a></h2>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html">list.repeat</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com/">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="317380629"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317380629" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317380629">(Dec 22 2022 at 14:36)</a>:</h4>
<p>Shouldn't <a href="https://leanprover-community.github.io/mathlib_docs/find/list.repeat">docs#list.repeat</a> be aligned to <a href="https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.replicate#doc">docs4#List.replicate</a> ?</p>



<a name="317387110"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317387110" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317387110">(Dec 22 2022 at 15:05)</a>:</h4>
<p>I did that in the Data.List.Basic PR</p>



<a name="317387407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317387407" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317387407">(Dec 22 2022 at 15:07)</a>:</h4>
<p>but where?</p>



<a name="317388250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317388250" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317388250">(Dec 22 2022 at 15:10)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/compare/master...Data.List.Basic#diff-24cd7b4c58b3dc50f8820910fa58c62f5143f72bb58d263387126354a6b7008a">https://github.com/leanprover-community/mathlib4/compare/master...Data.List.Basic#diff-24cd7b4c58b3dc50f8820910fa58c62f5143f72bb58d263387126354a6b7008a</a></p>



<a name="317388452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317388452" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317388452">(Dec 22 2022 at 15:11)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/pull/966/files#diff-24cd7b4c58b3dc50f8820910fa58c62f5143f72bb58d263387126354a6b7008aR54-R56">https://github.com/leanprover-community/mathlib4/pull/966/files#diff-24cd7b4c58b3dc50f8820910fa58c62f5143f72bb58d263387126354a6b7008aR54-R56</a></p>



<a name="317388492"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317388492" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317388492">(Dec 22 2022 at 15:11)</a>:</h4>
<p>ah right, it's not actually an <code>#align</code>, it's a redefinition + deprecation</p>



<a name="317388525"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317388525" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317388525">(Dec 22 2022 at 15:11)</a>:</h4>
<p>because the argument order is different</p>



<a name="317388751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317388751" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317388751">(Dec 22 2022 at 15:12)</a>:</h4>
<p>But maybe it should just be an <code>#align</code> (with <code>\_x</code>) to avoid the churn of all the downstream deprecations</p>



<a name="317388893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317388893" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317388893">(Dec 22 2022 at 15:13)</a>:</h4>
<p>Currently there are a bunch of lemmas about <code>replicate</code> without <code>#align</code></p>



<a name="317388925"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317388925" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317388925">(Dec 22 2022 at 15:13)</a>:</h4>
<p>for the same reason</p>



<a name="317389106"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317389106" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317389106">(Dec 22 2022 at 15:14)</a>:</h4>
<p>the functions about <code>repeat</code> are <code>#align</code>ed but also deprecated and the deprecation points you to the corresponding replicate theorem</p>



<a name="317389278"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317389278" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317389278">(Dec 22 2022 at 15:15)</a>:</h4>
<p>and I'm thinking now that if find/replace is really what we want then it should probably be an <code>#align</code> instead, even though this will generally break theorem statements</p>



<a name="317389480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317389480" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317389480">(Dec 22 2022 at 15:16)</a>:</h4>
<p>alternatively we could backport change the argument order</p>



<a name="317392541"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317392541" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317392541">(Dec 22 2022 at 15:31)</a>:</h4>
<p>Backporting seems reasonable to me</p>



<a name="317395530"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317395530" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Reid Barton <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317395530">(Dec 22 2022 at 15:46)</a>:</h4>
<p>I can't imagine there are very many uses of list.repeat in the first place</p>



<a name="317404942"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/317404942" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Martin Dvořák <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#317404942">(Dec 22 2022 at 16:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110032">Reid Barton</span> <a href="#narrow/stream/287929-mathlib4/topic/list.2Erepeat/near/317395530">said</a>:</p>
<blockquote>
<p>I can't imagine there are very many uses of list.repeat in the first place</p>
</blockquote>
<p>My project contains 432 uses of <code>list.repeat</code> and I am surprised it is so many.</p>



<a name="321574402"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321574402" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321574402">(Jan 16 2023 at 07:10)</a>:</h4>
<p>Mathlib 3 migrated to <a href="https://leanprover-community.github.io/mathlib_docs/find/list.replicate">docs#list.replicate</a> in <a href="https://github.com/leanprover-community/mathlib/pull/18127">#18127</a>. A follow-up cleanup <a href="https://github.com/leanprover-community/mathlib/pull/18181">#18181</a> and a Mathlib 4 <a href="https://github.com/leanprover-community/mathlib4/pull/1579">mathlib4#1579</a> that drops <code>List.repeat</code> are awaiting review.</p>



<a name="321574464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321574464" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321574464">(Jan 16 2023 at 07:11)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib4/pull/1579">mathlib4#1579</a></p>



<a name="321574658"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321574658" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321574658">(Jan 16 2023 at 07:13)</a>:</h4>
<p>I kicked the ml3 PR on the queue</p>



<a name="321574778"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321574778" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321574778">(Jan 16 2023 at 07:14)</a>:</h4>
<p><span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> Do you have plans to do that same with <code>multiset.repeat</code>?</p>



<a name="321574829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321574829" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321574829">(Jan 16 2023 at 07:14)</a>:</h4>
<p>No, I don't. Because <a href="https://leanprover-community.github.io/mathlib_docs/find/multiset.repeat">docs#multiset.repeat</a> is gone in <a href="https://github.com/leanprover-community/mathlib/pull/18127">#18127</a>, meet <a href="https://leanprover-community.github.io/mathlib_docs/find/multiset.replicate">docs#multiset.replicate</a>.</p>



<a name="321574850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321574850" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321574850">(Jan 16 2023 at 07:15)</a>:</h4>
<p>UPD: no, I'm wrong.</p>



<a name="321574858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321574858" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321574858">(Jan 16 2023 at 07:15)</a>:</h4>
<p>I was sure that it's gone. Let me check.</p>



<a name="321574910"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321574910" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321574910">(Jan 16 2023 at 07:16)</a>:</h4>
<p>It is gone; we have outdated docs.</p>



<a name="321574992"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321574992" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321574992">(Jan 16 2023 at 07:16)</a>:</h4>
<p>Ooh, you did both at once! Great!</p>



<a name="321575024"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321575024" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321575024">(Jan 16 2023 at 07:17)</a>:</h4>
<p>Also <code>vector.repeat</code></p>



<a name="321575043"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321575043" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Yury G. Kudryashov <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321575043">(Jan 16 2023 at 07:17)</a>:</h4>
<p>I should've mentioned this in the commit message.</p>



<a name="321575145"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321575145" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Johan Commelin <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321575145">(Jan 16 2023 at 07:18)</a>:</h4>
<p>That'll make Mario happy <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="321575195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321575195" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Mario Carneiro <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321575195">(Jan 16 2023 at 07:18)</a>:</h4>
<p>I pressed the merge button :)</p>



<a name="321609779"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/list.repeat/near/321609779" class="zl"><img src="https://leanprover-community.github.io/archive/assets/img/zulip2.png" alt="view this post on Zulip"></a> Eric Wieser <a href="https://leanprover-community.github.io/archive/stream/287929-mathlib4/topic/list.2Erepeat.html#321609779">(Jan 16 2023 at 10:48)</a>:</h4>
<p><del>I just added <a href="https://leanprover-community.github.io/mathlib_docs/find/fin.repeat">docs#fin.repeat</a>...</del> nevermind, that has different semantics</p>



{% endraw %}

<hr><p>Last updated: Jan 25 2023 at 00:06 UTC</p>